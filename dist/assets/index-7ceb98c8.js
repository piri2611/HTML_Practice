(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function qh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var uc={exports:{}},vi={},cc={exports:{}},H={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ss=Symbol.for("react.element"),Vh=Symbol.for("react.portal"),Kh=Symbol.for("react.fragment"),Qh=Symbol.for("react.strict_mode"),Gh=Symbol.for("react.profiler"),Jh=Symbol.for("react.provider"),Yh=Symbol.for("react.context"),Xh=Symbol.for("react.forward_ref"),Zh=Symbol.for("react.suspense"),ef=Symbol.for("react.memo"),tf=Symbol.for("react.lazy"),jl=Symbol.iterator;function nf(t){return t===null||typeof t!="object"?null:(t=jl&&t[jl]||t["@@iterator"],typeof t=="function"?t:null)}var dc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},hc=Object.assign,fc={};function rr(t,e,n){this.props=t,this.context=e,this.refs=fc,this.updater=n||dc}rr.prototype.isReactComponent={};rr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};rr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function pc(){}pc.prototype=rr.prototype;function Ta(t,e,n){this.props=t,this.context=e,this.refs=fc,this.updater=n||dc}var Ea=Ta.prototype=new pc;Ea.constructor=Ta;hc(Ea,rr.prototype);Ea.isPureReactComponent=!0;var Al=Array.isArray,mc=Object.prototype.hasOwnProperty,Ca={current:null},gc={key:!0,ref:!0,__self:!0,__source:!0};function yc(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)mc.call(e,r)&&!gc.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:ss,type:t,key:i,ref:o,props:s,_owner:Ca.current}}function rf(t,e){return{$$typeof:ss,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ja(t){return typeof t=="object"&&t!==null&&t.$$typeof===ss}function sf(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ol=/\/+/g;function Mi(t,e){return typeof t=="object"&&t!==null&&t.key!=null?sf(""+t.key):e.toString(36)}function Rs(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ss:case Vh:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Mi(o,0):r,Al(s)?(n="",t!=null&&(n=t.replace(Ol,"$&/")+"/"),Rs(s,e,n,"",function(u){return u})):s!=null&&(ja(s)&&(s=rf(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Ol,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Al(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Mi(i,a);o+=Rs(i,e,n,l,s)}else if(l=nf(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Mi(i,a++),o+=Rs(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ds(t,e,n){if(t==null)return t;var r=[],s=0;return Rs(t,r,"","",function(i){return e.call(n,i,s++)}),r}function of(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ee={current:null},Is={transition:null},af={ReactCurrentDispatcher:Ee,ReactCurrentBatchConfig:Is,ReactCurrentOwner:Ca};function vc(){throw Error("act(...) is not supported in production builds of React.")}H.Children={map:ds,forEach:function(t,e,n){ds(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ds(t,function(){e++}),e},toArray:function(t){return ds(t,function(e){return e})||[]},only:function(t){if(!ja(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};H.Component=rr;H.Fragment=Kh;H.Profiler=Gh;H.PureComponent=Ta;H.StrictMode=Qh;H.Suspense=Zh;H.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=af;H.act=vc;H.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=hc({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Ca.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)mc.call(e,l)&&!gc.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:ss,type:t.type,key:s,ref:i,props:r,_owner:o}};H.createContext=function(t){return t={$$typeof:Yh,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Jh,_context:t},t.Consumer=t};H.createElement=yc;H.createFactory=function(t){var e=yc.bind(null,t);return e.type=t,e};H.createRef=function(){return{current:null}};H.forwardRef=function(t){return{$$typeof:Xh,render:t}};H.isValidElement=ja;H.lazy=function(t){return{$$typeof:tf,_payload:{_status:-1,_result:t},_init:of}};H.memo=function(t,e){return{$$typeof:ef,type:t,compare:e===void 0?null:e}};H.startTransition=function(t){var e=Is.transition;Is.transition={};try{t()}finally{Is.transition=e}};H.unstable_act=vc;H.useCallback=function(t,e){return Ee.current.useCallback(t,e)};H.useContext=function(t){return Ee.current.useContext(t)};H.useDebugValue=function(){};H.useDeferredValue=function(t){return Ee.current.useDeferredValue(t)};H.useEffect=function(t,e){return Ee.current.useEffect(t,e)};H.useId=function(){return Ee.current.useId()};H.useImperativeHandle=function(t,e,n){return Ee.current.useImperativeHandle(t,e,n)};H.useInsertionEffect=function(t,e){return Ee.current.useInsertionEffect(t,e)};H.useLayoutEffect=function(t,e){return Ee.current.useLayoutEffect(t,e)};H.useMemo=function(t,e){return Ee.current.useMemo(t,e)};H.useReducer=function(t,e,n){return Ee.current.useReducer(t,e,n)};H.useRef=function(t){return Ee.current.useRef(t)};H.useState=function(t){return Ee.current.useState(t)};H.useSyncExternalStore=function(t,e,n){return Ee.current.useSyncExternalStore(t,e,n)};H.useTransition=function(){return Ee.current.useTransition()};H.version="18.3.1";cc.exports=H;var I=cc.exports;const Sr=qh(I);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lf=I,uf=Symbol.for("react.element"),cf=Symbol.for("react.fragment"),df=Object.prototype.hasOwnProperty,hf=lf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ff={key:!0,ref:!0,__self:!0,__source:!0};function wc(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)df.call(e,r)&&!ff.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:uf,type:t,key:i,ref:o,props:s,_owner:hf.current}}vi.Fragment=cf;vi.jsx=wc;vi.jsxs=wc;uc.exports=vi;var c=uc.exports,ko={},_c={exports:{}},Fe={},kc={exports:{}},bc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(C,$){var S=C.length;C.push($);e:for(;0<S;){var R=S-1>>>1,z=C[R];if(0<s(z,$))C[R]=$,C[S]=z,S=R;else break e}}function n(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var $=C[0],S=C.pop();if(S!==$){C[0]=S;e:for(var R=0,z=C.length,Z=z>>>1;R<Z;){var Y=2*(R+1)-1,Q=C[Y],M=Y+1,we=C[M];if(0>s(Q,S))M<z&&0>s(we,Q)?(C[R]=we,C[M]=S,R=M):(C[R]=Q,C[Y]=S,R=Y);else if(M<z&&0>s(we,S))C[R]=we,C[M]=S,R=M;else break e}}return $}function s(C,$){var S=C.sortIndex-$.sortIndex;return S!==0?S:C.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,m=null,f=3,y=!1,v=!1,w=!1,k=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(C){for(var $=n(u);$!==null;){if($.callback===null)r(u);else if($.startTime<=C)r(u),$.sortIndex=$.expirationTime,e(l,$);else break;$=n(u)}}function _(C){if(w=!1,g(C),!v)if(n(l)!==null)v=!0,lt(T);else{var $=n(u);$!==null&&ut(_,$.startTime-C)}}function T(C,$){v=!1,w&&(w=!1,p(j),j=-1),y=!0;var S=f;try{for(g($),m=n(l);m!==null&&(!(m.expirationTime>$)||C&&!F());){var R=m.callback;if(typeof R=="function"){m.callback=null,f=m.priorityLevel;var z=R(m.expirationTime<=$);$=t.unstable_now(),typeof z=="function"?m.callback=z:m===n(l)&&r(l),g($)}else r(l);m=n(l)}if(m!==null)var Z=!0;else{var Y=n(u);Y!==null&&ut(_,Y.startTime-$),Z=!1}return Z}finally{m=null,f=S,y=!1}}var b=!1,E=null,j=-1,D=5,O=-1;function F(){return!(t.unstable_now()-O<D)}function je(){if(E!==null){var C=t.unstable_now();O=C;var $=!0;try{$=E(!0,C)}finally{$?Ae():(b=!1,E=null)}}else b=!1}var Ae;if(typeof h=="function")Ae=function(){h(je)};else if(typeof MessageChannel<"u"){var Yt=new MessageChannel,at=Yt.port2;Yt.port1.onmessage=je,Ae=function(){at.postMessage(null)}}else Ae=function(){k(je,0)};function lt(C){E=C,b||(b=!0,Ae())}function ut(C,$){j=k(function(){C(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(C){C.callback=null},t.unstable_continueExecution=function(){v||y||(v=!0,lt(T))},t.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<C?Math.floor(1e3/C):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(C){switch(f){case 1:case 2:case 3:var $=3;break;default:$=f}var S=f;f=$;try{return C()}finally{f=S}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(C,$){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var S=f;f=C;try{return $()}finally{f=S}},t.unstable_scheduleCallback=function(C,$,S){var R=t.unstable_now();switch(typeof S=="object"&&S!==null?(S=S.delay,S=typeof S=="number"&&0<S?R+S:R):S=R,C){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=S+z,C={id:d++,callback:$,priorityLevel:C,startTime:S,expirationTime:z,sortIndex:-1},S>R?(C.sortIndex=S,e(u,C),n(l)===null&&C===n(u)&&(w?(p(j),j=-1):w=!0,ut(_,S-R))):(C.sortIndex=z,e(l,C),v||y||(v=!0,lt(T))),C},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(C){var $=f;return function(){var S=f;f=$;try{return C.apply(this,arguments)}finally{f=S}}}})(bc);kc.exports=bc;var pf=kc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mf=I,Be=pf;function x(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Sc=new Set,Lr={};function yn(t,e){Jn(t,e),Jn(t+"Capture",e)}function Jn(t,e){for(Lr[t]=e,t=0;t<e.length;t++)Sc.add(e[t])}var St=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bo=Object.prototype.hasOwnProperty,gf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Pl={},Nl={};function yf(t){return bo.call(Nl,t)?!0:bo.call(Pl,t)?!1:gf.test(t)?Nl[t]=!0:(Pl[t]=!0,!1)}function vf(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function wf(t,e,n,r){if(e===null||typeof e>"u"||vf(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ce(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var ve={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ve[t]=new Ce(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ve[e]=new Ce(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ve[t]=new Ce(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ve[t]=new Ce(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ve[t]=new Ce(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ve[t]=new Ce(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ve[t]=new Ce(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ve[t]=new Ce(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ve[t]=new Ce(t,5,!1,t.toLowerCase(),null,!1,!1)});var Aa=/[\-:]([a-z])/g;function Oa(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Aa,Oa);ve[e]=new Ce(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Aa,Oa);ve[e]=new Ce(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Aa,Oa);ve[e]=new Ce(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ve[t]=new Ce(t,1,!1,t.toLowerCase(),null,!1,!1)});ve.xlinkHref=new Ce("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ve[t]=new Ce(t,1,!1,t.toLowerCase(),null,!0,!0)});function Pa(t,e,n,r){var s=ve.hasOwnProperty(e)?ve[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(wf(e,n,s,r)&&(n=null),r||s===null?yf(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ct=mf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,hs=Symbol.for("react.element"),On=Symbol.for("react.portal"),Pn=Symbol.for("react.fragment"),Na=Symbol.for("react.strict_mode"),So=Symbol.for("react.profiler"),xc=Symbol.for("react.provider"),Tc=Symbol.for("react.context"),Ra=Symbol.for("react.forward_ref"),xo=Symbol.for("react.suspense"),To=Symbol.for("react.suspense_list"),Ia=Symbol.for("react.memo"),Ot=Symbol.for("react.lazy"),Ec=Symbol.for("react.offscreen"),Rl=Symbol.iterator;function lr(t){return t===null||typeof t!="object"?null:(t=Rl&&t[Rl]||t["@@iterator"],typeof t=="function"?t:null)}var re=Object.assign,zi;function vr(t){if(zi===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);zi=e&&e[1]||""}return`
`+zi+t}var Hi=!1;function Bi(t,e){if(!t||Hi)return"";Hi=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Hi=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?vr(t):""}function _f(t){switch(t.tag){case 5:return vr(t.type);case 16:return vr("Lazy");case 13:return vr("Suspense");case 19:return vr("SuspenseList");case 0:case 2:case 15:return t=Bi(t.type,!1),t;case 11:return t=Bi(t.type.render,!1),t;case 1:return t=Bi(t.type,!0),t;default:return""}}function Eo(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Pn:return"Fragment";case On:return"Portal";case So:return"Profiler";case Na:return"StrictMode";case xo:return"Suspense";case To:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Tc:return(t.displayName||"Context")+".Consumer";case xc:return(t._context.displayName||"Context")+".Provider";case Ra:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ia:return e=t.displayName||null,e!==null?e:Eo(t.type)||"Memo";case Ot:e=t._payload,t=t._init;try{return Eo(t(e))}catch{}}return null}function kf(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Eo(e);case 8:return e===Na?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Vt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Cc(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function bf(t){var e=Cc(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function fs(t){t._valueTracker||(t._valueTracker=bf(t))}function jc(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Cc(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function qs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Co(t,e){var n=e.checked;return re({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Il(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Vt(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Ac(t,e){e=e.checked,e!=null&&Pa(t,"checked",e,!1)}function jo(t,e){Ac(t,e);var n=Vt(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ao(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ao(t,e.type,Vt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ll(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ao(t,e,n){(e!=="number"||qs(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var wr=Array.isArray;function Fn(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Vt(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Oo(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(x(91));return re({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ul(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(x(92));if(wr(n)){if(1<n.length)throw Error(x(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Vt(n)}}function Oc(t,e){var n=Vt(e.value),r=Vt(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function $l(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Pc(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Po(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Pc(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ps,Nc=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ps=ps||document.createElement("div"),ps.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ps.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ur(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var xr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Sf=["Webkit","ms","Moz","O"];Object.keys(xr).forEach(function(t){Sf.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),xr[e]=xr[t]})});function Rc(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||xr.hasOwnProperty(t)&&xr[t]?(""+e).trim():e+"px"}function Ic(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Rc(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var xf=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function No(t,e){if(e){if(xf[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(x(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(x(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(x(61))}if(e.style!=null&&typeof e.style!="object")throw Error(x(62))}}function Ro(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Io=null;function La(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Lo=null,Wn=null,qn=null;function Dl(t){if(t=as(t)){if(typeof Lo!="function")throw Error(x(280));var e=t.stateNode;e&&(e=Si(e),Lo(t.stateNode,t.type,e))}}function Lc(t){Wn?qn?qn.push(t):qn=[t]:Wn=t}function Uc(){if(Wn){var t=Wn,e=qn;if(qn=Wn=null,Dl(t),e)for(t=0;t<e.length;t++)Dl(e[t])}}function $c(t,e){return t(e)}function Dc(){}var Fi=!1;function Mc(t,e,n){if(Fi)return t(e,n);Fi=!0;try{return $c(t,e,n)}finally{Fi=!1,(Wn!==null||qn!==null)&&(Dc(),Uc())}}function $r(t,e){var n=t.stateNode;if(n===null)return null;var r=Si(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(x(231,e,typeof n));return n}var Uo=!1;if(St)try{var ur={};Object.defineProperty(ur,"passive",{get:function(){Uo=!0}}),window.addEventListener("test",ur,ur),window.removeEventListener("test",ur,ur)}catch{Uo=!1}function Tf(t,e,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Tr=!1,Vs=null,Ks=!1,$o=null,Ef={onError:function(t){Tr=!0,Vs=t}};function Cf(t,e,n,r,s,i,o,a,l){Tr=!1,Vs=null,Tf.apply(Ef,arguments)}function jf(t,e,n,r,s,i,o,a,l){if(Cf.apply(this,arguments),Tr){if(Tr){var u=Vs;Tr=!1,Vs=null}else throw Error(x(198));Ks||(Ks=!0,$o=u)}}function vn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function zc(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ml(t){if(vn(t)!==t)throw Error(x(188))}function Af(t){var e=t.alternate;if(!e){if(e=vn(t),e===null)throw Error(x(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Ml(s),t;if(i===r)return Ml(s),e;i=i.sibling}throw Error(x(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(x(189))}}if(n.alternate!==r)throw Error(x(190))}if(n.tag!==3)throw Error(x(188));return n.stateNode.current===n?t:e}function Hc(t){return t=Af(t),t!==null?Bc(t):null}function Bc(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Bc(t);if(e!==null)return e;t=t.sibling}return null}var Fc=Be.unstable_scheduleCallback,zl=Be.unstable_cancelCallback,Of=Be.unstable_shouldYield,Pf=Be.unstable_requestPaint,oe=Be.unstable_now,Nf=Be.unstable_getCurrentPriorityLevel,Ua=Be.unstable_ImmediatePriority,Wc=Be.unstable_UserBlockingPriority,Qs=Be.unstable_NormalPriority,Rf=Be.unstable_LowPriority,qc=Be.unstable_IdlePriority,wi=null,ft=null;function If(t){if(ft&&typeof ft.onCommitFiberRoot=="function")try{ft.onCommitFiberRoot(wi,t,void 0,(t.current.flags&128)===128)}catch{}}var st=Math.clz32?Math.clz32:$f,Lf=Math.log,Uf=Math.LN2;function $f(t){return t>>>=0,t===0?32:31-(Lf(t)/Uf|0)|0}var ms=64,gs=4194304;function _r(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Gs(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=_r(a):(i&=o,i!==0&&(r=_r(i)))}else o=n&~s,o!==0?r=_r(o):i!==0&&(r=_r(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-st(e),s=1<<n,r|=t[n],e&=~s;return r}function Df(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mf(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-st(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=Df(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Do(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Vc(){var t=ms;return ms<<=1,!(ms&4194240)&&(ms=64),t}function Wi(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function is(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-st(e),t[e]=n}function zf(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-st(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function $a(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-st(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var W=0;function Kc(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Qc,Da,Gc,Jc,Yc,Mo=!1,ys=[],Dt=null,Mt=null,zt=null,Dr=new Map,Mr=new Map,Rt=[],Hf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hl(t,e){switch(t){case"focusin":case"focusout":Dt=null;break;case"dragenter":case"dragleave":Mt=null;break;case"mouseover":case"mouseout":zt=null;break;case"pointerover":case"pointerout":Dr.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mr.delete(e.pointerId)}}function cr(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=as(e),e!==null&&Da(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Bf(t,e,n,r,s){switch(e){case"focusin":return Dt=cr(Dt,t,e,n,r,s),!0;case"dragenter":return Mt=cr(Mt,t,e,n,r,s),!0;case"mouseover":return zt=cr(zt,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Dr.set(i,cr(Dr.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Mr.set(i,cr(Mr.get(i)||null,t,e,n,r,s)),!0}return!1}function Xc(t){var e=on(t.target);if(e!==null){var n=vn(e);if(n!==null){if(e=n.tag,e===13){if(e=zc(n),e!==null){t.blockedOn=e,Yc(t.priority,function(){Gc(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ls(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=zo(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Io=r,n.target.dispatchEvent(r),Io=null}else return e=as(n),e!==null&&Da(e),t.blockedOn=n,!1;e.shift()}return!0}function Bl(t,e,n){Ls(t)&&n.delete(e)}function Ff(){Mo=!1,Dt!==null&&Ls(Dt)&&(Dt=null),Mt!==null&&Ls(Mt)&&(Mt=null),zt!==null&&Ls(zt)&&(zt=null),Dr.forEach(Bl),Mr.forEach(Bl)}function dr(t,e){t.blockedOn===e&&(t.blockedOn=null,Mo||(Mo=!0,Be.unstable_scheduleCallback(Be.unstable_NormalPriority,Ff)))}function zr(t){function e(s){return dr(s,t)}if(0<ys.length){dr(ys[0],t);for(var n=1;n<ys.length;n++){var r=ys[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Dt!==null&&dr(Dt,t),Mt!==null&&dr(Mt,t),zt!==null&&dr(zt,t),Dr.forEach(e),Mr.forEach(e),n=0;n<Rt.length;n++)r=Rt[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Rt.length&&(n=Rt[0],n.blockedOn===null);)Xc(n),n.blockedOn===null&&Rt.shift()}var Vn=Ct.ReactCurrentBatchConfig,Js=!0;function Wf(t,e,n,r){var s=W,i=Vn.transition;Vn.transition=null;try{W=1,Ma(t,e,n,r)}finally{W=s,Vn.transition=i}}function qf(t,e,n,r){var s=W,i=Vn.transition;Vn.transition=null;try{W=4,Ma(t,e,n,r)}finally{W=s,Vn.transition=i}}function Ma(t,e,n,r){if(Js){var s=zo(t,e,n,r);if(s===null)eo(t,e,r,Ys,n),Hl(t,r);else if(Bf(s,t,e,n,r))r.stopPropagation();else if(Hl(t,r),e&4&&-1<Hf.indexOf(t)){for(;s!==null;){var i=as(s);if(i!==null&&Qc(i),i=zo(t,e,n,r),i===null&&eo(t,e,r,Ys,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else eo(t,e,r,null,n)}}var Ys=null;function zo(t,e,n,r){if(Ys=null,t=La(r),t=on(t),t!==null)if(e=vn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=zc(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ys=t,null}function Zc(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Nf()){case Ua:return 1;case Wc:return 4;case Qs:case Rf:return 16;case qc:return 536870912;default:return 16}default:return 16}}var Ut=null,za=null,Us=null;function ed(){if(Us)return Us;var t,e=za,n=e.length,r,s="value"in Ut?Ut.value:Ut.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Us=s.slice(t,1<r?1-r:void 0)}function $s(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function vs(){return!0}function Fl(){return!1}function We(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?vs:Fl,this.isPropagationStopped=Fl,this}return re(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=vs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=vs)},persist:function(){},isPersistent:vs}),e}var sr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ha=We(sr),os=re({},sr,{view:0,detail:0}),Vf=We(os),qi,Vi,hr,_i=re({},os,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ba,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==hr&&(hr&&t.type==="mousemove"?(qi=t.screenX-hr.screenX,Vi=t.screenY-hr.screenY):Vi=qi=0,hr=t),qi)},movementY:function(t){return"movementY"in t?t.movementY:Vi}}),Wl=We(_i),Kf=re({},_i,{dataTransfer:0}),Qf=We(Kf),Gf=re({},os,{relatedTarget:0}),Ki=We(Gf),Jf=re({},sr,{animationName:0,elapsedTime:0,pseudoElement:0}),Yf=We(Jf),Xf=re({},sr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Zf=We(Xf),ep=re({},sr,{data:0}),ql=We(ep),tp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},np={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sp(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=rp[t])?!!e[t]:!1}function Ba(){return sp}var ip=re({},os,{key:function(t){if(t.key){var e=tp[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=$s(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?np[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ba,charCode:function(t){return t.type==="keypress"?$s(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?$s(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),op=We(ip),ap=re({},_i,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vl=We(ap),lp=re({},os,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ba}),up=We(lp),cp=re({},sr,{propertyName:0,elapsedTime:0,pseudoElement:0}),dp=We(cp),hp=re({},_i,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),fp=We(hp),pp=[9,13,27,32],Fa=St&&"CompositionEvent"in window,Er=null;St&&"documentMode"in document&&(Er=document.documentMode);var mp=St&&"TextEvent"in window&&!Er,td=St&&(!Fa||Er&&8<Er&&11>=Er),Kl=String.fromCharCode(32),Ql=!1;function nd(t,e){switch(t){case"keyup":return pp.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Nn=!1;function gp(t,e){switch(t){case"compositionend":return rd(e);case"keypress":return e.which!==32?null:(Ql=!0,Kl);case"textInput":return t=e.data,t===Kl&&Ql?null:t;default:return null}}function yp(t,e){if(Nn)return t==="compositionend"||!Fa&&nd(t,e)?(t=ed(),Us=za=Ut=null,Nn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return td&&e.locale!=="ko"?null:e.data;default:return null}}var vp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gl(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!vp[t.type]:e==="textarea"}function sd(t,e,n,r){Lc(r),e=Xs(e,"onChange"),0<e.length&&(n=new Ha("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Cr=null,Hr=null;function wp(t){md(t,0)}function ki(t){var e=Ln(t);if(jc(e))return t}function _p(t,e){if(t==="change")return e}var id=!1;if(St){var Qi;if(St){var Gi="oninput"in document;if(!Gi){var Jl=document.createElement("div");Jl.setAttribute("oninput","return;"),Gi=typeof Jl.oninput=="function"}Qi=Gi}else Qi=!1;id=Qi&&(!document.documentMode||9<document.documentMode)}function Yl(){Cr&&(Cr.detachEvent("onpropertychange",od),Hr=Cr=null)}function od(t){if(t.propertyName==="value"&&ki(Hr)){var e=[];sd(e,Hr,t,La(t)),Mc(wp,e)}}function kp(t,e,n){t==="focusin"?(Yl(),Cr=e,Hr=n,Cr.attachEvent("onpropertychange",od)):t==="focusout"&&Yl()}function bp(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ki(Hr)}function Sp(t,e){if(t==="click")return ki(e)}function xp(t,e){if(t==="input"||t==="change")return ki(e)}function Tp(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ot=typeof Object.is=="function"?Object.is:Tp;function Br(t,e){if(ot(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!bo.call(e,s)||!ot(t[s],e[s]))return!1}return!0}function Xl(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Zl(t,e){var n=Xl(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Xl(n)}}function ad(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ad(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ld(){for(var t=window,e=qs();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=qs(t.document)}return e}function Wa(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Ep(t){var e=ld(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&ad(n.ownerDocument.documentElement,n)){if(r!==null&&Wa(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Zl(n,i);var o=Zl(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Cp=St&&"documentMode"in document&&11>=document.documentMode,Rn=null,Ho=null,jr=null,Bo=!1;function eu(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Bo||Rn==null||Rn!==qs(r)||(r=Rn,"selectionStart"in r&&Wa(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),jr&&Br(jr,r)||(jr=r,r=Xs(Ho,"onSelect"),0<r.length&&(e=new Ha("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Rn)))}function ws(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var In={animationend:ws("Animation","AnimationEnd"),animationiteration:ws("Animation","AnimationIteration"),animationstart:ws("Animation","AnimationStart"),transitionend:ws("Transition","TransitionEnd")},Ji={},ud={};St&&(ud=document.createElement("div").style,"AnimationEvent"in window||(delete In.animationend.animation,delete In.animationiteration.animation,delete In.animationstart.animation),"TransitionEvent"in window||delete In.transitionend.transition);function bi(t){if(Ji[t])return Ji[t];if(!In[t])return t;var e=In[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in ud)return Ji[t]=e[n];return t}var cd=bi("animationend"),dd=bi("animationiteration"),hd=bi("animationstart"),fd=bi("transitionend"),pd=new Map,tu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qt(t,e){pd.set(t,e),yn(e,[t])}for(var Yi=0;Yi<tu.length;Yi++){var Xi=tu[Yi],jp=Xi.toLowerCase(),Ap=Xi[0].toUpperCase()+Xi.slice(1);Qt(jp,"on"+Ap)}Qt(cd,"onAnimationEnd");Qt(dd,"onAnimationIteration");Qt(hd,"onAnimationStart");Qt("dblclick","onDoubleClick");Qt("focusin","onFocus");Qt("focusout","onBlur");Qt(fd,"onTransitionEnd");Jn("onMouseEnter",["mouseout","mouseover"]);Jn("onMouseLeave",["mouseout","mouseover"]);Jn("onPointerEnter",["pointerout","pointerover"]);Jn("onPointerLeave",["pointerout","pointerover"]);yn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yn("onBeforeInput",["compositionend","keypress","textInput","paste"]);yn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Op=new Set("cancel close invalid load scroll toggle".split(" ").concat(kr));function nu(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,jf(r,e,void 0,t),t.currentTarget=null}function md(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;nu(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;nu(s,a,u),i=l}}}if(Ks)throw t=$o,Ks=!1,$o=null,t}function G(t,e){var n=e[Ko];n===void 0&&(n=e[Ko]=new Set);var r=t+"__bubble";n.has(r)||(gd(e,t,2,!1),n.add(r))}function Zi(t,e,n){var r=0;e&&(r|=4),gd(n,t,r,e)}var _s="_reactListening"+Math.random().toString(36).slice(2);function Fr(t){if(!t[_s]){t[_s]=!0,Sc.forEach(function(n){n!=="selectionchange"&&(Op.has(n)||Zi(n,!1,t),Zi(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[_s]||(e[_s]=!0,Zi("selectionchange",!1,e))}}function gd(t,e,n,r){switch(Zc(e)){case 1:var s=Wf;break;case 4:s=qf;break;default:s=Ma}n=s.bind(null,e,n,t),s=void 0,!Uo||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function eo(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=on(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Mc(function(){var u=i,d=La(n),m=[];e:{var f=pd.get(t);if(f!==void 0){var y=Ha,v=t;switch(t){case"keypress":if($s(n)===0)break e;case"keydown":case"keyup":y=op;break;case"focusin":v="focus",y=Ki;break;case"focusout":v="blur",y=Ki;break;case"beforeblur":case"afterblur":y=Ki;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Wl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Qf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=up;break;case cd:case dd:case hd:y=Yf;break;case fd:y=dp;break;case"scroll":y=Vf;break;case"wheel":y=fp;break;case"copy":case"cut":case"paste":y=Zf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Vl}var w=(e&4)!==0,k=!w&&t==="scroll",p=w?f!==null?f+"Capture":null:f;w=[];for(var h=u,g;h!==null;){g=h;var _=g.stateNode;if(g.tag===5&&_!==null&&(g=_,p!==null&&(_=$r(h,p),_!=null&&w.push(Wr(h,_,g)))),k)break;h=h.return}0<w.length&&(f=new y(f,v,null,n,d),m.push({event:f,listeners:w}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",f&&n!==Io&&(v=n.relatedTarget||n.fromElement)&&(on(v)||v[xt]))break e;if((y||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,y?(v=n.relatedTarget||n.toElement,y=u,v=v?on(v):null,v!==null&&(k=vn(v),v!==k||v.tag!==5&&v.tag!==6)&&(v=null)):(y=null,v=u),y!==v)){if(w=Wl,_="onMouseLeave",p="onMouseEnter",h="mouse",(t==="pointerout"||t==="pointerover")&&(w=Vl,_="onPointerLeave",p="onPointerEnter",h="pointer"),k=y==null?f:Ln(y),g=v==null?f:Ln(v),f=new w(_,h+"leave",y,n,d),f.target=k,f.relatedTarget=g,_=null,on(d)===u&&(w=new w(p,h+"enter",v,n,d),w.target=g,w.relatedTarget=k,_=w),k=_,y&&v)t:{for(w=y,p=v,h=0,g=w;g;g=_n(g))h++;for(g=0,_=p;_;_=_n(_))g++;for(;0<h-g;)w=_n(w),h--;for(;0<g-h;)p=_n(p),g--;for(;h--;){if(w===p||p!==null&&w===p.alternate)break t;w=_n(w),p=_n(p)}w=null}else w=null;y!==null&&ru(m,f,y,w,!1),v!==null&&k!==null&&ru(m,k,v,w,!0)}}e:{if(f=u?Ln(u):window,y=f.nodeName&&f.nodeName.toLowerCase(),y==="select"||y==="input"&&f.type==="file")var T=_p;else if(Gl(f))if(id)T=xp;else{T=bp;var b=kp}else(y=f.nodeName)&&y.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(T=Sp);if(T&&(T=T(t,u))){sd(m,T,n,d);break e}b&&b(t,f,u),t==="focusout"&&(b=f._wrapperState)&&b.controlled&&f.type==="number"&&Ao(f,"number",f.value)}switch(b=u?Ln(u):window,t){case"focusin":(Gl(b)||b.contentEditable==="true")&&(Rn=b,Ho=u,jr=null);break;case"focusout":jr=Ho=Rn=null;break;case"mousedown":Bo=!0;break;case"contextmenu":case"mouseup":case"dragend":Bo=!1,eu(m,n,d);break;case"selectionchange":if(Cp)break;case"keydown":case"keyup":eu(m,n,d)}var E;if(Fa)e:{switch(t){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Nn?nd(t,n)&&(j="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(td&&n.locale!=="ko"&&(Nn||j!=="onCompositionStart"?j==="onCompositionEnd"&&Nn&&(E=ed()):(Ut=d,za="value"in Ut?Ut.value:Ut.textContent,Nn=!0)),b=Xs(u,j),0<b.length&&(j=new ql(j,t,null,n,d),m.push({event:j,listeners:b}),E?j.data=E:(E=rd(n),E!==null&&(j.data=E)))),(E=mp?gp(t,n):yp(t,n))&&(u=Xs(u,"onBeforeInput"),0<u.length&&(d=new ql("onBeforeInput","beforeinput",null,n,d),m.push({event:d,listeners:u}),d.data=E))}md(m,e)})}function Wr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Xs(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=$r(t,n),i!=null&&r.unshift(Wr(t,i,s)),i=$r(t,e),i!=null&&r.push(Wr(t,i,s))),t=t.return}return r}function _n(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ru(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=$r(n,i),l!=null&&o.unshift(Wr(n,l,a))):s||(l=$r(n,i),l!=null&&o.push(Wr(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Pp=/\r\n?/g,Np=/\u0000|\uFFFD/g;function su(t){return(typeof t=="string"?t:""+t).replace(Pp,`
`).replace(Np,"")}function ks(t,e,n){if(e=su(e),su(t)!==e&&n)throw Error(x(425))}function Zs(){}var Fo=null,Wo=null;function qo(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Vo=typeof setTimeout=="function"?setTimeout:void 0,Rp=typeof clearTimeout=="function"?clearTimeout:void 0,iu=typeof Promise=="function"?Promise:void 0,Ip=typeof queueMicrotask=="function"?queueMicrotask:typeof iu<"u"?function(t){return iu.resolve(null).then(t).catch(Lp)}:Vo;function Lp(t){setTimeout(function(){throw t})}function to(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),zr(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);zr(e)}function Ht(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ou(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ir=Math.random().toString(36).slice(2),ht="__reactFiber$"+ir,qr="__reactProps$"+ir,xt="__reactContainer$"+ir,Ko="__reactEvents$"+ir,Up="__reactListeners$"+ir,$p="__reactHandles$"+ir;function on(t){var e=t[ht];if(e)return e;for(var n=t.parentNode;n;){if(e=n[xt]||n[ht]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ou(t);t!==null;){if(n=t[ht])return n;t=ou(t)}return e}t=n,n=t.parentNode}return null}function as(t){return t=t[ht]||t[xt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ln(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(x(33))}function Si(t){return t[qr]||null}var Qo=[],Un=-1;function Gt(t){return{current:t}}function J(t){0>Un||(t.current=Qo[Un],Qo[Un]=null,Un--)}function K(t,e){Un++,Qo[Un]=t.current,t.current=e}var Kt={},Se=Gt(Kt),Ne=Gt(!1),hn=Kt;function Yn(t,e){var n=t.type.contextTypes;if(!n)return Kt;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Re(t){return t=t.childContextTypes,t!=null}function ei(){J(Ne),J(Se)}function au(t,e,n){if(Se.current!==Kt)throw Error(x(168));K(Se,e),K(Ne,n)}function yd(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(x(108,kf(t)||"Unknown",s));return re({},n,r)}function ti(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Kt,hn=Se.current,K(Se,t),K(Ne,Ne.current),!0}function lu(t,e,n){var r=t.stateNode;if(!r)throw Error(x(169));n?(t=yd(t,e,hn),r.__reactInternalMemoizedMergedChildContext=t,J(Ne),J(Se),K(Se,t)):J(Ne),K(Ne,n)}var vt=null,xi=!1,no=!1;function vd(t){vt===null?vt=[t]:vt.push(t)}function Dp(t){xi=!0,vd(t)}function Jt(){if(!no&&vt!==null){no=!0;var t=0,e=W;try{var n=vt;for(W=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}vt=null,xi=!1}catch(s){throw vt!==null&&(vt=vt.slice(t+1)),Fc(Ua,Jt),s}finally{W=e,no=!1}}return null}var $n=[],Dn=0,ni=null,ri=0,qe=[],Ve=0,fn=null,_t=1,kt="";function en(t,e){$n[Dn++]=ri,$n[Dn++]=ni,ni=t,ri=e}function wd(t,e,n){qe[Ve++]=_t,qe[Ve++]=kt,qe[Ve++]=fn,fn=t;var r=_t;t=kt;var s=32-st(r)-1;r&=~(1<<s),n+=1;var i=32-st(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,_t=1<<32-st(e)+s|n<<s|r,kt=i+t}else _t=1<<i|n<<s|r,kt=t}function qa(t){t.return!==null&&(en(t,1),wd(t,1,0))}function Va(t){for(;t===ni;)ni=$n[--Dn],$n[Dn]=null,ri=$n[--Dn],$n[Dn]=null;for(;t===fn;)fn=qe[--Ve],qe[Ve]=null,kt=qe[--Ve],qe[Ve]=null,_t=qe[--Ve],qe[Ve]=null}var He=null,ze=null,X=!1,rt=null;function _d(t,e){var n=Ke(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function uu(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,He=t,ze=Ht(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,He=t,ze=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=fn!==null?{id:_t,overflow:kt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ke(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,He=t,ze=null,!0):!1;default:return!1}}function Go(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Jo(t){if(X){var e=ze;if(e){var n=e;if(!uu(t,e)){if(Go(t))throw Error(x(418));e=Ht(n.nextSibling);var r=He;e&&uu(t,e)?_d(r,n):(t.flags=t.flags&-4097|2,X=!1,He=t)}}else{if(Go(t))throw Error(x(418));t.flags=t.flags&-4097|2,X=!1,He=t}}}function cu(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;He=t}function bs(t){if(t!==He)return!1;if(!X)return cu(t),X=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!qo(t.type,t.memoizedProps)),e&&(e=ze)){if(Go(t))throw kd(),Error(x(418));for(;e;)_d(t,e),e=Ht(e.nextSibling)}if(cu(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(x(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ze=Ht(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ze=null}}else ze=He?Ht(t.stateNode.nextSibling):null;return!0}function kd(){for(var t=ze;t;)t=Ht(t.nextSibling)}function Xn(){ze=He=null,X=!1}function Ka(t){rt===null?rt=[t]:rt.push(t)}var Mp=Ct.ReactCurrentBatchConfig;function fr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(x(309));var r=n.stateNode}if(!r)throw Error(x(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(x(284));if(!n._owner)throw Error(x(290,t))}return t}function Ss(t,e){throw t=Object.prototype.toString.call(e),Error(x(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function du(t){var e=t._init;return e(t._payload)}function bd(t){function e(p,h){if(t){var g=p.deletions;g===null?(p.deletions=[h],p.flags|=16):g.push(h)}}function n(p,h){if(!t)return null;for(;h!==null;)e(p,h),h=h.sibling;return null}function r(p,h){for(p=new Map;h!==null;)h.key!==null?p.set(h.key,h):p.set(h.index,h),h=h.sibling;return p}function s(p,h){return p=qt(p,h),p.index=0,p.sibling=null,p}function i(p,h,g){return p.index=g,t?(g=p.alternate,g!==null?(g=g.index,g<h?(p.flags|=2,h):g):(p.flags|=2,h)):(p.flags|=1048576,h)}function o(p){return t&&p.alternate===null&&(p.flags|=2),p}function a(p,h,g,_){return h===null||h.tag!==6?(h=uo(g,p.mode,_),h.return=p,h):(h=s(h,g),h.return=p,h)}function l(p,h,g,_){var T=g.type;return T===Pn?d(p,h,g.props.children,_,g.key):h!==null&&(h.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Ot&&du(T)===h.type)?(_=s(h,g.props),_.ref=fr(p,h,g),_.return=p,_):(_=Ws(g.type,g.key,g.props,null,p.mode,_),_.ref=fr(p,h,g),_.return=p,_)}function u(p,h,g,_){return h===null||h.tag!==4||h.stateNode.containerInfo!==g.containerInfo||h.stateNode.implementation!==g.implementation?(h=co(g,p.mode,_),h.return=p,h):(h=s(h,g.children||[]),h.return=p,h)}function d(p,h,g,_,T){return h===null||h.tag!==7?(h=dn(g,p.mode,_,T),h.return=p,h):(h=s(h,g),h.return=p,h)}function m(p,h,g){if(typeof h=="string"&&h!==""||typeof h=="number")return h=uo(""+h,p.mode,g),h.return=p,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case hs:return g=Ws(h.type,h.key,h.props,null,p.mode,g),g.ref=fr(p,null,h),g.return=p,g;case On:return h=co(h,p.mode,g),h.return=p,h;case Ot:var _=h._init;return m(p,_(h._payload),g)}if(wr(h)||lr(h))return h=dn(h,p.mode,g,null),h.return=p,h;Ss(p,h)}return null}function f(p,h,g,_){var T=h!==null?h.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return T!==null?null:a(p,h,""+g,_);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case hs:return g.key===T?l(p,h,g,_):null;case On:return g.key===T?u(p,h,g,_):null;case Ot:return T=g._init,f(p,h,T(g._payload),_)}if(wr(g)||lr(g))return T!==null?null:d(p,h,g,_,null);Ss(p,g)}return null}function y(p,h,g,_,T){if(typeof _=="string"&&_!==""||typeof _=="number")return p=p.get(g)||null,a(h,p,""+_,T);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case hs:return p=p.get(_.key===null?g:_.key)||null,l(h,p,_,T);case On:return p=p.get(_.key===null?g:_.key)||null,u(h,p,_,T);case Ot:var b=_._init;return y(p,h,g,b(_._payload),T)}if(wr(_)||lr(_))return p=p.get(g)||null,d(h,p,_,T,null);Ss(h,_)}return null}function v(p,h,g,_){for(var T=null,b=null,E=h,j=h=0,D=null;E!==null&&j<g.length;j++){E.index>j?(D=E,E=null):D=E.sibling;var O=f(p,E,g[j],_);if(O===null){E===null&&(E=D);break}t&&E&&O.alternate===null&&e(p,E),h=i(O,h,j),b===null?T=O:b.sibling=O,b=O,E=D}if(j===g.length)return n(p,E),X&&en(p,j),T;if(E===null){for(;j<g.length;j++)E=m(p,g[j],_),E!==null&&(h=i(E,h,j),b===null?T=E:b.sibling=E,b=E);return X&&en(p,j),T}for(E=r(p,E);j<g.length;j++)D=y(E,p,j,g[j],_),D!==null&&(t&&D.alternate!==null&&E.delete(D.key===null?j:D.key),h=i(D,h,j),b===null?T=D:b.sibling=D,b=D);return t&&E.forEach(function(F){return e(p,F)}),X&&en(p,j),T}function w(p,h,g,_){var T=lr(g);if(typeof T!="function")throw Error(x(150));if(g=T.call(g),g==null)throw Error(x(151));for(var b=T=null,E=h,j=h=0,D=null,O=g.next();E!==null&&!O.done;j++,O=g.next()){E.index>j?(D=E,E=null):D=E.sibling;var F=f(p,E,O.value,_);if(F===null){E===null&&(E=D);break}t&&E&&F.alternate===null&&e(p,E),h=i(F,h,j),b===null?T=F:b.sibling=F,b=F,E=D}if(O.done)return n(p,E),X&&en(p,j),T;if(E===null){for(;!O.done;j++,O=g.next())O=m(p,O.value,_),O!==null&&(h=i(O,h,j),b===null?T=O:b.sibling=O,b=O);return X&&en(p,j),T}for(E=r(p,E);!O.done;j++,O=g.next())O=y(E,p,j,O.value,_),O!==null&&(t&&O.alternate!==null&&E.delete(O.key===null?j:O.key),h=i(O,h,j),b===null?T=O:b.sibling=O,b=O);return t&&E.forEach(function(je){return e(p,je)}),X&&en(p,j),T}function k(p,h,g,_){if(typeof g=="object"&&g!==null&&g.type===Pn&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case hs:e:{for(var T=g.key,b=h;b!==null;){if(b.key===T){if(T=g.type,T===Pn){if(b.tag===7){n(p,b.sibling),h=s(b,g.props.children),h.return=p,p=h;break e}}else if(b.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Ot&&du(T)===b.type){n(p,b.sibling),h=s(b,g.props),h.ref=fr(p,b,g),h.return=p,p=h;break e}n(p,b);break}else e(p,b);b=b.sibling}g.type===Pn?(h=dn(g.props.children,p.mode,_,g.key),h.return=p,p=h):(_=Ws(g.type,g.key,g.props,null,p.mode,_),_.ref=fr(p,h,g),_.return=p,p=_)}return o(p);case On:e:{for(b=g.key;h!==null;){if(h.key===b)if(h.tag===4&&h.stateNode.containerInfo===g.containerInfo&&h.stateNode.implementation===g.implementation){n(p,h.sibling),h=s(h,g.children||[]),h.return=p,p=h;break e}else{n(p,h);break}else e(p,h);h=h.sibling}h=co(g,p.mode,_),h.return=p,p=h}return o(p);case Ot:return b=g._init,k(p,h,b(g._payload),_)}if(wr(g))return v(p,h,g,_);if(lr(g))return w(p,h,g,_);Ss(p,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,h!==null&&h.tag===6?(n(p,h.sibling),h=s(h,g),h.return=p,p=h):(n(p,h),h=uo(g,p.mode,_),h.return=p,p=h),o(p)):n(p,h)}return k}var Zn=bd(!0),Sd=bd(!1),si=Gt(null),ii=null,Mn=null,Qa=null;function Ga(){Qa=Mn=ii=null}function Ja(t){var e=si.current;J(si),t._currentValue=e}function Yo(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Kn(t,e){ii=t,Qa=Mn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Pe=!0),t.firstContext=null)}function Ge(t){var e=t._currentValue;if(Qa!==t)if(t={context:t,memoizedValue:e,next:null},Mn===null){if(ii===null)throw Error(x(308));Mn=t,ii.dependencies={lanes:0,firstContext:t}}else Mn=Mn.next=t;return e}var an=null;function Ya(t){an===null?an=[t]:an.push(t)}function xd(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Ya(e)):(n.next=s.next,s.next=n),e.interleaved=n,Tt(t,r)}function Tt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Pt=!1;function Xa(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Td(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function bt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Bt(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,B&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Tt(t,n)}return s=r.interleaved,s===null?(e.next=e,Ya(r)):(e.next=s.next,s.next=e),r.interleaved=e,Tt(t,n)}function Ds(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,$a(t,n)}}function hu(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function oi(t,e,n,r){var s=t.updateQueue;Pt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var m=s.baseState;o=0,d=u=l=null,a=i;do{var f=a.lane,y=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,w=a;switch(f=e,y=n,w.tag){case 1:if(v=w.payload,typeof v=="function"){m=v.call(y,m,f);break e}m=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,f=typeof v=="function"?v.call(y,m,f):v,f==null)break e;m=re({},m,f);break e;case 2:Pt=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else y={eventTime:y,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=y,l=m):d=d.next=y,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(1);if(d===null&&(l=m),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);mn|=o,t.lanes=o,t.memoizedState=m}}function fu(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(x(191,s));s.call(r)}}}var ls={},pt=Gt(ls),Vr=Gt(ls),Kr=Gt(ls);function ln(t){if(t===ls)throw Error(x(174));return t}function Za(t,e){switch(K(Kr,e),K(Vr,t),K(pt,ls),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Po(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Po(e,t)}J(pt),K(pt,e)}function er(){J(pt),J(Vr),J(Kr)}function Ed(t){ln(Kr.current);var e=ln(pt.current),n=Po(e,t.type);e!==n&&(K(Vr,t),K(pt,n))}function el(t){Vr.current===t&&(J(pt),J(Vr))}var te=Gt(0);function ai(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ro=[];function tl(){for(var t=0;t<ro.length;t++)ro[t]._workInProgressVersionPrimary=null;ro.length=0}var Ms=Ct.ReactCurrentDispatcher,so=Ct.ReactCurrentBatchConfig,pn=0,ne=null,ce=null,he=null,li=!1,Ar=!1,Qr=0,zp=0;function _e(){throw Error(x(321))}function nl(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ot(t[n],e[n]))return!1;return!0}function rl(t,e,n,r,s,i){if(pn=i,ne=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ms.current=t===null||t.memoizedState===null?Wp:qp,t=n(r,s),Ar){i=0;do{if(Ar=!1,Qr=0,25<=i)throw Error(x(301));i+=1,he=ce=null,e.updateQueue=null,Ms.current=Vp,t=n(r,s)}while(Ar)}if(Ms.current=ui,e=ce!==null&&ce.next!==null,pn=0,he=ce=ne=null,li=!1,e)throw Error(x(300));return t}function sl(){var t=Qr!==0;return Qr=0,t}function dt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return he===null?ne.memoizedState=he=t:he=he.next=t,he}function Je(){if(ce===null){var t=ne.alternate;t=t!==null?t.memoizedState:null}else t=ce.next;var e=he===null?ne.memoizedState:he.next;if(e!==null)he=e,ce=t;else{if(t===null)throw Error(x(310));ce=t,t={memoizedState:ce.memoizedState,baseState:ce.baseState,baseQueue:ce.baseQueue,queue:ce.queue,next:null},he===null?ne.memoizedState=he=t:he=he.next=t}return he}function Gr(t,e){return typeof e=="function"?e(t):e}function io(t){var e=Je(),n=e.queue;if(n===null)throw Error(x(311));n.lastRenderedReducer=t;var r=ce,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var d=u.lane;if((pn&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var m={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=m,o=r):l=l.next=m,ne.lanes|=d,mn|=d}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,ot(r,e.memoizedState)||(Pe=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,ne.lanes|=i,mn|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function oo(t){var e=Je(),n=e.queue;if(n===null)throw Error(x(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);ot(i,e.memoizedState)||(Pe=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Cd(){}function jd(t,e){var n=ne,r=Je(),s=e(),i=!ot(r.memoizedState,s);if(i&&(r.memoizedState=s,Pe=!0),r=r.queue,il(Pd.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||he!==null&&he.memoizedState.tag&1){if(n.flags|=2048,Jr(9,Od.bind(null,n,r,s,e),void 0,null),fe===null)throw Error(x(349));pn&30||Ad(n,e,s)}return s}function Ad(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ne.updateQueue,e===null?(e={lastEffect:null,stores:null},ne.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Od(t,e,n,r){e.value=n,e.getSnapshot=r,Nd(e)&&Rd(t)}function Pd(t,e,n){return n(function(){Nd(e)&&Rd(t)})}function Nd(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ot(t,n)}catch{return!0}}function Rd(t){var e=Tt(t,1);e!==null&&it(e,t,1,-1)}function pu(t){var e=dt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gr,lastRenderedState:t},e.queue=t,t=t.dispatch=Fp.bind(null,ne,t),[e.memoizedState,t]}function Jr(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ne.updateQueue,e===null?(e={lastEffect:null,stores:null},ne.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Id(){return Je().memoizedState}function zs(t,e,n,r){var s=dt();ne.flags|=t,s.memoizedState=Jr(1|e,n,void 0,r===void 0?null:r)}function Ti(t,e,n,r){var s=Je();r=r===void 0?null:r;var i=void 0;if(ce!==null){var o=ce.memoizedState;if(i=o.destroy,r!==null&&nl(r,o.deps)){s.memoizedState=Jr(e,n,i,r);return}}ne.flags|=t,s.memoizedState=Jr(1|e,n,i,r)}function mu(t,e){return zs(8390656,8,t,e)}function il(t,e){return Ti(2048,8,t,e)}function Ld(t,e){return Ti(4,2,t,e)}function Ud(t,e){return Ti(4,4,t,e)}function $d(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Dd(t,e,n){return n=n!=null?n.concat([t]):null,Ti(4,4,$d.bind(null,e,t),n)}function ol(){}function Md(t,e){var n=Je();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&nl(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function zd(t,e){var n=Je();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&nl(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Hd(t,e,n){return pn&21?(ot(n,e)||(n=Vc(),ne.lanes|=n,mn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Pe=!0),t.memoizedState=n)}function Hp(t,e){var n=W;W=n!==0&&4>n?n:4,t(!0);var r=so.transition;so.transition={};try{t(!1),e()}finally{W=n,so.transition=r}}function Bd(){return Je().memoizedState}function Bp(t,e,n){var r=Wt(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Fd(t))Wd(e,n);else if(n=xd(t,e,n,r),n!==null){var s=Te();it(n,t,r,s),qd(n,e,r)}}function Fp(t,e,n){var r=Wt(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Fd(t))Wd(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,ot(a,o)){var l=e.interleaved;l===null?(s.next=s,Ya(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=xd(t,e,s,r),n!==null&&(s=Te(),it(n,t,r,s),qd(n,e,r))}}function Fd(t){var e=t.alternate;return t===ne||e!==null&&e===ne}function Wd(t,e){Ar=li=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function qd(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,$a(t,n)}}var ui={readContext:Ge,useCallback:_e,useContext:_e,useEffect:_e,useImperativeHandle:_e,useInsertionEffect:_e,useLayoutEffect:_e,useMemo:_e,useReducer:_e,useRef:_e,useState:_e,useDebugValue:_e,useDeferredValue:_e,useTransition:_e,useMutableSource:_e,useSyncExternalStore:_e,useId:_e,unstable_isNewReconciler:!1},Wp={readContext:Ge,useCallback:function(t,e){return dt().memoizedState=[t,e===void 0?null:e],t},useContext:Ge,useEffect:mu,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,zs(4194308,4,$d.bind(null,e,t),n)},useLayoutEffect:function(t,e){return zs(4194308,4,t,e)},useInsertionEffect:function(t,e){return zs(4,2,t,e)},useMemo:function(t,e){var n=dt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=dt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Bp.bind(null,ne,t),[r.memoizedState,t]},useRef:function(t){var e=dt();return t={current:t},e.memoizedState=t},useState:pu,useDebugValue:ol,useDeferredValue:function(t){return dt().memoizedState=t},useTransition:function(){var t=pu(!1),e=t[0];return t=Hp.bind(null,t[1]),dt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ne,s=dt();if(X){if(n===void 0)throw Error(x(407));n=n()}else{if(n=e(),fe===null)throw Error(x(349));pn&30||Ad(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,mu(Pd.bind(null,r,i,t),[t]),r.flags|=2048,Jr(9,Od.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=dt(),e=fe.identifierPrefix;if(X){var n=kt,r=_t;n=(r&~(1<<32-st(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Qr++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=zp++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},qp={readContext:Ge,useCallback:Md,useContext:Ge,useEffect:il,useImperativeHandle:Dd,useInsertionEffect:Ld,useLayoutEffect:Ud,useMemo:zd,useReducer:io,useRef:Id,useState:function(){return io(Gr)},useDebugValue:ol,useDeferredValue:function(t){var e=Je();return Hd(e,ce.memoizedState,t)},useTransition:function(){var t=io(Gr)[0],e=Je().memoizedState;return[t,e]},useMutableSource:Cd,useSyncExternalStore:jd,useId:Bd,unstable_isNewReconciler:!1},Vp={readContext:Ge,useCallback:Md,useContext:Ge,useEffect:il,useImperativeHandle:Dd,useInsertionEffect:Ld,useLayoutEffect:Ud,useMemo:zd,useReducer:oo,useRef:Id,useState:function(){return oo(Gr)},useDebugValue:ol,useDeferredValue:function(t){var e=Je();return ce===null?e.memoizedState=t:Hd(e,ce.memoizedState,t)},useTransition:function(){var t=oo(Gr)[0],e=Je().memoizedState;return[t,e]},useMutableSource:Cd,useSyncExternalStore:jd,useId:Bd,unstable_isNewReconciler:!1};function Ze(t,e){if(t&&t.defaultProps){e=re({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Xo(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:re({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ei={isMounted:function(t){return(t=t._reactInternals)?vn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Te(),s=Wt(t),i=bt(r,s);i.payload=e,n!=null&&(i.callback=n),e=Bt(t,i,s),e!==null&&(it(e,t,s,r),Ds(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Te(),s=Wt(t),i=bt(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Bt(t,i,s),e!==null&&(it(e,t,s,r),Ds(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Te(),r=Wt(t),s=bt(n,r);s.tag=2,e!=null&&(s.callback=e),e=Bt(t,s,r),e!==null&&(it(e,t,r,n),Ds(e,t,r))}};function gu(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Br(n,r)||!Br(s,i):!0}function Vd(t,e,n){var r=!1,s=Kt,i=e.contextType;return typeof i=="object"&&i!==null?i=Ge(i):(s=Re(e)?hn:Se.current,r=e.contextTypes,i=(r=r!=null)?Yn(t,s):Kt),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ei,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function yu(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ei.enqueueReplaceState(e,e.state,null)}function Zo(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Xa(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Ge(i):(i=Re(e)?hn:Se.current,s.context=Yn(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Xo(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Ei.enqueueReplaceState(s,s.state,null),oi(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function tr(t,e){try{var n="",r=e;do n+=_f(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function ao(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ea(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Kp=typeof WeakMap=="function"?WeakMap:Map;function Kd(t,e,n){n=bt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){di||(di=!0,ca=r),ea(t,e)},n}function Qd(t,e,n){n=bt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){ea(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){ea(t,e),typeof r!="function"&&(Ft===null?Ft=new Set([this]):Ft.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function vu(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Kp;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=am.bind(null,t,e,n),e.then(t,t))}function wu(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function _u(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=bt(-1,1),e.tag=2,Bt(n,e,1))),n.lanes|=1),t)}var Qp=Ct.ReactCurrentOwner,Pe=!1;function xe(t,e,n,r){e.child=t===null?Sd(e,null,n,r):Zn(e,t.child,n,r)}function ku(t,e,n,r,s){n=n.render;var i=e.ref;return Kn(e,s),r=rl(t,e,n,r,i,s),n=sl(),t!==null&&!Pe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Et(t,e,s)):(X&&n&&qa(e),e.flags|=1,xe(t,e,r,s),e.child)}function bu(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!pl(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Gd(t,e,i,r,s)):(t=Ws(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Br,n(o,r)&&t.ref===e.ref)return Et(t,e,s)}return e.flags|=1,t=qt(i,r),t.ref=e.ref,t.return=e,e.child=t}function Gd(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Br(i,r)&&t.ref===e.ref)if(Pe=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Pe=!0);else return e.lanes=t.lanes,Et(t,e,s)}return ta(t,e,n,r,s)}function Jd(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},K(Hn,Ue),Ue|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,K(Hn,Ue),Ue|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,K(Hn,Ue),Ue|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,K(Hn,Ue),Ue|=r;return xe(t,e,s,n),e.child}function Yd(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ta(t,e,n,r,s){var i=Re(n)?hn:Se.current;return i=Yn(e,i),Kn(e,s),n=rl(t,e,n,r,i,s),r=sl(),t!==null&&!Pe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Et(t,e,s)):(X&&r&&qa(e),e.flags|=1,xe(t,e,n,s),e.child)}function Su(t,e,n,r,s){if(Re(n)){var i=!0;ti(e)}else i=!1;if(Kn(e,s),e.stateNode===null)Hs(t,e),Vd(e,n,r),Zo(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ge(u):(u=Re(n)?hn:Se.current,u=Yn(e,u));var d=n.getDerivedStateFromProps,m=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&yu(e,o,r,u),Pt=!1;var f=e.memoizedState;o.state=f,oi(e,r,o,s),l=e.memoizedState,a!==r||f!==l||Ne.current||Pt?(typeof d=="function"&&(Xo(e,n,d,r),l=e.memoizedState),(a=Pt||gu(e,n,a,r,f,l,u))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Td(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Ze(e.type,a),o.props=u,m=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ge(l):(l=Re(n)?hn:Se.current,l=Yn(e,l));var y=n.getDerivedStateFromProps;(d=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==m||f!==l)&&yu(e,o,r,l),Pt=!1,f=e.memoizedState,o.state=f,oi(e,r,o,s);var v=e.memoizedState;a!==m||f!==v||Ne.current||Pt?(typeof y=="function"&&(Xo(e,n,y,r),v=e.memoizedState),(u=Pt||gu(e,n,u,r,f,v,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return na(t,e,n,r,i,s)}function na(t,e,n,r,s,i){Yd(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&lu(e,n,!1),Et(t,e,i);r=e.stateNode,Qp.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Zn(e,t.child,null,i),e.child=Zn(e,null,a,i)):xe(t,e,a,i),e.memoizedState=r.state,s&&lu(e,n,!0),e.child}function Xd(t){var e=t.stateNode;e.pendingContext?au(t,e.pendingContext,e.pendingContext!==e.context):e.context&&au(t,e.context,!1),Za(t,e.containerInfo)}function xu(t,e,n,r,s){return Xn(),Ka(s),e.flags|=256,xe(t,e,n,r),e.child}var ra={dehydrated:null,treeContext:null,retryLane:0};function sa(t){return{baseLanes:t,cachePool:null,transitions:null}}function Zd(t,e,n){var r=e.pendingProps,s=te.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),K(te,s&1),t===null)return Jo(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Ai(o,r,0,null),t=dn(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=sa(n),e.memoizedState=ra,t):al(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Gp(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=qt(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=qt(a,i):(i=dn(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?sa(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=ra,r}return i=t.child,t=i.sibling,r=qt(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function al(t,e){return e=Ai({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function xs(t,e,n,r){return r!==null&&Ka(r),Zn(e,t.child,null,n),t=al(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Gp(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=ao(Error(x(422))),xs(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Ai({mode:"visible",children:r.children},s,0,null),i=dn(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Zn(e,t.child,null,o),e.child.memoizedState=sa(o),e.memoizedState=ra,i);if(!(e.mode&1))return xs(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(x(419)),r=ao(i,r,void 0),xs(t,e,o,r)}if(a=(o&t.childLanes)!==0,Pe||a){if(r=fe,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Tt(t,s),it(r,t,s,-1))}return fl(),r=ao(Error(x(421))),xs(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=lm.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,ze=Ht(s.nextSibling),He=e,X=!0,rt=null,t!==null&&(qe[Ve++]=_t,qe[Ve++]=kt,qe[Ve++]=fn,_t=t.id,kt=t.overflow,fn=e),e=al(e,r.children),e.flags|=4096,e)}function Tu(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Yo(t.return,e,n)}function lo(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function eh(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(xe(t,e,r.children,n),r=te.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Tu(t,n,e);else if(t.tag===19)Tu(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(K(te,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&ai(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),lo(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&ai(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}lo(e,!0,n,null,i);break;case"together":lo(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Hs(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Et(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),mn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(x(153));if(e.child!==null){for(t=e.child,n=qt(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=qt(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Jp(t,e,n){switch(e.tag){case 3:Xd(e),Xn();break;case 5:Ed(e);break;case 1:Re(e.type)&&ti(e);break;case 4:Za(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;K(si,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(K(te,te.current&1),e.flags|=128,null):n&e.child.childLanes?Zd(t,e,n):(K(te,te.current&1),t=Et(t,e,n),t!==null?t.sibling:null);K(te,te.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return eh(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),K(te,te.current),r)break;return null;case 22:case 23:return e.lanes=0,Jd(t,e,n)}return Et(t,e,n)}var th,ia,nh,rh;th=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ia=function(){};nh=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,ln(pt.current);var i=null;switch(n){case"input":s=Co(t,s),r=Co(t,r),i=[];break;case"select":s=re({},s,{value:void 0}),r=re({},r,{value:void 0}),i=[];break;case"textarea":s=Oo(t,s),r=Oo(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Zs)}No(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Lr.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Lr.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&G("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};rh=function(t,e,n,r){n!==r&&(e.flags|=4)};function pr(t,e){if(!X)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ke(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Yp(t,e,n){var r=e.pendingProps;switch(Va(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ke(e),null;case 1:return Re(e.type)&&ei(),ke(e),null;case 3:return r=e.stateNode,er(),J(Ne),J(Se),tl(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(bs(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,rt!==null&&(fa(rt),rt=null))),ia(t,e),ke(e),null;case 5:el(e);var s=ln(Kr.current);if(n=e.type,t!==null&&e.stateNode!=null)nh(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(x(166));return ke(e),null}if(t=ln(pt.current),bs(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[ht]=e,r[qr]=i,t=(e.mode&1)!==0,n){case"dialog":G("cancel",r),G("close",r);break;case"iframe":case"object":case"embed":G("load",r);break;case"video":case"audio":for(s=0;s<kr.length;s++)G(kr[s],r);break;case"source":G("error",r);break;case"img":case"image":case"link":G("error",r),G("load",r);break;case"details":G("toggle",r);break;case"input":Il(r,i),G("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},G("invalid",r);break;case"textarea":Ul(r,i),G("invalid",r)}No(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&ks(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&ks(r.textContent,a,t),s=["children",""+a]):Lr.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&G("scroll",r)}switch(n){case"input":fs(r),Ll(r,i,!0);break;case"textarea":fs(r),$l(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Zs)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Pc(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ht]=e,t[qr]=r,th(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ro(n,r),n){case"dialog":G("cancel",t),G("close",t),s=r;break;case"iframe":case"object":case"embed":G("load",t),s=r;break;case"video":case"audio":for(s=0;s<kr.length;s++)G(kr[s],t);s=r;break;case"source":G("error",t),s=r;break;case"img":case"image":case"link":G("error",t),G("load",t),s=r;break;case"details":G("toggle",t),s=r;break;case"input":Il(t,r),s=Co(t,r),G("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=re({},r,{value:void 0}),G("invalid",t);break;case"textarea":Ul(t,r),s=Oo(t,r),G("invalid",t);break;default:s=r}No(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Ic(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Nc(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ur(t,l):typeof l=="number"&&Ur(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Lr.hasOwnProperty(i)?l!=null&&i==="onScroll"&&G("scroll",t):l!=null&&Pa(t,i,l,o))}switch(n){case"input":fs(t),Ll(t,r,!1);break;case"textarea":fs(t),$l(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Vt(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Fn(t,!!r.multiple,i,!1):r.defaultValue!=null&&Fn(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Zs)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ke(e),null;case 6:if(t&&e.stateNode!=null)rh(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(x(166));if(n=ln(Kr.current),ln(pt.current),bs(e)){if(r=e.stateNode,n=e.memoizedProps,r[ht]=e,(i=r.nodeValue!==n)&&(t=He,t!==null))switch(t.tag){case 3:ks(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ks(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ht]=e,e.stateNode=r}return ke(e),null;case 13:if(J(te),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(X&&ze!==null&&e.mode&1&&!(e.flags&128))kd(),Xn(),e.flags|=98560,i=!1;else if(i=bs(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(x(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(x(317));i[ht]=e}else Xn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ke(e),i=!1}else rt!==null&&(fa(rt),rt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||te.current&1?de===0&&(de=3):fl())),e.updateQueue!==null&&(e.flags|=4),ke(e),null);case 4:return er(),ia(t,e),t===null&&Fr(e.stateNode.containerInfo),ke(e),null;case 10:return Ja(e.type._context),ke(e),null;case 17:return Re(e.type)&&ei(),ke(e),null;case 19:if(J(te),i=e.memoizedState,i===null)return ke(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)pr(i,!1);else{if(de!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ai(t),o!==null){for(e.flags|=128,pr(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return K(te,te.current&1|2),e.child}t=t.sibling}i.tail!==null&&oe()>nr&&(e.flags|=128,r=!0,pr(i,!1),e.lanes=4194304)}else{if(!r)if(t=ai(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),pr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!X)return ke(e),null}else 2*oe()-i.renderingStartTime>nr&&n!==1073741824&&(e.flags|=128,r=!0,pr(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=oe(),e.sibling=null,n=te.current,K(te,r?n&1|2:n&1),e):(ke(e),null);case 22:case 23:return hl(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ue&1073741824&&(ke(e),e.subtreeFlags&6&&(e.flags|=8192)):ke(e),null;case 24:return null;case 25:return null}throw Error(x(156,e.tag))}function Xp(t,e){switch(Va(e),e.tag){case 1:return Re(e.type)&&ei(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return er(),J(Ne),J(Se),tl(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return el(e),null;case 13:if(J(te),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(x(340));Xn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return J(te),null;case 4:return er(),null;case 10:return Ja(e.type._context),null;case 22:case 23:return hl(),null;case 24:return null;default:return null}}var Ts=!1,be=!1,Zp=typeof WeakSet=="function"?WeakSet:Set,A=null;function zn(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ie(t,e,r)}else n.current=null}function oa(t,e,n){try{n()}catch(r){ie(t,e,r)}}var Eu=!1;function em(t,e){if(Fo=Js,t=ld(),Wa(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,m=t,f=null;t:for(;;){for(var y;m!==n||s!==0&&m.nodeType!==3||(a=o+s),m!==i||r!==0&&m.nodeType!==3||(l=o+r),m.nodeType===3&&(o+=m.nodeValue.length),(y=m.firstChild)!==null;)f=m,m=y;for(;;){if(m===t)break t;if(f===n&&++u===s&&(a=o),f===i&&++d===r&&(l=o),(y=m.nextSibling)!==null)break;m=f,f=m.parentNode}m=y}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Wo={focusedElem:t,selectionRange:n},Js=!1,A=e;A!==null;)if(e=A,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,A=t;else for(;A!==null;){e=A;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,k=v.memoizedState,p=e.stateNode,h=p.getSnapshotBeforeUpdate(e.elementType===e.type?w:Ze(e.type,w),k);p.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(x(163))}}catch(_){ie(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,A=t;break}A=e.return}return v=Eu,Eu=!1,v}function Or(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&oa(e,n,i)}s=s.next}while(s!==r)}}function Ci(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function aa(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function sh(t){var e=t.alternate;e!==null&&(t.alternate=null,sh(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ht],delete e[qr],delete e[Ko],delete e[Up],delete e[$p])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ih(t){return t.tag===5||t.tag===3||t.tag===4}function Cu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ih(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function la(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Zs));else if(r!==4&&(t=t.child,t!==null))for(la(t,e,n),t=t.sibling;t!==null;)la(t,e,n),t=t.sibling}function ua(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ua(t,e,n),t=t.sibling;t!==null;)ua(t,e,n),t=t.sibling}var ge=null,tt=!1;function At(t,e,n){for(n=n.child;n!==null;)oh(t,e,n),n=n.sibling}function oh(t,e,n){if(ft&&typeof ft.onCommitFiberUnmount=="function")try{ft.onCommitFiberUnmount(wi,n)}catch{}switch(n.tag){case 5:be||zn(n,e);case 6:var r=ge,s=tt;ge=null,At(t,e,n),ge=r,tt=s,ge!==null&&(tt?(t=ge,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ge.removeChild(n.stateNode));break;case 18:ge!==null&&(tt?(t=ge,n=n.stateNode,t.nodeType===8?to(t.parentNode,n):t.nodeType===1&&to(t,n),zr(t)):to(ge,n.stateNode));break;case 4:r=ge,s=tt,ge=n.stateNode.containerInfo,tt=!0,At(t,e,n),ge=r,tt=s;break;case 0:case 11:case 14:case 15:if(!be&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&oa(n,e,o),s=s.next}while(s!==r)}At(t,e,n);break;case 1:if(!be&&(zn(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ie(n,e,a)}At(t,e,n);break;case 21:At(t,e,n);break;case 22:n.mode&1?(be=(r=be)||n.memoizedState!==null,At(t,e,n),be=r):At(t,e,n);break;default:At(t,e,n)}}function ju(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Zp),e.forEach(function(r){var s=um.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Ye(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ge=a.stateNode,tt=!1;break e;case 3:ge=a.stateNode.containerInfo,tt=!0;break e;case 4:ge=a.stateNode.containerInfo,tt=!0;break e}a=a.return}if(ge===null)throw Error(x(160));oh(i,o,s),ge=null,tt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){ie(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ah(e,t),e=e.sibling}function ah(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ye(e,t),ct(t),r&4){try{Or(3,t,t.return),Ci(3,t)}catch(w){ie(t,t.return,w)}try{Or(5,t,t.return)}catch(w){ie(t,t.return,w)}}break;case 1:Ye(e,t),ct(t),r&512&&n!==null&&zn(n,n.return);break;case 5:if(Ye(e,t),ct(t),r&512&&n!==null&&zn(n,n.return),t.flags&32){var s=t.stateNode;try{Ur(s,"")}catch(w){ie(t,t.return,w)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Ac(s,i),Ro(a,o);var u=Ro(a,i);for(o=0;o<l.length;o+=2){var d=l[o],m=l[o+1];d==="style"?Ic(s,m):d==="dangerouslySetInnerHTML"?Nc(s,m):d==="children"?Ur(s,m):Pa(s,d,m,u)}switch(a){case"input":jo(s,i);break;case"textarea":Oc(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Fn(s,!!i.multiple,y,!1):f!==!!i.multiple&&(i.defaultValue!=null?Fn(s,!!i.multiple,i.defaultValue,!0):Fn(s,!!i.multiple,i.multiple?[]:"",!1))}s[qr]=i}catch(w){ie(t,t.return,w)}}break;case 6:if(Ye(e,t),ct(t),r&4){if(t.stateNode===null)throw Error(x(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){ie(t,t.return,w)}}break;case 3:if(Ye(e,t),ct(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{zr(e.containerInfo)}catch(w){ie(t,t.return,w)}break;case 4:Ye(e,t),ct(t);break;case 13:Ye(e,t),ct(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(cl=oe())),r&4&&ju(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(be=(u=be)||d,Ye(e,t),be=u):Ye(e,t),ct(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(A=t,d=t.child;d!==null;){for(m=A=d;A!==null;){switch(f=A,y=f.child,f.tag){case 0:case 11:case 14:case 15:Or(4,f,f.return);break;case 1:zn(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(w){ie(r,n,w)}}break;case 5:zn(f,f.return);break;case 22:if(f.memoizedState!==null){Ou(m);continue}}y!==null?(y.return=f,A=y):Ou(m)}d=d.sibling}e:for(d=null,m=t;;){if(m.tag===5){if(d===null){d=m;try{s=m.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=m.stateNode,l=m.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Rc("display",o))}catch(w){ie(t,t.return,w)}}}else if(m.tag===6){if(d===null)try{m.stateNode.nodeValue=u?"":m.memoizedProps}catch(w){ie(t,t.return,w)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;d===m&&(d=null),m=m.return}d===m&&(d=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Ye(e,t),ct(t),r&4&&ju(t);break;case 21:break;default:Ye(e,t),ct(t)}}function ct(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(ih(n)){var r=n;break e}n=n.return}throw Error(x(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ur(s,""),r.flags&=-33);var i=Cu(t);ua(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Cu(t);la(t,a,o);break;default:throw Error(x(161))}}catch(l){ie(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function tm(t,e,n){A=t,lh(t)}function lh(t,e,n){for(var r=(t.mode&1)!==0;A!==null;){var s=A,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Ts;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||be;a=Ts;var u=be;if(Ts=o,(be=l)&&!u)for(A=s;A!==null;)o=A,l=o.child,o.tag===22&&o.memoizedState!==null?Pu(s):l!==null?(l.return=o,A=l):Pu(s);for(;i!==null;)A=i,lh(i),i=i.sibling;A=s,Ts=a,be=u}Au(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,A=i):Au(t)}}function Au(t){for(;A!==null;){var e=A;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:be||Ci(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!be)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Ze(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&fu(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}fu(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var m=d.dehydrated;m!==null&&zr(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(x(163))}be||e.flags&512&&aa(e)}catch(f){ie(e,e.return,f)}}if(e===t){A=null;break}if(n=e.sibling,n!==null){n.return=e.return,A=n;break}A=e.return}}function Ou(t){for(;A!==null;){var e=A;if(e===t){A=null;break}var n=e.sibling;if(n!==null){n.return=e.return,A=n;break}A=e.return}}function Pu(t){for(;A!==null;){var e=A;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ci(4,e)}catch(l){ie(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){ie(e,s,l)}}var i=e.return;try{aa(e)}catch(l){ie(e,i,l)}break;case 5:var o=e.return;try{aa(e)}catch(l){ie(e,o,l)}}}catch(l){ie(e,e.return,l)}if(e===t){A=null;break}var a=e.sibling;if(a!==null){a.return=e.return,A=a;break}A=e.return}}var nm=Math.ceil,ci=Ct.ReactCurrentDispatcher,ll=Ct.ReactCurrentOwner,Qe=Ct.ReactCurrentBatchConfig,B=0,fe=null,le=null,ye=0,Ue=0,Hn=Gt(0),de=0,Yr=null,mn=0,ji=0,ul=0,Pr=null,Oe=null,cl=0,nr=1/0,gt=null,di=!1,ca=null,Ft=null,Es=!1,$t=null,hi=0,Nr=0,da=null,Bs=-1,Fs=0;function Te(){return B&6?oe():Bs!==-1?Bs:Bs=oe()}function Wt(t){return t.mode&1?B&2&&ye!==0?ye&-ye:Mp.transition!==null?(Fs===0&&(Fs=Vc()),Fs):(t=W,t!==0||(t=window.event,t=t===void 0?16:Zc(t.type)),t):1}function it(t,e,n,r){if(50<Nr)throw Nr=0,da=null,Error(x(185));is(t,n,r),(!(B&2)||t!==fe)&&(t===fe&&(!(B&2)&&(ji|=n),de===4&&It(t,ye)),Ie(t,r),n===1&&B===0&&!(e.mode&1)&&(nr=oe()+500,xi&&Jt()))}function Ie(t,e){var n=t.callbackNode;Mf(t,e);var r=Gs(t,t===fe?ye:0);if(r===0)n!==null&&zl(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&zl(n),e===1)t.tag===0?Dp(Nu.bind(null,t)):vd(Nu.bind(null,t)),Ip(function(){!(B&6)&&Jt()}),n=null;else{switch(Kc(r)){case 1:n=Ua;break;case 4:n=Wc;break;case 16:n=Qs;break;case 536870912:n=qc;break;default:n=Qs}n=gh(n,uh.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function uh(t,e){if(Bs=-1,Fs=0,B&6)throw Error(x(327));var n=t.callbackNode;if(Qn()&&t.callbackNode!==n)return null;var r=Gs(t,t===fe?ye:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=fi(t,r);else{e=r;var s=B;B|=2;var i=dh();(fe!==t||ye!==e)&&(gt=null,nr=oe()+500,cn(t,e));do try{im();break}catch(a){ch(t,a)}while(1);Ga(),ci.current=i,B=s,le!==null?e=0:(fe=null,ye=0,e=de)}if(e!==0){if(e===2&&(s=Do(t),s!==0&&(r=s,e=ha(t,s))),e===1)throw n=Yr,cn(t,0),It(t,r),Ie(t,oe()),n;if(e===6)It(t,r);else{if(s=t.current.alternate,!(r&30)&&!rm(s)&&(e=fi(t,r),e===2&&(i=Do(t),i!==0&&(r=i,e=ha(t,i))),e===1))throw n=Yr,cn(t,0),It(t,r),Ie(t,oe()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(x(345));case 2:tn(t,Oe,gt);break;case 3:if(It(t,r),(r&130023424)===r&&(e=cl+500-oe(),10<e)){if(Gs(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Te(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Vo(tn.bind(null,t,Oe,gt),e);break}tn(t,Oe,gt);break;case 4:if(It(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-st(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=oe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*nm(r/1960))-r,10<r){t.timeoutHandle=Vo(tn.bind(null,t,Oe,gt),r);break}tn(t,Oe,gt);break;case 5:tn(t,Oe,gt);break;default:throw Error(x(329))}}}return Ie(t,oe()),t.callbackNode===n?uh.bind(null,t):null}function ha(t,e){var n=Pr;return t.current.memoizedState.isDehydrated&&(cn(t,e).flags|=256),t=fi(t,e),t!==2&&(e=Oe,Oe=n,e!==null&&fa(e)),t}function fa(t){Oe===null?Oe=t:Oe.push.apply(Oe,t)}function rm(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!ot(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function It(t,e){for(e&=~ul,e&=~ji,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-st(e),r=1<<n;t[n]=-1,e&=~r}}function Nu(t){if(B&6)throw Error(x(327));Qn();var e=Gs(t,0);if(!(e&1))return Ie(t,oe()),null;var n=fi(t,e);if(t.tag!==0&&n===2){var r=Do(t);r!==0&&(e=r,n=ha(t,r))}if(n===1)throw n=Yr,cn(t,0),It(t,e),Ie(t,oe()),n;if(n===6)throw Error(x(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,tn(t,Oe,gt),Ie(t,oe()),null}function dl(t,e){var n=B;B|=1;try{return t(e)}finally{B=n,B===0&&(nr=oe()+500,xi&&Jt())}}function gn(t){$t!==null&&$t.tag===0&&!(B&6)&&Qn();var e=B;B|=1;var n=Qe.transition,r=W;try{if(Qe.transition=null,W=1,t)return t()}finally{W=r,Qe.transition=n,B=e,!(B&6)&&Jt()}}function hl(){Ue=Hn.current,J(Hn)}function cn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Rp(n)),le!==null)for(n=le.return;n!==null;){var r=n;switch(Va(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ei();break;case 3:er(),J(Ne),J(Se),tl();break;case 5:el(r);break;case 4:er();break;case 13:J(te);break;case 19:J(te);break;case 10:Ja(r.type._context);break;case 22:case 23:hl()}n=n.return}if(fe=t,le=t=qt(t.current,null),ye=Ue=e,de=0,Yr=null,ul=ji=mn=0,Oe=Pr=null,an!==null){for(e=0;e<an.length;e++)if(n=an[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}an=null}return t}function ch(t,e){do{var n=le;try{if(Ga(),Ms.current=ui,li){for(var r=ne.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}li=!1}if(pn=0,he=ce=ne=null,Ar=!1,Qr=0,ll.current=null,n===null||n.return===null){de=1,Yr=e,le=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=ye,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,m=d.tag;if(!(d.mode&1)&&(m===0||m===11||m===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=wu(o);if(y!==null){y.flags&=-257,_u(y,o,a,i,e),y.mode&1&&vu(i,u,e),e=y,l=u;var v=e.updateQueue;if(v===null){var w=new Set;w.add(l),e.updateQueue=w}else v.add(l);break e}else{if(!(e&1)){vu(i,u,e),fl();break e}l=Error(x(426))}}else if(X&&a.mode&1){var k=wu(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),_u(k,o,a,i,e),Ka(tr(l,a));break e}}i=l=tr(l,a),de!==4&&(de=2),Pr===null?Pr=[i]:Pr.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var p=Kd(i,l,e);hu(i,p);break e;case 1:a=l;var h=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof h.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Ft===null||!Ft.has(g)))){i.flags|=65536,e&=-e,i.lanes|=e;var _=Qd(i,a,e);hu(i,_);break e}}i=i.return}while(i!==null)}fh(n)}catch(T){e=T,le===n&&n!==null&&(le=n=n.return);continue}break}while(1)}function dh(){var t=ci.current;return ci.current=ui,t===null?ui:t}function fl(){(de===0||de===3||de===2)&&(de=4),fe===null||!(mn&268435455)&&!(ji&268435455)||It(fe,ye)}function fi(t,e){var n=B;B|=2;var r=dh();(fe!==t||ye!==e)&&(gt=null,cn(t,e));do try{sm();break}catch(s){ch(t,s)}while(1);if(Ga(),B=n,ci.current=r,le!==null)throw Error(x(261));return fe=null,ye=0,de}function sm(){for(;le!==null;)hh(le)}function im(){for(;le!==null&&!Of();)hh(le)}function hh(t){var e=mh(t.alternate,t,Ue);t.memoizedProps=t.pendingProps,e===null?fh(t):le=e,ll.current=null}function fh(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Xp(n,e),n!==null){n.flags&=32767,le=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{de=6,le=null;return}}else if(n=Yp(n,e,Ue),n!==null){le=n;return}if(e=e.sibling,e!==null){le=e;return}le=e=t}while(e!==null);de===0&&(de=5)}function tn(t,e,n){var r=W,s=Qe.transition;try{Qe.transition=null,W=1,om(t,e,n,r)}finally{Qe.transition=s,W=r}return null}function om(t,e,n,r){do Qn();while($t!==null);if(B&6)throw Error(x(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(x(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(zf(t,i),t===fe&&(le=fe=null,ye=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Es||(Es=!0,gh(Qs,function(){return Qn(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Qe.transition,Qe.transition=null;var o=W;W=1;var a=B;B|=4,ll.current=null,em(t,n),ah(n,t),Ep(Wo),Js=!!Fo,Wo=Fo=null,t.current=n,tm(n),Pf(),B=a,W=o,Qe.transition=i}else t.current=n;if(Es&&(Es=!1,$t=t,hi=s),i=t.pendingLanes,i===0&&(Ft=null),If(n.stateNode),Ie(t,oe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(di)throw di=!1,t=ca,ca=null,t;return hi&1&&t.tag!==0&&Qn(),i=t.pendingLanes,i&1?t===da?Nr++:(Nr=0,da=t):Nr=0,Jt(),null}function Qn(){if($t!==null){var t=Kc(hi),e=Qe.transition,n=W;try{if(Qe.transition=null,W=16>t?16:t,$t===null)var r=!1;else{if(t=$t,$t=null,hi=0,B&6)throw Error(x(331));var s=B;for(B|=4,A=t.current;A!==null;){var i=A,o=i.child;if(A.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(A=u;A!==null;){var d=A;switch(d.tag){case 0:case 11:case 15:Or(8,d,i)}var m=d.child;if(m!==null)m.return=d,A=m;else for(;A!==null;){d=A;var f=d.sibling,y=d.return;if(sh(d),d===u){A=null;break}if(f!==null){f.return=y,A=f;break}A=y}}}var v=i.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var k=w.sibling;w.sibling=null,w=k}while(w!==null)}}A=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,A=o;else e:for(;A!==null;){if(i=A,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Or(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,A=p;break e}A=i.return}}var h=t.current;for(A=h;A!==null;){o=A;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,A=g;else e:for(o=h;A!==null;){if(a=A,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ci(9,a)}}catch(T){ie(a,a.return,T)}if(a===o){A=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,A=_;break e}A=a.return}}if(B=s,Jt(),ft&&typeof ft.onPostCommitFiberRoot=="function")try{ft.onPostCommitFiberRoot(wi,t)}catch{}r=!0}return r}finally{W=n,Qe.transition=e}}return!1}function Ru(t,e,n){e=tr(n,e),e=Kd(t,e,1),t=Bt(t,e,1),e=Te(),t!==null&&(is(t,1,e),Ie(t,e))}function ie(t,e,n){if(t.tag===3)Ru(t,t,n);else for(;e!==null;){if(e.tag===3){Ru(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ft===null||!Ft.has(r))){t=tr(n,t),t=Qd(e,t,1),e=Bt(e,t,1),t=Te(),e!==null&&(is(e,1,t),Ie(e,t));break}}e=e.return}}function am(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Te(),t.pingedLanes|=t.suspendedLanes&n,fe===t&&(ye&n)===n&&(de===4||de===3&&(ye&130023424)===ye&&500>oe()-cl?cn(t,0):ul|=n),Ie(t,e)}function ph(t,e){e===0&&(t.mode&1?(e=gs,gs<<=1,!(gs&130023424)&&(gs=4194304)):e=1);var n=Te();t=Tt(t,e),t!==null&&(is(t,e,n),Ie(t,n))}function lm(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),ph(t,n)}function um(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(x(314))}r!==null&&r.delete(e),ph(t,n)}var mh;mh=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ne.current)Pe=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Pe=!1,Jp(t,e,n);Pe=!!(t.flags&131072)}else Pe=!1,X&&e.flags&1048576&&wd(e,ri,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Hs(t,e),t=e.pendingProps;var s=Yn(e,Se.current);Kn(e,n),s=rl(null,e,r,t,s,n);var i=sl();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Re(r)?(i=!0,ti(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Xa(e),s.updater=Ei,e.stateNode=s,s._reactInternals=e,Zo(e,r,t,n),e=na(null,e,r,!0,i,n)):(e.tag=0,X&&i&&qa(e),xe(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Hs(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=dm(r),t=Ze(r,t),s){case 0:e=ta(null,e,r,t,n);break e;case 1:e=Su(null,e,r,t,n);break e;case 11:e=ku(null,e,r,t,n);break e;case 14:e=bu(null,e,r,Ze(r.type,t),n);break e}throw Error(x(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ze(r,s),ta(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ze(r,s),Su(t,e,r,s,n);case 3:e:{if(Xd(e),t===null)throw Error(x(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Td(t,e),oi(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=tr(Error(x(423)),e),e=xu(t,e,r,n,s);break e}else if(r!==s){s=tr(Error(x(424)),e),e=xu(t,e,r,n,s);break e}else for(ze=Ht(e.stateNode.containerInfo.firstChild),He=e,X=!0,rt=null,n=Sd(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Xn(),r===s){e=Et(t,e,n);break e}xe(t,e,r,n)}e=e.child}return e;case 5:return Ed(e),t===null&&Jo(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,qo(r,s)?o=null:i!==null&&qo(r,i)&&(e.flags|=32),Yd(t,e),xe(t,e,o,n),e.child;case 6:return t===null&&Jo(e),null;case 13:return Zd(t,e,n);case 4:return Za(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Zn(e,null,r,n):xe(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ze(r,s),ku(t,e,r,s,n);case 7:return xe(t,e,e.pendingProps,n),e.child;case 8:return xe(t,e,e.pendingProps.children,n),e.child;case 12:return xe(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,K(si,r._currentValue),r._currentValue=o,i!==null)if(ot(i.value,o)){if(i.children===s.children&&!Ne.current){e=Et(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=bt(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Yo(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(x(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Yo(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}xe(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Kn(e,n),s=Ge(s),r=r(s),e.flags|=1,xe(t,e,r,n),e.child;case 14:return r=e.type,s=Ze(r,e.pendingProps),s=Ze(r.type,s),bu(t,e,r,s,n);case 15:return Gd(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ze(r,s),Hs(t,e),e.tag=1,Re(r)?(t=!0,ti(e)):t=!1,Kn(e,n),Vd(e,r,s),Zo(e,r,s,n),na(null,e,r,!0,t,n);case 19:return eh(t,e,n);case 22:return Jd(t,e,n)}throw Error(x(156,e.tag))};function gh(t,e){return Fc(t,e)}function cm(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ke(t,e,n,r){return new cm(t,e,n,r)}function pl(t){return t=t.prototype,!(!t||!t.isReactComponent)}function dm(t){if(typeof t=="function")return pl(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ra)return 11;if(t===Ia)return 14}return 2}function qt(t,e){var n=t.alternate;return n===null?(n=Ke(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ws(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")pl(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Pn:return dn(n.children,s,i,e);case Na:o=8,s|=8;break;case So:return t=Ke(12,n,e,s|2),t.elementType=So,t.lanes=i,t;case xo:return t=Ke(13,n,e,s),t.elementType=xo,t.lanes=i,t;case To:return t=Ke(19,n,e,s),t.elementType=To,t.lanes=i,t;case Ec:return Ai(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case xc:o=10;break e;case Tc:o=9;break e;case Ra:o=11;break e;case Ia:o=14;break e;case Ot:o=16,r=null;break e}throw Error(x(130,t==null?t:typeof t,""))}return e=Ke(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function dn(t,e,n,r){return t=Ke(7,t,r,e),t.lanes=n,t}function Ai(t,e,n,r){return t=Ke(22,t,r,e),t.elementType=Ec,t.lanes=n,t.stateNode={isHidden:!1},t}function uo(t,e,n){return t=Ke(6,t,null,e),t.lanes=n,t}function co(t,e,n){return e=Ke(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function hm(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wi(0),this.expirationTimes=Wi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wi(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ml(t,e,n,r,s,i,o,a,l){return t=new hm(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ke(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xa(i),t}function fm(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:On,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function yh(t){if(!t)return Kt;t=t._reactInternals;e:{if(vn(t)!==t||t.tag!==1)throw Error(x(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Re(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(x(171))}if(t.tag===1){var n=t.type;if(Re(n))return yd(t,n,e)}return e}function vh(t,e,n,r,s,i,o,a,l){return t=ml(n,r,!0,t,s,i,o,a,l),t.context=yh(null),n=t.current,r=Te(),s=Wt(n),i=bt(r,s),i.callback=e??null,Bt(n,i,s),t.current.lanes=s,is(t,s,r),Ie(t,r),t}function Oi(t,e,n,r){var s=e.current,i=Te(),o=Wt(s);return n=yh(n),e.context===null?e.context=n:e.pendingContext=n,e=bt(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Bt(s,e,o),t!==null&&(it(t,s,o,i),Ds(t,s,o)),o}function pi(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Iu(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function gl(t,e){Iu(t,e),(t=t.alternate)&&Iu(t,e)}function pm(){return null}var wh=typeof reportError=="function"?reportError:function(t){console.error(t)};function yl(t){this._internalRoot=t}Pi.prototype.render=yl.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(x(409));Oi(t,e,null,null)};Pi.prototype.unmount=yl.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;gn(function(){Oi(null,t,null,null)}),e[xt]=null}};function Pi(t){this._internalRoot=t}Pi.prototype.unstable_scheduleHydration=function(t){if(t){var e=Jc();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Rt.length&&e!==0&&e<Rt[n].priority;n++);Rt.splice(n,0,t),n===0&&Xc(t)}};function vl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ni(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Lu(){}function mm(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=pi(o);i.call(u)}}var o=vh(e,r,t,0,null,!1,!1,"",Lu);return t._reactRootContainer=o,t[xt]=o.current,Fr(t.nodeType===8?t.parentNode:t),gn(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=pi(l);a.call(u)}}var l=ml(t,0,!1,null,null,!1,!1,"",Lu);return t._reactRootContainer=l,t[xt]=l.current,Fr(t.nodeType===8?t.parentNode:t),gn(function(){Oi(e,l,n,r)}),l}function Ri(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=pi(o);a.call(l)}}Oi(e,o,t,s)}else o=mm(n,e,t,s,r);return pi(o)}Qc=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=_r(e.pendingLanes);n!==0&&($a(e,n|1),Ie(e,oe()),!(B&6)&&(nr=oe()+500,Jt()))}break;case 13:gn(function(){var r=Tt(t,1);if(r!==null){var s=Te();it(r,t,1,s)}}),gl(t,1)}};Da=function(t){if(t.tag===13){var e=Tt(t,134217728);if(e!==null){var n=Te();it(e,t,134217728,n)}gl(t,134217728)}};Gc=function(t){if(t.tag===13){var e=Wt(t),n=Tt(t,e);if(n!==null){var r=Te();it(n,t,e,r)}gl(t,e)}};Jc=function(){return W};Yc=function(t,e){var n=W;try{return W=t,e()}finally{W=n}};Lo=function(t,e,n){switch(e){case"input":if(jo(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Si(r);if(!s)throw Error(x(90));jc(r),jo(r,s)}}}break;case"textarea":Oc(t,n);break;case"select":e=n.value,e!=null&&Fn(t,!!n.multiple,e,!1)}};$c=dl;Dc=gn;var gm={usingClientEntryPoint:!1,Events:[as,Ln,Si,Lc,Uc,dl]},mr={findFiberByHostInstance:on,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ym={bundleType:mr.bundleType,version:mr.version,rendererPackageName:mr.rendererPackageName,rendererConfig:mr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ct.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Hc(t),t===null?null:t.stateNode},findFiberByHostInstance:mr.findFiberByHostInstance||pm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cs.isDisabled&&Cs.supportsFiber)try{wi=Cs.inject(ym),ft=Cs}catch{}}Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gm;Fe.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vl(e))throw Error(x(200));return fm(t,e,null,n)};Fe.createRoot=function(t,e){if(!vl(t))throw Error(x(299));var n=!1,r="",s=wh;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=ml(t,1,!1,null,null,n,!1,r,s),t[xt]=e.current,Fr(t.nodeType===8?t.parentNode:t),new yl(e)};Fe.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(x(188)):(t=Object.keys(t).join(","),Error(x(268,t)));return t=Hc(e),t=t===null?null:t.stateNode,t};Fe.flushSync=function(t){return gn(t)};Fe.hydrate=function(t,e,n){if(!Ni(e))throw Error(x(200));return Ri(null,t,e,!0,n)};Fe.hydrateRoot=function(t,e,n){if(!vl(t))throw Error(x(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=wh;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=vh(e,null,t,1,n??null,s,!1,i,o),t[xt]=e.current,Fr(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Pi(e)};Fe.render=function(t,e,n){if(!Ni(e))throw Error(x(200));return Ri(null,t,e,!1,n)};Fe.unmountComponentAtNode=function(t){if(!Ni(t))throw Error(x(40));return t._reactRootContainer?(gn(function(){Ri(null,null,t,!1,function(){t._reactRootContainer=null,t[xt]=null})}),!0):!1};Fe.unstable_batchedUpdates=dl;Fe.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ni(n))throw Error(x(200));if(t==null||t._reactInternals===void 0)throw Error(x(38));return Ri(t,e,n,!1,r)};Fe.version="18.3.1-next-f1338f8080-20240426";function _h(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_h)}catch(t){console.error(t)}}_h(),_c.exports=Fe;var vm=_c.exports,Uu=vm;ko.createRoot=Uu.createRoot,ko.hydrateRoot=Uu.hydrateRoot;function Ii(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function wm(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(m){o(m)}}function l(d){try{u(r.throw(d))}catch(m){o(m)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})}const _m=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class wl extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class km extends wl{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class $u extends wl{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Du extends wl{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var pa;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(pa||(pa={}));class bm{constructor(e,{headers:n={},customFetch:r,region:s=pa.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=_m(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return wm(this,arguments,void 0,function*(n,r={}){var s;let i,o;try{const{headers:a,method:l,body:u,signal:d,timeout:m}=r;let f={},{region:y}=r;y||(y=this.region);const v=new URL(`${this.url}/${n}`);y&&y!=="any"&&(f["x-region"]=y,v.searchParams.set("forceFunctionRegion",y));let w;u&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",w=u):typeof u=="string"?(f["Content-Type"]="text/plain",w=u):typeof FormData<"u"&&u instanceof FormData?w=u:(f["Content-Type"]="application/json",w=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?w=JSON.stringify(u):w=u;let k=d;m&&(o=new AbortController,i=setTimeout(()=>o.abort(),m),d?(k=o.signal,d.addEventListener("abort",()=>o.abort())):k=o.signal);const p=yield this.fetch(v.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),a),body:w,signal:k}).catch(T=>{throw new km(T)}),h=p.headers.get("x-relay-error");if(h&&h==="true")throw new $u(p);if(!p.ok)throw new Du(p);let g=((s=p.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),_;return g==="application/json"?_=yield p.json():g==="application/octet-stream"||g==="application/pdf"?_=yield p.blob():g==="text/event-stream"?_=p:g==="multipart/form-data"?_=yield p.formData():_=yield p.text(),{data:_,error:null,response:p}}catch(a){return{data:null,error:a,response:a instanceof Du||a instanceof $u?a.context:void 0}}finally{i&&clearTimeout(i)}})}}var Sm=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},xm=class{constructor(t){var e,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,a=null,l=null,u=i.status,d=i.statusText;if(i.ok){var m,f;if(n.method!=="HEAD"){var y;const p=await i.text();p===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((y=n.headers.get("Accept"))===null||y===void 0)&&y.includes("application/vnd.pgrst.plan+text"))?a=p:a=JSON.parse(p))}const w=(m=n.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),k=(f=i.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");w&&k&&k.length>1&&(l=parseInt(k[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(a)&&(a.length>1?(o={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,l=null,u=406,d="Not Acceptable"):a.length===1?a=a[0]:a=null)}else{var v;const w=await i.text();try{o=JSON.parse(w),Array.isArray(o)&&i.status===404&&(a=[],o=null,u=200,d="OK")}catch{i.status===404&&w===""?(u=204,d="No Content"):o={message:w}}if(o&&n.isMaybeSingle&&(!(o==null||(v=o.details)===null||v===void 0)&&v.includes("0 rows"))&&(o=null,u=200,d="OK"),o&&n.shouldThrowOnError)throw new Sm(o)}return{error:o,data:a,count:l,status:u,statusText:d}});return this.shouldThrowOnError||(s=s.catch(i=>{var o;let a="";const l=i==null?void 0:i.cause;if(l){var u,d,m,f;const v=(u=l==null?void 0:l.message)!==null&&u!==void 0?u:"",w=(d=l==null?void 0:l.code)!==null&&d!==void 0?d:"";a=`${(m=i==null?void 0:i.name)!==null&&m!==void 0?m:"FetchError"}: ${i==null?void 0:i.message}`,a+=`

Caused by: ${(f=l==null?void 0:l.name)!==null&&f!==void 0?f:"Error"}: ${v}`,w&&(a+=` (${w})`),l!=null&&l.stack&&(a+=`
${l.stack}`)}else{var y;a=(y=i==null?void 0:i.stack)!==null&&y!==void 0?y:""}return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:a,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(t,e)}returns(){return this}overrideTypes(){return this}},Tm=class extends xm{select(t){let e=!1;const n=(t??"*").split("").map(r=>/\s/.test(r)&&!e?"":(r==='"'&&(e=!e),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:r,referencedTable:s=r}={}){const i=s?`${s}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"offset":`${r}.offset`,i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(i,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:r=!1,wal:s=!1,format:i="text"}={}){var o;const a=[t?"analyze":null,e?"verbose":null,n?"settings":null,r?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${l}"; options=${a};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const Mu=new RegExp("[,()]");var Cn=class extends Tm{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&Mu.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&Mu.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:r}={}){let s="";r==="plain"?s="pl":r==="phrase"?s="ph":r==="websearch"&&(s="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${s}fts${i}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},Em=class{constructor(t,{headers:e={},schema:n,fetch:r}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=r}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:n=!1,count:r}=e??{},s=n?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join(""),{url:a,headers:l}=this.cloneRequestState();return a.searchParams.set("select",o),r&&l.append("Prefer",`count=${r}`),new Cn({method:s,url:a,headers:l,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:n=!0}={}){var r;const s="POST",{url:i,headers:o}=this.cloneRequestState();if(e&&o.append("Prefer",`count=${e}`),n||o.append("Prefer","missing=default"),Array.isArray(t)){const a=t.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(a.length>0){const l=[...new Set(a)].map(u=>`"${u}"`);i.searchParams.set("columns",l.join(","))}}return new Cn({method:s,url:i,headers:o,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:r,defaultToNull:s=!0}={}){var i;const o="POST",{url:a,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&a.searchParams.set("on_conflict",e),r&&l.append("Prefer",`count=${r}`),s||l.append("Prefer","missing=default"),Array.isArray(t)){const u=t.reduce((d,m)=>d.concat(Object.keys(m)),[]);if(u.length>0){const d=[...new Set(u)].map(m=>`"${m}"`);a.searchParams.set("columns",d.join(","))}}return new Cn({method:o,url:a,headers:l,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(t,{count:e}={}){var n;const r="PATCH",{url:s,headers:i}=this.cloneRequestState();return e&&i.append("Prefer",`count=${e}`),new Cn({method:r,url:s,headers:i,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var e;const n="DELETE",{url:r,headers:s}=this.cloneRequestState();return t&&s.append("Prefer",`count=${t}`),new Cn({method:n,url:r,headers:s,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},Cm=class kh{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Em(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new kh(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){var o;let a;const l=new URL(`${this.url}/rpc/${e}`);let u;const d=y=>y!==null&&typeof y=="object"&&(!Array.isArray(y)||y.some(d)),m=r&&Object.values(n).some(d);m?(a="POST",u=n):r||s?(a=r?"HEAD":"GET",Object.entries(n).filter(([y,v])=>v!==void 0).map(([y,v])=>[y,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([y,v])=>{l.searchParams.append(y,v)})):(a="POST",u=n);const f=new Headers(this.headers);return m?f.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&f.set("Prefer",`count=${i}`),new Cn({method:a,url:l,headers:f,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class jm{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const s=r.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Am="2.91.0",Om=`realtime-js/${Am}`,Pm="1.0.0",bh="2.0.0",zu=bh,ma=1e4,Nm=1e3,Rm=100;var Nt;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Nt||(Nt={}));var ue;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ue||(ue={}));var nt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(nt||(nt={}));var ga;(function(t){t.websocket="websocket"})(ga||(ga={}));var rn;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(rn||(rn={}));class Im{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r;const s=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(e){var n,r;const s=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},o=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(e,n,r){var s,i;const o=e.topic,a=(s=e.ref)!==null&&s!==void 0?s:"",l=(i=e.join_ref)!==null&&i!==void 0?i:"",u=e.payload.event,d=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},m=Object.keys(d).length===0?"":JSON.stringify(d);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`metadata length ${m.length} exceeds maximum of 255`);const f=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+o.length+u.length+m.length,y=new ArrayBuffer(this.HEADER_LENGTH+f);let v=new DataView(y),w=0;v.setUint8(w++,this.KINDS.userBroadcastPush),v.setUint8(w++,l.length),v.setUint8(w++,a.length),v.setUint8(w++,o.length),v.setUint8(w++,u.length),v.setUint8(w++,m.length),v.setUint8(w++,n),Array.from(l,p=>v.setUint8(w++,p.charCodeAt(0))),Array.from(a,p=>v.setUint8(w++,p.charCodeAt(0))),Array.from(o,p=>v.setUint8(w++,p.charCodeAt(0))),Array.from(u,p=>v.setUint8(w++,p.charCodeAt(0))),Array.from(m,p=>v.setUint8(w++,p.charCodeAt(0)));var k=new Uint8Array(y.byteLength+r.byteLength);return k.set(new Uint8Array(y),0),k.set(new Uint8Array(r),y.byteLength),k.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[s,i,o,a,l]=r;return n({join_ref:s,ref:i,topic:o,event:a,payload:l})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),s=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,s)}}_decodeUserBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2),o=n.getUint8(3),a=n.getUint8(4);let l=this.HEADER_LENGTH+4;const u=r.decode(e.slice(l,l+s));l=l+s;const d=r.decode(e.slice(l,l+i));l=l+i;const m=r.decode(e.slice(l,l+o));l=l+o;const f=e.slice(l,e.byteLength),y=a===this.JSON_ENCODING?JSON.parse(r.decode(f)):f,v={type:this.BROADCAST_EVENT,event:d,payload:y};return o>0&&(v.meta=JSON.parse(m)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>n.includes(r)))}}class Sh{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var V;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(V||(V={}));const Hu=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=Lm(o,t,e,s),i),{}):{}},Lm=(t,e,n,r)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?xh(i,o):ya(o)},xh=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return Mm(e,n)}switch(t){case V.bool:return Um(e);case V.float4:case V.float8:case V.int2:case V.int4:case V.int8:case V.numeric:case V.oid:return $m(e);case V.json:case V.jsonb:return Dm(e);case V.timestamp:return zm(e);case V.abstime:case V.date:case V.daterange:case V.int4range:case V.int8range:case V.money:case V.reltime:case V.text:case V.time:case V.timestamptz:case V.timetz:case V.tsrange:case V.tstzrange:return ya(e);default:return ya(e)}},ya=t=>t,Um=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},$m=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Dm=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},Mm=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>xh(e,a))}return t},zm=t=>typeof t=="string"?t.replace(" ","T"):t,Th=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class ho{constructor(e,n,r={},s=ma){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Bu;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Bu||(Bu={}));class Rr{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Rr.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Rr.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Rr.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(i,(u,d)=>{o[u]||(l[u]=d)}),this.map(o,(u,d)=>{const m=i[u];if(m){const f=d.map(k=>k.presence_ref),y=m.map(k=>k.presence_ref),v=d.filter(k=>y.indexOf(k.presence_ref)<0),w=m.filter(k=>f.indexOf(k.presence_ref)<0);v.length>0&&(a[u]=v),w.length>0&&(l[u]=w)}else a[u]=d}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var u;const d=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),d.length>0){const m=e[a].map(y=>y.presence_ref),f=d.filter(y=>m.indexOf(y.presence_ref)<0);e[a].unshift(...f)}r(a,d,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const d=l.map(m=>m.presence_ref);u=u.filter(m=>d.indexOf(m.presence_ref)<0),e[a]=u,s(a,u,l),u.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Fu;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Fu||(Fu={}));var Ir;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ir||(Ir={}));var yt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(yt||(yt={}));class Bn{constructor(e,n={config:{}},r){var s,i;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=ue.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new ho(this,nt.join,this.params,this.timeout),this.rejoinTimer=new Sh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ue.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ue.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ue.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ue.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ue.errored,this.rejoinTimer.scheduleTimeout())}),this._on(nt.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new Rr(this),this.broadcastEndpointURL=Th(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ue.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,u=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(y=>y.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Ir.PRESENCE]&&this.bindings[Ir.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,m={},f={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:d}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(y=>e==null?void 0:e(yt.CHANNEL_ERROR,y)),this._onClose(()=>e==null?void 0:e(yt.CLOSED)),this.updateJoinPayload(Object.assign({config:f},m)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:y})=>{var v;if(this.socket._isManualToken()||this.socket.setAuth(),y===void 0){e==null||e(yt.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,k=(v=w==null?void 0:w.length)!==null&&v!==void 0?v:0,p=[];for(let h=0;h<k;h++){const g=w[h],{filter:{event:_,schema:T,table:b,filter:E}}=g,j=y&&y[h];if(j&&j.event===_&&Bn.isFilterValueEqual(j.schema,T)&&Bn.isFilterValueEqual(j.table,b)&&Bn.isFilterValueEqual(j.filter,E))p.push(Object.assign(Object.assign({},g),{id:j.id}));else{this.unsubscribe(),this.state=ue.errored,e==null||e(yt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,e&&e(yt.SUBSCRIBED);return}}).receive("error",y=>{this.state=ue.errored,e==null||e(yt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(yt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===ue.joined&&e===Ir.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var s;if(n==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const u=await a.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=e,a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ue.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(nt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new ho(this,nt.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ue.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new ho(this,e,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Rm){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:d}=nt;if(r&&[a,l,u,d].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(y=>{var v,w,k;return((v=y.filter)===null||v===void 0?void 0:v.event)==="*"||((k=(w=y.filter)===null||w===void 0?void 0:w.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===o}).map(y=>y.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(y=>{var v,w,k,p,h,g,_,T;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in y){const b=y.id,E=(v=y.filter)===null||v===void 0?void 0:v.event;return b&&((w=n.ids)===null||w===void 0?void 0:w.includes(b))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((k=n.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))&&(!(!((p=y.filter)===null||p===void 0)&&p.table)||y.filter.table===((h=n.data)===null||h===void 0?void 0:h.table))}else{const b=(_=(g=y==null?void 0:y.filter)===null||g===void 0?void 0:g.event)===null||_===void 0?void 0:_.toLocaleLowerCase();return b==="*"||b===((T=n==null?void 0:n.event)===null||T===void 0?void 0:T.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===o}).map(y=>{if(typeof f=="object"&&"ids"in f){const v=f.data,{schema:w,table:k,commit_timestamp:p,type:h,errors:g}=v;f=Object.assign(Object.assign({},{schema:w,table:k,commit_timestamp:p,eventType:h,new:{},old:{},errors:g}),this._getPayloadRecords(v))}y.callback(f,r)})}_isClosed(){return this.state===ue.closed}_isJoined(){return this.state===ue.joined}_isJoining(){return this.state===ue.joining}_isLeaving(){return this.state===ue.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Bn.isEqual(s.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(nt.close,{},e)}_onError(e){this._on(nt.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ue.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Hu(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Hu(e.columns,e.old_record)),n}}const fo=()=>{},js={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Hm=[1e3,2e3,5e3,1e4],Bm=1e4,Fm=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Wm{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ma,this.transport=null,this.heartbeatIntervalMs=js.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=fo,this.ref=0,this.reconnectTimer=null,this.vsn=zu,this.logger=fo,this.conn=null,this.sendBuffer=[],this.serializer=new Im,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${ga.websocket}`,this.httpEndpoint=Th(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=jm.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Nt.connecting:return rn.Connecting;case Nt.open:return rn.Open;case Nt.closing:return rn.Closing;default:return rn.Closed}}isConnected(){return this.connectionState()===rn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new Bn(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Nm,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},js.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",u)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:s,payload:i,ref:o}=n,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${r} ${s} ${a}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Nt.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Nt.open||this.conn.readyState===Nt.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(nt.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([Fm],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,r=!1;if(e)n=e,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const i={access_token:n,version:Om};n&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(nt.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Sh(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},js.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,s,i,o,a,l,u,d,m,f,y;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:ma,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:js.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:fo,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:zu,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:v=>Hm[v-1]||Bm,this.vsn){case Pm:this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:(v,w)=>w(JSON.stringify(v)),this.decode=(m=e==null?void 0:e.decode)!==null&&m!==void 0?m:(v,w)=>w(JSON.parse(v));break;case bh:this.encode=(f=e==null?void 0:e.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(y=e==null?void 0:e.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var Xr=class extends Error{constructor(t,e){var n;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((n=e.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function qm(t,e,n){const r=new URL(e,t);if(n)for(const[s,i]of Object.entries(n))i!==void 0&&r.searchParams.set(s,i);return r.toString()}async function Vm(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function Km(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:s,body:i,headers:o}){const a=qm(t.baseUrl,r,s),l=await Vm(t.auth),u=await e(a,{method:n,headers:{...i?{"Content-Type":"application/json"}:{},...l,...o},body:i?JSON.stringify(i):void 0}),d=await u.text(),m=(u.headers.get("content-type")||"").includes("application/json"),f=m&&d?JSON.parse(d):d;if(!u.ok){const y=m?f:void 0,v=y==null?void 0:y.error;throw new Xr((v==null?void 0:v.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:v==null?void 0:v.type,icebergCode:v==null?void 0:v.code,details:y})}return{status:u.status,headers:u.headers,data:f}}}}function As(t){return t.join("")}var Qm=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:As(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${As(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${As(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${As(t.namespace)}`}),!0}catch(e){if(e instanceof Xr&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof Xr&&n.status===409)return;throw n}}};function kn(t){return t.join("")}var Gm=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${kn(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${kn(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${kn(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${kn(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${kn(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${kn(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof Xr&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof Xr&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},Jm=class{constructor(t){var r;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=Km({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(r=t.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new Qm(this.client,e),this.tableOps=new Gm(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},Li=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function ee(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var Ym=class extends Li{constructor(t,e,n){super(t),this.name="StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},va=class extends Li{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const _l=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Xm=()=>Response,wa=t=>{if(Array.isArray(t))return t.map(n=>wa(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=wa(r)}),e},Zm=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},eg=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function Zr(t){"@babel/helpers - typeof";return Zr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zr(t)}function tg(t,e){if(Zr(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Zr(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ng(t){var e=tg(t,"string");return Zr(e)=="symbol"?e:e+""}function rg(t,e,n){return(e=ng(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wu(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function U(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Wu(Object(n),!0).forEach(function(r){rg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wu(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const po=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},sg=async(t,e,n)=>{t instanceof await Xm()&&!(n!=null&&n.noResolveJson)?t.json().then(r=>{const s=t.status||500,i=(r==null?void 0:r.statusCode)||s+"";e(new Ym(po(r),s,i))}).catch(r=>{e(new va(po(r),r))}):e(new va(po(t),t))},ig=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?s:(Zm(r)?(s.headers=U({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,e!=null&&e.duplex&&(s.duplex=e.duplex),U(U({},s),n))};async function us(t,e,n,r,s,i){return new Promise((o,a)=>{t(n,ig(e,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>sg(l,a,r))})}async function es(t,e,n,r){return us(t,"GET",e,n,r)}async function et(t,e,n,r,s){return us(t,"POST",e,r,s,n)}async function _a(t,e,n,r,s){return us(t,"PUT",e,r,s,n)}async function og(t,e,n,r){return us(t,"HEAD",e,U(U({},n),{},{noResolveJson:!0}),r)}async function kl(t,e,n,r,s){return us(t,"DELETE",e,r,s,n)}var ag=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(ee(e))return{data:null,error:e};throw e}}};let Eh;Eh=Symbol.toStringTag;var lg=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[Eh]="BlobDownloadBuilder",this.promise=null}asStream(){return new ag(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(ee(e))return{data:null,error:e};throw e}}};const ug={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},qu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var cg=class{constructor(t,e={},n,r){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=n,this.fetch=_l(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,n,r){var s=this;try{let i;const o=U(U({},qu),r);let a=U(U({},s.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",s.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),l&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(l))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=s.toBase64(s.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),r!=null&&r.headers&&(a=U(U({},a),r.headers));const u=s._removeEmptyFolders(e),d=s._getFinalPath(u),m=await(t=="PUT"?_a:et)(s.fetch,`${s.url}/object/${d}`,i,U({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:m.Id,fullPath:m.Key},error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(ee(i))return{data:null,error:i};throw i}}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,r){var s=this;const i=s._removeEmptyFolders(t),o=s._getFinalPath(i),a=new URL(s.url+`/object/upload/sign/${o}`);a.searchParams.set("token",e);try{let l;const u=U({upsert:qu.upsert},r),d=U(U({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{data:{path:i,fullPath:(await _a(s.fetch,a.toString(),l,{headers:d})).Key},error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(ee(l))return{data:null,error:l};throw l}}async createSignedUploadUrl(t,e){var n=this;try{let r=n._getFinalPath(t);const s=U({},n.headers);e!=null&&e.upsert&&(s["x-upsert"]="true");const i=await et(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(n.url+i.url),a=o.searchParams.get("token");if(!a)throw new Li("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ee(r))return{data:null,error:r};throw r}}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var r=this;try{return{data:await et(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(ee(s))return{data:null,error:s};throw s}}async copy(t,e,n){var r=this;try{return{data:{path:(await et(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key},error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(ee(s))return{data:null,error:s};throw s}}async createSignedUrl(t,e,n){var r=this;try{let s=r._getFinalPath(t),i=await et(r.fetch,`${r.url}/object/sign/${s}`,U({expiresIn:e},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${r.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(ee(s))return{data:null,error:s};throw s}}async createSignedUrls(t,e,n){var r=this;try{const s=await et(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:e,paths:t},{headers:r.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>U(U({},o),{},{signedUrl:o.signedURL?encodeURI(`${r.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(ee(s))return{data:null,error:s};throw s}}download(t,e){const n=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),s=r?`?${r}`:"",i=this._getFinalPath(t),o=()=>es(this.fetch,`${this.url}/${n}/${i}${s}`,{headers:this.headers,noResolveJson:!0});return new lg(o,this.shouldThrowOnError)}async info(t){var e=this;const n=e._getFinalPath(t);try{return{data:wa(await es(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ee(r))return{data:null,error:r};throw r}}async exists(t){var e=this;const n=e._getFinalPath(t);try{return await og(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ee(r)&&r instanceof va){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}}getPublicUrl(t,e){const n=this._getFinalPath(t),r=[],s=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";s!==""&&r.push(s);const i=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});o!==""&&r.push(o);let a=r.join("&");return a!==""&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${n}${a}`)}}}async remove(t){var e=this;try{return{data:await kl(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ee(n))return{data:null,error:n};throw n}}async list(t,e,n){var r=this;try{const s=U(U(U({},ug),e),{},{prefix:t||""});return{data:await et(r.fetch,`${r.url}/object/list/${r.bucketId}`,s,{headers:r.headers},n),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(ee(s))return{data:null,error:s};throw s}}async listV2(t,e){var n=this;try{const r=U({},t);return{data:await et(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},e),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ee(r))return{data:null,error:r};throw r}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const Ch="2.91.0",jh={"X-Client-Info":`storage-js/${Ch}`};var dg=class{constructor(t,e={},n,r){this.shouldThrowOnError=!1;const s=new URL(t);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=U(U({},jh),e),this.fetch=_l(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const n=e.listBucketOptionsToQueryString(t);return{data:await es(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ee(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await es(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ee(n))return{data:null,error:n};throw n}}async createBucket(t,e={public:!1}){var n=this;try{return{data:await et(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ee(r))return{data:null,error:r};throw r}}async updateBucket(t,e){var n=this;try{return{data:await _a(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ee(r))return{data:null,error:r};throw r}}async emptyBucket(t){var e=this;try{return{data:await et(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ee(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await kl(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ee(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},hg=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=U(U({},jh),e),this.fetch=_l(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await et(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ee(n))return{data:null,error:n};throw n}}async listBuckets(t){var e=this;try{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const r=n.toString(),s=r?`${e.url}/bucket?${r}`:`${e.url}/bucket`;return{data:await es(e.fetch,s,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ee(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await kl(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ee(n))return{data:null,error:n};throw n}}from(t){var e=this;if(!eg(t))throw new Li("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new Jm({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(s,i){const o=s[i];return typeof o!="function"?o:async(...a)=>{try{return{data:await o.apply(s,a),error:null}}catch(l){if(r)throw l;return{data:null,error:l}}}}})}};const bl={"X-Client-Info":`storage-js/${Ch}`,"Content-Type":"application/json"};var Ah=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function $e(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var mo=class extends Ah{constructor(t,e,n){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},fg=class extends Ah{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const Sl=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),pg=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Vu=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),mg=async(t,e,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const r=t.status||500,s=t;if(typeof s.json=="function")s.json().then(i=>{const o=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||r+"";e(new mo(Vu(i),r,o))}).catch(()=>{const i=r+"";e(new mo(s.statusText||`HTTP ${r} error`,r,i))});else{const i=r+"";e(new mo(s.statusText||`HTTP ${r} error`,r,i))}}else e(new fg(Vu(t),t))},gg=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?s:(pg(r)?(s.headers=U({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,U(U({},s),n))};async function yg(t,e,n,r,s,i){return new Promise((o,a)=>{t(n,gg(e,r,s,i)).then(l=>{if(!l.ok)throw l;if(r!=null&&r.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>mg(l,a,r))})}async function De(t,e,n,r,s){return yg(t,"POST",e,r,s,n)}var vg=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=U(U({},bl),e),this.fetch=Sl(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await De(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}}async getIndex(t,e){var n=this;try{return{data:await De(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}}async listIndexes(t){var e=this;try{return{data:await De(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}}async deleteIndex(t,e){var n=this;try{return{data:await De(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}}},wg=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=U(U({},bl),e),this.fetch=Sl(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await De(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}}async getVectors(t){var e=this;try{return{data:await De(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await De(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}}async queryVectors(t){var e=this;try{return{data:await De(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await De(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}}},_g=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=U(U({},bl),e),this.fetch=Sl(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await De(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await De(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}}async listBuckets(t={}){var e=this;try{return{data:await De(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await De(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}}},kg=class extends _g{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new bg(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},bg=class extends vg{constructor(t,e,n,r){super(t,e,r),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,U(U({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,U(U({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new Sg(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},Sg=class extends wg{constructor(t,e,n,r,s){super(t,e,s),this.vectorBucketName=n,this.indexName=r}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,U(U({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,U(U({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,U(U({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,U(U({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,U(U({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},xg=class extends dg{constructor(t,e={},n,r){super(t,e,n,r)}from(t){return new cg(this.url,this.headers,t,this.fetch)}get vectors(){return new kg(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new hg(this.url+"/iceberg",this.headers,this.fetch)}};const Oh="2.91.0",jn=30*1e3,ka=3,go=ka*jn,Tg="http://localhost:9999",Eg="supabase.auth.token",Cg={"X-Client-Info":`gotrue-js/${Oh}`},ba="X-Supabase-Api-Version",Ph={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},jg=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Ag=10*60*1e3;class ts extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function N(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Og extends ts{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Pg(t){return N(t)&&t.name==="AuthApiError"}class sn extends ts{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class jt extends ts{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class Le extends jt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Ng(t){return N(t)&&t.name==="AuthSessionMissingError"}class bn extends jt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Os extends jt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ps extends jt{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Rg(t){return N(t)&&t.name==="AuthImplicitGrantRedirectError"}class Ku extends jt{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ig extends jt{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Sa extends jt{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function yo(t){return N(t)&&t.name==="AuthRetryableFetchError"}class Qu extends jt{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class xa extends jt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const mi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Gu=` 	
\r=`.split(""),Lg=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Gu.length;e+=1)t[Gu[e].charCodeAt(0)]=-2;for(let e=0;e<mi.length;e+=1)t[mi[e].charCodeAt(0)]=e;return t})();function Ju(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(mi[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(mi[r]),e.queuedBits-=6}}function Nh(t,e,n){const r=Lg[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Yu(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{Dg(o,r,n)};for(let o=0;o<t.length;o+=1)Nh(t.charCodeAt(o),s,i);return e.join("")}function Ug(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function $g(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}Ug(r,e)}}function Dg(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Gn(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Nh(t.charCodeAt(s),n,r);return new Uint8Array(e)}function Mg(t){const e=[];return $g(t,n=>e.push(n)),new Uint8Array(e)}function un(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>Ju(s,n,r)),Ju(null,n,r),e.join("")}function zg(t){return Math.round(Date.now()/1e3)+t}function Hg(){return Symbol("auth-callback")}const me=()=>typeof window<"u"&&typeof document<"u",Xt={tested:!1,writable:!1},Rh=()=>{if(!me())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Xt.tested)return Xt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Xt.tested=!0,Xt.writable=!0}catch{Xt.tested=!0,Xt.writable=!1}return Xt.writable};function Bg(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const Ih=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Fg=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",An=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Zt=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},pe=async(t,e)=>{await t.removeItem(e)};class Ui{constructor(){this.promise=new Ui.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Ui.promiseConstructor=Promise;function vo(t){const e=t.split(".");if(e.length!==3)throw new xa("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!jg.test(e[r]))throw new xa("JWT not in base64url format");return{header:JSON.parse(Yu(e[0])),payload:JSON.parse(Yu(e[1])),signature:Gn(e[2]),raw:{header:e[0],payload:e[1]}}}async function Wg(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function qg(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function Vg(t){return("0"+t.toString(16)).substr(-2)}function Kg(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,Vg).join("")}async function Qg(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Gg(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await Qg(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Sn(t,e,n=!1){const r=Kg();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await An(t,`${e}-code-verifier`,s);const i=await Gg(r);return[i,r===i?"plain":"s256"]}const Jg=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Yg(t){const e=t.headers.get(ba);if(!e||!e.match(Jg))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Xg(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Zg(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const ey=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function xn(t){if(!ey.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function wo(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ty(t,e){return new Proxy(t,{get:(n,r,s)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,s)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,s)}})}function Xu(t){return JSON.parse(JSON.stringify(t))}const nn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),ny=[502,503,504];async function Zu(t){var e;if(!Fg(t))throw new Sa(nn(t),0);if(ny.includes(t.status))throw new Sa(nn(t),t.status);let n;try{n=await t.json()}catch(i){throw new sn(nn(i),i)}let r;const s=Yg(t);if(s&&s.getTime()>=Ph["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Qu(nn(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Le}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Qu(nn(n),t.status,n.weak_password.reasons);throw new Og(nn(n),t.status||500,r)}const ry=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function L(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[ba]||(i[ba]=Ph["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await sy(t,e,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function sy(t,e,n,r,s,i){const o=ry(e,r,s,i);let a;try{a=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new Sa(nn(l),0)}if(a.ok||await Zu(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await Zu(l)}}function Xe(t){var e;let n=null;ay(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=zg(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function ec(t){const e=Xe(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Lt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function iy(t){return{data:t,error:null}}function oy(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=Ii(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function tc(t){return t}function ay(t){return t.access_token&&t.refresh_token&&t.expires_in}const _o=["global","local","others"];class ly{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Ih(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=_o[0]){if(_o.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${_o.join(", ")}`);try{return await L(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(N(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await L(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Lt})}catch(r){if(N(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=Ii(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await L(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:oy,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(N(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await L(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Lt})}catch(n){if(N(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},d=await L(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:tc});if(d.error)throw d.error;const m=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return y.length>0&&(y.forEach(v=>{const w=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(v.split(";")[1].split("=")[1]);u[`${k}Page`]=w}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},m),u),error:null}}catch(u){if(N(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){xn(e);try{return await L(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Lt})}catch(n){if(N(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){xn(e);try{return await L(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Lt})}catch(r){if(N(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){xn(e);try{return await L(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Lt})}catch(r){if(N(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){xn(e.userId);try{const{data:n,error:r}=await L(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(N(n))return{data:null,error:n};throw n}}async _deleteFactor(e){xn(e.userId),xn(e.id);try{return{data:await L(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(N(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},d=await L(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:tc});if(d.error)throw d.error;const m=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return y.length>0&&(y.forEach(v=>{const w=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(v.split(";")[1].split("=")[1]);u[`${k}Page`]=w}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},m),u),error:null}}catch(u){if(N(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await L(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(N(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await L(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(N(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await L(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(N(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await L(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(N(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await L(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(N(n))return{data:null,error:n};throw n}}}function nc(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const Tn={debug:!!(globalThis&&Rh()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Lh extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class uy extends Lh{}async function cy(t,e,n){Tn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Tn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Tn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{Tn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Tn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new uy(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Tn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function dy(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Uh(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function hy(t){return parseInt(t,16)}function fy(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function py(t){var e;const{chainId:n,domain:r,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:u,scheme:d,uri:m,version:f}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const y=Uh(t.address),v=d?`${d}://${r}`:r,w=t.statement?`${t.statement}
`:"",k=`${v} wants you to sign in with your Ethereum account:
${y}

${w}`;let p=`URI: ${m}
Version: ${f}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(p+=`
Expiration Time: ${s.toISOString()}`),a&&(p+=`
Not Before: ${a.toISOString()}`),l&&(p+=`
Request ID: ${l}`),u){let h=`
Resources:`;for(const g of u){if(!g||typeof g!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${g}`);h+=`
- ${g}`}p+=h}return`${k}
${p}`}class ae extends Error{constructor({message:e,code:n,cause:r,name:s}){var i;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=s??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class gi extends ae{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function my({error:t,options:e}){var n,r,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ae({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new ae({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new ae({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new ae({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new ae({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new ae({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new ae({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new ae({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if($h(o)){if(i.rp.id!==o)return new ae({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ae({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new ae({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new ae({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ae({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function gy({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ae({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new ae({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if($h(r)){if(n.rpId!==r)return new ae({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ae({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new ae({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ae({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class yy{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const vy=new yy;function wy(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,s=Ii(t,["challenge","user","excludeCredentials"]),i=Gn(e).buffer,o=Object.assign(Object.assign({},n),{id:Gn(n.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:i,user:o});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];a.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:Gn(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function _y(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=Ii(t,["challenge","allowCredentials"]),s=Gn(e).buffer,i=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const a=n[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:Gn(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function ky(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:un(new Uint8Array(t.response.attestationObject)),clientDataJSON:un(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function by(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:un(new Uint8Array(s.authenticatorData)),clientDataJSON:un(new Uint8Array(s.clientDataJSON)),signature:un(new Uint8Array(s.signature)),userHandle:s.userHandle?un(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function $h(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function rc(){var t,e;return!!(me()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Sy(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new gi("Browser returned unexpected credential type",e)}:{data:null,error:new gi("Empty credential response",e)}}catch(e){return{data:null,error:my({error:e,options:t})}}}async function xy(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new gi("Browser returned unexpected credential type",e)}:{data:null,error:new gi("Empty credential response",e)}}catch(e){return{data:null,error:gy({error:e,options:t})}}}const Ty={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Ey={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function yi(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of t)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))r[i]=o;else if(n(o))r[i]=o;else if(e(o)){const a=r[i];e(a)?r[i]=yi(a,o):r[i]=yi(o)}else r[i]=o}return r}function Cy(t,e){return yi(Ty,t,e||{})}function jy(t,e){return yi(Ey,t,e||{})}class Ay{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:s},i){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!o)return{data:null,error:a};const l=s??vy.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=Cy(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:m}=await Sy({publicKey:u,signal:l});return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:m}}case"request":{const u=jy(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:m}=await xy(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:l}));return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:m}}}}catch(o){return N(o)?{data:null,error:o}:{data:null,error:new sn("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new ts("rpId is required for WebAuthn authentication")};try{if(!rc())return{data:null,error:new sn("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(o){return N(o)?{data:null,error:o}:{data:null,error:new sn("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new ts("rpId is required for WebAuthn registration")};try{if(!rc())return{data:null,error:new sn("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(d=>{var m;return(m=d.data)===null||m===void 0?void 0:m.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===e&&f.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:a};const{data:l,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(o){return N(o)?{data:null,error:o}:{data:null,error:new sn("Unexpected error in register",o)}}}}dy();const Oy={url:Tg,storageKey:Eg,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Cg,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function sc(t,e,n){return await n()}const En={};class ns{get jwks(){var e,n;return(n=(e=En[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){En[this.storageKey]=Object.assign(Object.assign({},En[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=En[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){En[this.storageKey]=Object.assign(Object.assign({},En[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},Oy),e);if(this.storageKey=i.storageKey,this.instanceID=(n=ns.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,ns.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&me()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new ly({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Ih(i.fetch),this.lock=i.lock||sc,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&me()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=cy:this.lock=sc,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Ay(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Rh()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=nc(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=nc(this.memoryStorage)),me()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Oh}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if(me()&&(n=Bg(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),me()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Rg(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return N(n)?this._returnResult({error:n}):this._returnResult({error:new sn("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Xe}),{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(N(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:d,password:m,options:f}=e;let y=null,v=null;this.flowType==="pkce"&&([y,v]=await Sn(this.storage,this.storageKey)),i=await L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:m,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:y,code_challenge_method:v},xform:Xe})}else if("phone"in e){const{phone:d,password:m,options:f}=e;i=await L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:m,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Xe})}else throw new Os("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return await pe(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(await pe(this.storage,`${this.storageKey}-code-verifier`),N(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:a}=e;n=await L(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:ec})}else if("phone"in e){const{phone:i,password:o,options:a}=e;n=await L(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:ec})}else throw new Os("You must provide either an email or phone number and a password");const{data:r,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!r||!r.session||!r.user){const i=new bn;return this._returnResult({data:{user:null,session:null},error:i})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(N(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,s,i,o,a,l,u,d,m,f;let y,v;if("message"in e)y=e.message,v=e.signature;else{const{chain:w,wallet:k,statement:p,options:h}=e;let g;if(me())if(typeof k=="object")g=k;else{const D=window;if("ethereum"in D&&typeof D.ethereum=="object"&&"request"in D.ethereum&&typeof D.ethereum.request=="function")g=D.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!(h!=null&&h.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");g=k}const _=new URL((n=h==null?void 0:h.url)!==null&&n!==void 0?n:window.location.href),T=await g.request({method:"eth_requestAccounts"}).then(D=>D).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!T||T.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const b=Uh(T[0]);let E=(r=h==null?void 0:h.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!E){const D=await g.request({method:"eth_chainId"});E=hy(D)}const j={domain:_.host,address:b,statement:p,uri:_.href,version:"1",chainId:E,nonce:(s=h==null?void 0:h.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=h==null?void 0:h.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=h==null?void 0:h.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=h==null?void 0:h.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=h==null?void 0:h.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=h==null?void 0:h.signInWithEthereum)===null||d===void 0?void 0:d.resources};y=py(j),v=await g.request({method:"personal_sign",params:[fy(y),b]})}try{const{data:w,error:k}=await L(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:y,signature:v},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Xe});if(k)throw k;if(!w||!w.session||!w.user){const p=new bn;return this._returnResult({data:{user:null,session:null},error:p})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:k})}catch(w){if(N(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(e){var n,r,s,i,o,a,l,u,d,m,f,y;let v,w;if("message"in e)v=e.message,w=e.signature;else{const{chain:k,wallet:p,statement:h,options:g}=e;let _;if(me())if(typeof p=="object")_=p;else{const b=window;if("solana"in b&&typeof b.solana=="object"&&("signIn"in b.solana&&typeof b.solana.signIn=="function"||"signMessage"in b.solana&&typeof b.solana.signMessage=="function"))_=b.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof p!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=p}const T=new URL((n=g==null?void 0:g.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in _&&_.signIn){const b=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},g==null?void 0:g.signInWithSolana),{version:"1",domain:T.host,uri:T.href}),h?{statement:h}:null));let E;if(Array.isArray(b)&&b[0]&&typeof b[0]=="object")E=b[0];else if(b&&typeof b=="object"&&"signedMessage"in b&&"signature"in b)E=b;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)v=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),w=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${T.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...h?["",h,""]:[""],"Version: 1",`URI: ${T.href}`,`Issued At: ${(s=(r=g==null?void 0:g.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=g==null?void 0:g.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...!((o=g==null?void 0:g.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...!((a=g==null?void 0:g.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...!((l=g==null?void 0:g.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...!((u=g==null?void 0:g.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...!((m=(d=g==null?void 0:g.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||m===void 0)&&m.length?["Resources",...g.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const b=await _.signMessage(new TextEncoder().encode(v),"utf8");if(!b||!(b instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=b}}try{const{data:k,error:p}=await L(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:un(w)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Xe});if(p)throw p;if(!k||!k.session||!k.user){const h=new bn;return this._returnResult({data:{user:null,session:null},error:h})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:p})}catch(k){if(N(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async _exchangeCodeForSession(e){const n=await Zt(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new Ig;const{data:i,error:o}=await L(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Xe});if(await pe(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const a=new bn;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return i.session&&(await this._saveSession(i.session),setTimeout(async()=>{await this._notifyAllSubscribers("SIGNED_IN",i.session)},0)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(await pe(this.storage,`${this.storageKey}-code-verifier`),N(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,a=await L(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Xe}),{data:l,error:u}=a;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const d=new bn;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(n){if(N(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Sn(this.storage,this.storageKey));const{error:m}=await L(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:d}=await L(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new Os("You must provide either an email or phone number.")}catch(a){if(await pe(this.storage,`${this.storageKey}-code-verifier`),N(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await L(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Xe});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(N(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var n,r,s,i,o;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await Sn(this.storage,this.storageKey));const u=await L(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:iy});return!((i=u.data)===null||i===void 0)&&i.url&&me()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(a){if(await pe(this.storage,`${this.storageKey}-code-verifier`),N(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Le;const{error:s}=await L(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(N(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await L(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:a}=await L(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a})}throw new Os("You must provide either an email or phone number and a type")}catch(n){if(N(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Zt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<go:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await Zt(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=wo()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=ty(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await L(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Lt}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Le}:await L(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Lt})})}catch(n){if(N(n))return Ng(n)&&(await this._removeSession(),await pe(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Le;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Sn(this.storage,this.storageKey));const{data:u,error:d}=await L(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Lt});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(r){if(await pe(this.storage,`${this.storageKey}-code-verifier`),N(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Le;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=vo(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(n){if(N(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Le;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(N(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!me())throw new Ps("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ps(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Ku("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ps("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Ku("No code detected.");const{data:h,error:g}=await this._exchangeCodeForSession(e.code);if(g)throw g;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:h.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!i||!a||!o||!u)throw new Ps("No session defined in URL");const d=Math.round(Date.now()/1e3),m=parseInt(a);let f=d+m;l&&(f=parseInt(l));const y=f-d;y*1e3<=jn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${m}s`);const v=f-m;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,f,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,f,d);const{data:w,error:k}=await this._getUser(i);if(k)throw k;const p={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:m,expires_at:f,refresh_token:o,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:p,redirectType:e.type},error:null})}catch(r){if(N(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Zt(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({error:i});const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(Pg(a)&&(a.status===404||a.status===401||a.status===403)))return this._returnResult({error:a})}return e!=="others"&&(await this._removeSession(),await pe(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=Hg(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Sn(this.storage,this.storageKey,!0));try{return await L(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(await pe(this.storage,`${this.storageKey}-code-verifier`),N(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(N(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,u,d;const{data:m,error:f}=i;if(f)throw f;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await L(this.fetch,"GET",y,{headers:this.headers,jwt:(d=(u=m.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return me()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(N(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:i}}=n;if(s)throw s;const{options:o,provider:a,token:l,access_token:u,nonce:d}=e,m=await L(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=i==null?void 0:i.access_token)!==null&&r!==void 0?r:void 0,body:{provider:a,id_token:l,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Xe}),{data:f,error:y}=m;return y?this._returnResult({data:{user:null,session:null},error:y}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new bn}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:y}))}catch(s){if(await pe(this.storage,`${this.storageKey}-code-verifier`),N(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await L(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(N(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await qg(async s=>(s>0&&await Wg(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await L(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Xe})),(s,i)=>{const o=200*Math.pow(2,s);return i&&yo(i)&&Date.now()+o-r<jn})}catch(r){if(this._debug(n,"error",r),N(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),me()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Zt(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Zt(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await An(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:wo()}else if(s&&!s.user&&!s.user){const o=await Zt(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await pe(this.storage,this.storageKey+"-user"),await An(this.storage,this.storageKey,s)):s.user=wo()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<go;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${go}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),yo(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Le;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Ui;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Le;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),N(i)){const o={data:null,error:i};return yo(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await pe(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await An(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=Xu(s);await An(this.storage,this.storageKey,i)}else{const s=Xu(n);await An(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await pe(this.storage,this.storageKey),await pe(this.storage,this.storageKey+"-code-verifier"),await pe(this.storage,this.storageKey+"-user"),this.userStorage&&await pe(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&me()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),jn);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/jn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${jn}ms, refresh threshold is ${ka} ticks`),s<=ka&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Lh)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!me()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Sn(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?this._returnResult({data:null,error:i}):await L(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(N(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=await L(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(n){if(N(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?ky(e.webauthn.credential_response):by(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await L(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(n){if(N(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const o=await L(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:wy(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:_y(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(N(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:r},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=vo(r.access_token);let o=null;i.aal&&(o=i.aal);let a=o;((n=(e=r.user.factors)===null||e===void 0?void 0:e.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(a="aal2");const u=i.amr||[];return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?await L(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Le})})}catch(n){if(N(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Le});const o=await L(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&me()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(N(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Le});const o=await L(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&me()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(N(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;return r?this._returnResult({data:null,error:r}):n?await L(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Le})})}catch(e){if(N(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?(await L(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Le})})}catch(n){if(N(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(a=>a.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(a=>a.kid===e),r&&this.jwks_cached_at+Ag>s)return r;const{data:i,error:o}=await L(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(a=>a.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:y,error:v}=await this.getSession();if(v||!y.session)return this._returnResult({data:null,error:v});r=y.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=vo(r);n!=null&&n.allowExpired||Xg(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:y}=await this.getUser(r);if(y)throw y;return{data:{claims:i,header:s,signature:o},error:null}}const d=Zg(s.alg),m=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,m,o,Mg(`${a}.${l}`)))throw new xa("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(N(r))return this._returnResult({data:null,error:r});throw r}}}ns.nextInstanceID={};const Py=ns,Ny="2.91.0";let br="";typeof Deno<"u"?br="deno":typeof document<"u"?br="web":typeof navigator<"u"&&navigator.product==="ReactNative"?br="react-native":br="node";const Ry={"X-Client-Info":`supabase-js-${br}/${Ny}`},Iy={headers:Ry},Ly={schema:"public"},Uy={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},$y={};function rs(t){"@babel/helpers - typeof";return rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rs(t)}function Dy(t,e){if(rs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(rs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function My(t){var e=Dy(t,"string");return rs(e)=="symbol"?e:e+""}function zy(t,e,n){return(e=My(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ic(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function se(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ic(Object(n),!0).forEach(function(r){zy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ic(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const Hy=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),By=()=>Headers,Fy=(t,e,n)=>{const r=Hy(n),s=By();return async(i,o)=>{var a;const l=(a=await e())!==null&&a!==void 0?a:t;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,se(se({},o),{},{headers:u}))}};function Wy(t){return t.endsWith("/")?t:t+"/"}function qy(t,e){var n,r;const{db:s,auth:i,realtime:o,global:a}=t,{db:l,auth:u,realtime:d,global:m}=e,f={db:se(se({},l),s),auth:se(se({},u),i),realtime:se(se({},d),o),storage:{},global:se(se(se({},m),a),{},{headers:se(se({},(n=m==null?void 0:m.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function Vy(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Wy(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Ky=class extends Py{constructor(t){super(t)}},Qy=class{constructor(t,e,n){var r,s;this.supabaseUrl=t,this.supabaseKey=e;const i=Vy(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,a={db:Ly,realtime:$y,auth:se(se({},Uy),{},{storageKey:o}),global:Iy},l=qy(n??{},a);if(this.storageKey=(r=l.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(s=l.global.headers)!==null&&s!==void 0?s:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(d,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=l.auth)!==null&&u!==void 0?u:{},this.headers,l.global.fetch)}this.fetch=Fy(e,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(se({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new Cm(new URL("rest/v1",i).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new xg(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new bm(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();const{data:r}=await t.auth.getSession();return(e=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:s,storageKey:i,flowType:o,lock:a,debug:l,throwOnError:u},d,m){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ky({url:this.authUrl.href,headers:se(se({},f),d),storageKey:i,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:s,flowType:o,lock:a,debug:l,throwOnError:u,fetch:m,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Wm(this.realtimeUrl.href,se(se({},t),{},{params:se(se({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Gy=(t,e,n)=>new Qy(t,e,n);function Jy(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const n=e.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}Jy()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Dh="https://qxtrzxoxgzexfmcyjwji.supabase.co",Mh="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF4dHJ6eG94Z3pleGZtY3lqd2ppIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk4MTc2NzgsImV4cCI6MjA4NTM5MzY3OH0.Tn22XWObE_qN-pUzXaQgBz6o4qq8KkEbJhC008237cA",Me=Gy(Dh,Mh),Yy={url:Dh,isConfigured:!!Mh},zh=I.createContext(void 0),Xy=({children:t})=>{const[e,n]=I.useState(null),[r,s]=I.useState(!0);I.useEffect(()=>{(async()=>{try{const u=localStorage.getItem("quiz_user");u&&n(JSON.parse(u))}catch(u){console.error("Error checking user session:",u)}finally{s(!1)}})()},[]);const i=async(l,u,d,m)=>{var f;try{const{data:y,error:v}=await Me.auth.signUp({email:u,password:m,options:{data:{full_name:l}}});if(v)return console.error("Signup error:",v.message),(f=v.message)!=null&&f.includes("already registered")?{success:!1,error:"This email is already registered. Please login instead."}:{success:!1,error:v.message||"Signup failed. Please try again."};if(y.user){await Me.from("profiles").upsert({id:y.user.id,full_name:l,email:u},{onConflict:"id"});const w={email:u,name:l,id:y.user.id};return n(w),localStorage.setItem("quiz_user",JSON.stringify(w)),console.log(" User created and profile saved:",u),{success:!0}}return{success:!1,error:"Signup failed. Please try again."}}catch(y){return console.error("Signup exception:",y==null?void 0:y.message),{success:!1,error:(y==null?void 0:y.message)||"Signup failed. Please try again."}}},o=async(l,u)=>{var d;try{const{data:m,error:f}=await Me.auth.signInWithPassword({email:l,password:u});if(f)return console.error("Login error:",f==null?void 0:f.message),{success:!1,error:"Invalid email or password"};if(m.user){const y={email:m.user.email||"",name:((d=m.user.user_metadata)==null?void 0:d.full_name)||l,id:m.user.id};return n(y),localStorage.setItem("quiz_user",JSON.stringify(y)),console.log(" Logged in:",m.user.email),{success:!0}}return{success:!1,error:"Invalid email or password"}}catch(m){return console.error("Login exception:",m==null?void 0:m.message),{success:!1,error:(m==null?void 0:m.message)||"Login failed. Please try again."}}},a=async()=>{try{n(null),localStorage.removeItem("quiz_user")}catch(l){alert((l==null?void 0:l.message)||"Logout failed")}};return c.jsx(zh.Provider,{value:{user:e,loading:r,login:o,signup:i,logout:a},children:t})},$i=()=>{const t=Sr.useContext(zh);if(!t)throw new Error("useAuth must be used within AuthProvider");return t};class Zy{async getAllQuestions(){try{const{data:e,error:n}=await Me.from("questions").select("*").order("id",{ascending:!0});return n?(console.error("Error fetching questions:",n),[]):await Promise.all((e||[]).map(async s=>{const i=await this.getQuestionBlanks(s.id);return{id:s.id,title:s.title,difficulty:s.difficulty,description:s.description,htmlContent:s.html_content,blanksCount:s.blanks_count,blanks:i}}))}catch(e){return console.error("Error in getAllQuestions:",e==null?void 0:e.message),[]}}async getQuestionById(e){try{const{data:n,error:r}=await Me.from("questions").select("*").eq("id",e).single();if(r)return console.error("Error fetching question:",r),null;const s=await this.getQuestionBlanks(e);return{id:n.id,title:n.title,difficulty:n.difficulty,description:n.description,htmlContent:n.html_content,blanksCount:n.blanks_count,blanks:s}}catch(n){return console.error("Error in getQuestionById:",n==null?void 0:n.message),null}}async getQuestionsByDifficulty(e){try{const{data:n,error:r}=await Me.from("questions").select("*").eq("difficulty",e).order("id",{ascending:!0});return r?(console.error("Error fetching questions:",r),[]):await Promise.all((n||[]).map(async i=>{const o=await this.getQuestionBlanks(i.id);return{id:i.id,title:i.title,difficulty:i.difficulty,description:i.description,htmlContent:i.html_content,blanksCount:i.blanks_count,blanks:o}}))}catch(n){return console.error("Error in getQuestionsByDifficulty:",n==null?void 0:n.message),[]}}async getQuestionBlanks(e){try{const{data:n,error:r}=await Me.from("question_blanks").select("blank_id, correct_answer").eq("question_id",e).order("position",{ascending:!0});return r?(console.error(`Error fetching blanks for question ${e}:`,r),[]):(n||[]).map(s=>({id:s.blank_id,correctAnswer:s.correct_answer}))}catch(n){return console.error("Error fetching blanks:",n==null?void 0:n.message),[]}}checkAnswer(e,n){return e.toLowerCase().trim()===n.toLowerCase().trim()}calculateScore(e,n){return n===0?0:Math.round(e/n*100)}}const gr=new Zy;class ev{async saveUserProgress(e,n,r,s){try{const i={user_id:e,user_email:n};i[`question_${r}_status`]=s;const{error:o}=await Me.from("user_progress").upsert(i,{onConflict:"user_id"});return o?(console.error("Error saving user progress:",o.message),!1):(console.log(` Question ${r} marked as ${s}`),!0)}catch(i){return console.error("Error saving user progress:",i==null?void 0:i.message),!1}}async saveQuizResult(e,n){try{const{error:r}=await Me.from("quiz_results").insert({user_id:e,question_id:n.questionId,total_blanks:n.totalBlanks,correct_answers:n.correctAnswers,percentage:n.percentage,completed_at:new Date().toISOString()});return r?(console.error("Error saving quiz result:",r.message),!1):(console.log(" Quiz result saved:",n),!0)}catch(r){return console.error("Error saving quiz result:",r==null?void 0:r.message),!1}}async saveQuizAttempt(e,n,r,s,i){try{const{error:o}=await Me.from("quiz_attempts").insert({user_id:e,question_id:n,answers:r,score:s,total_points:i,submitted_at:new Date().toISOString()});return o?(console.error("Error saving quiz attempt:",o.message),!1):(console.log(" Quiz attempt saved"),!0)}catch(o){return console.error("Error saving quiz attempt:",o==null?void 0:o.message),!1}}async getUserStats(e){try{const{data:n,error:r}=await Me.from("user_stats").select("*").eq("id",e).single();return r?(console.error("Error fetching user stats:",r.message),null):n}catch(n){return console.error("Error fetching user stats:",n==null?void 0:n.message),null}}async getUserResults(e){try{const{data:n,error:r}=await Me.from("quiz_results").select("*").eq("user_id",e).order("completed_at",{ascending:!1});return r?(console.error("Error fetching user results:",r.message),[]):n||[]}catch(n){return console.error("Error fetching user results:",n==null?void 0:n.message),[]}}}const yr=new ev;class tv{markQuestionSolved(e,n){const r=localStorage.getItem(`solved_${e}`),s=r?JSON.parse(r):{};s[n]=!0,localStorage.setItem(`solved_${e}`,JSON.stringify(s))}getSolvedQuestions(e){const n=localStorage.getItem(`solved_${e}`);return n?JSON.parse(n):{}}clearSolvedQuestions(e){localStorage.removeItem(`solved_${e}`)}isQuestionSolved(e,n){return this.getSolvedQuestions(e)[n]===!0}}const Ns=new tv,wt={supabase:null,dbConfig:null,questions:{getAll:()=>gr.getAllQuestions(),getById:t=>gr.getQuestionById(t),getByDifficulty:t=>gr.getQuestionsByDifficulty(t),checkAnswer:(t,e)=>gr.checkAnswer(t,e),calculateScore:(t,e)=>gr.calculateScore(t,e)},quiz:{saveProgress:(t,e,n,r)=>yr.saveUserProgress(t,e,n,r),saveResult:(t,e)=>yr.saveQuizResult(t,e),saveAttempt:(t,e,n,r,s)=>yr.saveQuizAttempt(t,e,n,r,s),getUserStats:t=>yr.getUserStats(t),getUserResults:t=>yr.getUserResults(t)},storage:{markSolved:(t,e)=>Ns.markQuestionSolved(t,e),getSolved:t=>Ns.getSolvedQuestions(t),clearSolved:t=>Ns.clearSolvedQuestions(t),isSolved:(t,e)=>Ns.isQuestionSolved(t,e)}};wt.supabase=Me;wt.dbConfig=Yy;const nv=({onAuthSuccess:t})=>{const[e,n]=I.useState("login"),[r,s]=I.useState(""),[i,o]=I.useState(""),[a,l]=I.useState(""),[u,d]=I.useState(""),[m,f]=I.useState(""),[y,v]=I.useState(!1),[w,k]=I.useState(""),[p,h]=I.useState(!1),{login:g,signup:_}=$i(),T=O=>O.length<8?"Password must be at least 8 characters":"",b=async O=>{O.preventDefault(),k(""),v(!0);try{const F=await g(i,a);F.success?(o(""),l(""),t()):k(F.error||"Login failed")}finally{v(!1)}},E=async O=>{O.preventDefault(),k("");const F=T(a);if(F){k(F);return}v(!0);try{const je=u.trim(),Ae=await _(je,i,i,a);Ae.success?(o(""),l(""),d(""),t()):k(Ae.error||"Signup failed. Please try again.")}finally{v(!1)}},j=async()=>{v(!0),k("");try{const{error:O}=await wt.supabase.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/`}});O&&k("Google sign-in error: "+O.message)}catch(O){k("Google sign-in failed: "+(O==null?void 0:O.message))}finally{v(!1)}},D=e==="signup"&&a?T(a):"";return e==="choice"?c.jsx("div",{className:"auth-container",children:c.jsxs("div",{className:"auth-card choice-card",children:[c.jsx("h1",{children:"Quiz Practice Platform"}),c.jsx("p",{className:"welcome-text",children:"Welcome! Please choose an option below."}),c.jsxs("div",{className:"choice-buttons",children:[c.jsxs("button",{className:"choice-btn login-choice",onClick:()=>{n("login"),k(""),s(""),l("")},children:[c.jsx("span",{className:"choice-icon",children:""}),c.jsx("span",{className:"choice-title",children:"Already Have Account?"}),c.jsx("span",{className:"choice-desc",children:"Login with your email"})]}),c.jsxs("button",{className:"choice-btn signup-choice",onClick:()=>{n("signup"),k(""),o(""),l(""),s(""),d(""),f("")},children:[c.jsx("span",{className:"choice-icon",children:""}),c.jsx("span",{className:"choice-title",children:"New User?"}),c.jsx("span",{className:"choice-desc",children:"Create a new account"})]})]}),c.jsxs("div",{className:"oauth-section",children:[c.jsx("p",{className:"oauth-text",children:"Or continue with..."}),c.jsxs("button",{type:"button",className:"oauth-btn google-btn",onClick:j,disabled:y,children:[c.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{d:"M17.64 9.2c0-.637-.057-1.251-.164-1.84H9v3.481h4.844c-.209 1.125-.843 2.078-1.796 2.717v2.258h2.908c1.702-1.567 2.684-3.874 2.684-6.615z",fill:"#4285F4"}),c.jsx("path",{d:"M9.003 18c2.43 0 4.467-.806 5.956-2.18L12.05 13.56c-.806.54-1.836.86-3.047.86-2.344 0-4.328-1.584-5.036-3.711H.957v2.332C2.438 15.983 5.482 18 9.003 18z",fill:"#34A853"}),c.jsx("path",{d:"M3.964 10.712c-.18-.54-.282-1.117-.282-1.71 0-.593.102-1.17.282-1.71V4.96H.957C.347 6.175 0 7.55 0 9.002c0 1.452.348 2.827.957 4.042l3.007-2.332z",fill:"#FBBC05"}),c.jsx("path",{d:"M9.003 3.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C13.464.891 11.426 0 9.003 0 5.482 0 2.438 2.017.957 4.958L3.964 7.29c.708-2.127 2.692-3.71 5.036-3.71z",fill:"#EA4335"})]}),"Google"]})]})]})}):e==="login"?c.jsx("div",{className:"auth-container",children:c.jsxs("div",{className:"auth-card",children:[c.jsxs("div",{className:"auth-header",children:[c.jsx("h1",{children:"Login"}),c.jsx("p",{children:"Sign in to your account"})]}),c.jsxs("form",{onSubmit:b,children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Email Address"}),c.jsx("input",{type:"email",value:i,onChange:O=>o(O.target.value),placeholder:"Enter your email",required:!0})]}),c.jsxs("div",{className:"form-group password-group",children:[c.jsx("label",{children:"Password"}),c.jsxs("div",{className:"password-input-wrapper",children:[c.jsx("input",{type:p?"text":"password",value:a,onChange:O=>l(O.target.value),placeholder:"Enter your password",required:!0}),c.jsx("button",{type:"button",className:"toggle-password-btn",onClick:()=>h(!p),tabIndex:-1,children:p?"":""})]})]}),w&&c.jsx("p",{className:"error-message",children:w}),c.jsx("button",{type:"submit",className:"submit-btn",disabled:y,children:y?"Logging in...":"Login"})]}),c.jsxs("p",{className:"toggle-text",children:["Don't have an account?",c.jsx("button",{type:"button",className:"toggle-btn",onClick:()=>{n("signup"),k(""),o(""),l("")},children:"Create one now"})]})]})}):c.jsx("div",{className:"auth-container",children:c.jsxs("div",{className:"auth-card",children:[c.jsxs("div",{className:"auth-header",children:[c.jsx("h1",{children:"Create Account"}),c.jsx("p",{children:"Join our quiz platform"})]}),c.jsxs("form",{onSubmit:E,children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Full Name"}),c.jsx("input",{type:"text",value:u,onChange:O=>d(O.target.value),placeholder:"Enter your full name",required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Email Address"}),c.jsx("input",{type:"email",value:i,onChange:O=>o(O.target.value),placeholder:"Enter your email",required:!0})]}),c.jsxs("div",{className:"form-group password-group",children:[c.jsx("label",{children:"Password"}),c.jsxs("div",{className:"password-input-wrapper",children:[c.jsx("input",{type:p?"text":"password",value:a,onChange:O=>l(O.target.value),placeholder:"Minimum 8 characters",required:!0}),c.jsx("button",{type:"button",className:"toggle-password-btn",onClick:()=>h(!p),tabIndex:-1,children:p?"":""})]}),D&&c.jsx("p",{className:"error-message password-error",children:D})]}),w&&c.jsx("p",{className:"error-message",children:w}),c.jsx("button",{type:"submit",className:"submit-btn",disabled:y||!!D,children:y?"Creating account...":"Create Account"})]}),c.jsxs("p",{className:"toggle-text",children:["Already have an account?",c.jsx("button",{type:"button",className:"toggle-btn",onClick:()=>{n("login"),k(""),o(""),l("")},children:"Login here"})]}),c.jsx("button",{type:"button",className:"back-to-choice-btn",onClick:()=>n("choice"),children:" Back"})]})})},rv=(t,e)=>({html:"The <html> tag is the root element that wraps all other elements on the page. It tells the browser that this is an HTML document.",head:"The <head> tag contains metadata about the document, such as the title, character encoding, and links to stylesheets.",body:"The <body> tag contains all the visible content of the webpage that users see in the browser.",title:"The <title> tag specifies the title that appears in the browser tab and is used for SEO.",DOCTYPE:"The <!DOCTYPE html> declaration tells the browser this is an HTML5 document and should be the first line in your HTML file.",h1:"The <h1> tag is used for main headings. There should typically be only one <h1> per page.",h2:"The <h2> tag is used for subheadings and helps organize content hierarchically.",p:"The <p> tag defines a paragraph of text. It automatically adds spacing above and below the text.",a:"The <a> tag creates a hyperlink. The href attribute specifies the URL to link to.",img:"The <img> tag embeds an image. The src attribute specifies the image file path.",div:"The <div> tag is a generic container used to group elements and apply styling with CSS.",span:"The <span> tag is an inline container used to apply styling to a portion of text.",ul:"The <ul> tag creates an unordered (bulleted) list.",ol:"The <ol> tag creates an ordered (numbered) list.",li:"The <li> tag defines a list item within <ul> or <ol> tags.",form:"The <form> tag creates a form for user input. The action attribute specifies where to send the form data.",input:"The <input> tag creates an interactive field where users can enter data.",button:"The <button> tag creates a clickable button that can submit forms or trigger actions.",textarea:"The <textarea> tag creates a multi-line text input field.",label:"The <label> tag associates text with form inputs, improving accessibility.",table:"The <table> tag creates a table for organizing data in rows and columns.",tr:"The <tr> tag defines a table row.",td:"The <td> tag defines a table data cell.",th:"The <th> tag defines a table header cell.",header:"The <header> tag represents the header section of a page or section.",footer:"The <footer> tag represents the footer section of a page or section.",nav:"The <nav> tag defines navigation links.",article:"The <article> tag represents self-contained content like a blog post.",section:"The <section> tag groups related content together.",main:"The <main> tag specifies the main content area of a document.",strong:"The <strong> tag indicates strong importance and displays text in bold. It's semantically meaningful.",em:"The <em> tag indicates emphasized text and displays it in italic. It's semantically meaningful.",br:"The <br> tag creates a line break. It's a self-closing tag.",hr:"The <hr> tag creates a horizontal line to separate content.",meta:"The <meta> tag provides metadata about the HTML document, like character encoding.",link:"The <link> tag links external resources like CSS stylesheets to the HTML document.",script:"The <script> tag embeds or references JavaScript code.",style:"The <style> tag contains CSS styling rules for the HTML document."})[e.toLowerCase()]||`The <${e}> tag is an important HTML element. Review the HTML reference to understand its purpose and proper usage.`,sv=(t,e)=>({html:"Every HTML document must start with <html> and end with </html>. Always use lowercase tag names.",head:"Never put visible content in the <head> - it's only for metadata. Put visible content in <body>.",body:"All content users see goes in the <body> tag. This is where you put headings, paragraphs, images, etc.",title:"The <title> appears in the browser tab, not on the page. It's important for SEO and accessibility.",DOCTYPE:"Always include <!DOCTYPE html> as the very first line. Without it, the page may not display correctly.",h1:"Use <h1> for your main page title only. Don't skip heading levels (don't jump from <h1> to <h3>).",h2:"Use <h2> for main sections. Proper heading hierarchy helps with accessibility and SEO.",p:"Use <p> for paragraphs of text. Don't use <br> to create multiple lines - that's what paragraphs are for.",a:'Always include the href attribute. href="#" links to nothing - use href="/" or a real URL.',img:"Always include an alt attribute describing the image. It helps accessibility and appears if the image fails to load.",div:"Use <div> for layout and grouping. For better structure, consider semantic tags like <section> or <article>.",span:"Use <span> for styling small inline portions of text, not for large content blocks.",ul:"Use <ul> for lists without order, like features or ingredients. Use <ol> for step-by-step instructions.",ol:"Use <ol> for ordered lists. The browser automatically numbers them.",li:"Every list item must be wrapped in <li> tags. <ul> and <ol> can only contain <li> elements.",form:"Every form needs a method attribute (GET or POST) and typically an action attribute.",input:"Always include a type attribute (text, email, password, etc.). Use a label with the for attribute for accessibility.",button:'If inside a form, the button will submit by default. Use type="button" to prevent submission.',textarea:"Use <textarea> instead of <input> for multi-line text. <textarea> rows and cols control size.",label:"Connect labels to inputs using the for attribute matching the input's id for better accessibility.",table:"Use tables for tabular data only, not for layout. Use CSS Grid or Flexbox for page layout.",tr:"Always nest <tr> in <thead>, <tbody>, or <tfoot> for better semantic structure.",td:"Use <td> for regular data cells and <th> for header cells. This improves accessibility.",th:"<th> has special semantics for accessibility tools. Don't use <td> for headers.",header:"The <header> tag is semantic and doesn't automatically add styling. Use CSS to style it.",footer:"The <footer> is often used for copyright, links, and other bottom-of-page content.",nav:"Use <nav> only for major navigation sections. Not every link needs to be in a <nav>.",article:"Use <article> for self-contained content that makes sense on its own, like blog posts.",section:"Use <section> to group related content. Each <section> typically has a heading.",main:"There should be only one <main> element per page. It improves accessibility.",strong:"<strong> and <b> look the same but <strong> is more semantic. Prefer <strong>.",em:"<em> and <i> look the same but <em> is more semantic. Prefer <em>.",br:"Use <br> sparingly - usually for addresses or poems. Use <p> tags for regular text separation.",hr:"The <hr> tag represents a thematic break. Don't use it for decoration - use CSS borders instead.",meta:'The charset meta tag should come early in the <head>: <meta charset="UTF-8">',link:'Link CSS files in the <head> before closing </head> tag. Example: <link rel="stylesheet" href="style.css">',script:"It's often better to put <script> tags at the end of <body> for faster page load.",style:"While <style> works, it's better practice to use external CSS files for reusability."})[e.toLowerCase()]||"Pay attention to when and why you use this tag. Proper semantic HTML makes your code more accessible and maintainable.",oc=t=>({html:[" It's the root element"," It's a container tag - you need an opening and closing tag"," Every HTML document starts with <html>"],head:[" It comes before the <body> tag"," It's where metadata goes (not visible content)"," It's required in HTML documents"],body:[" This is where all visible content goes"," It comes after the <head> tag"," There's only one <body> per page"],DOCTYPE:[" It's a declaration, not a tag"," It tells the browser this is HTML5"," It must be the very first line of your document"],h1:[" It's a heading tag"," It's the largest heading level"," Use it for the main page title"],h2:[" It's a heading tag, but smaller than h1"," Use this for main sections"," There can be multiple h2s on one page"],p:[' It stands for "paragraph"'," It's a block-level element (creates line breaks)"," Use this for text content"],strong:[" It emphasizes text as important"," It displays in bold"," It's semantic (unlike <b>)"],em:[' It stands for "emphasis"'," It displays in italic"," It's semantic (unlike <i>)"],a:[" It's for creating links"," You need an href attribute",' href stands for "hypertext reference"'],img:[" It's for embedding images"," It's a self-closing tag (no </img>)"," You need src and alt attributes"],div:[" It's a generic container"," It's a block-level element"," It's often used for layout and styling"],span:[" It's a generic inline container"," It doesn't create line breaks"," Use it for styling small portions of text"],ul:[' It stands for "unordered list"'," It creates a bulleted list"," It contains <li> elements"],ol:[' It stands for "ordered list"'," It creates a numbered list"," It contains <li> elements"],li:[' It stands for "list item"'," It's used inside <ul> or <ol>"," The browser automatically numbers them in <ol>"],form:[" It's a container for form elements"," It needs action and method attributes"," It groups inputs together for submission"],input:[" It's for user input"," It's a self-closing tag"," The type attribute changes what kind of input it is"],button:[" It creates a clickable button"," By default, it submits forms",' Use type="button" to prevent submission'],table:[" It's for displaying data in rows and columns"," It contains <tr>, <td>, and <th> elements"," Don't use it for layout - use CSS Grid instead"],header:[" It's a semantic tag for header content"," It doesn't style itself automatically"," It improves accessibility and SEO"],footer:[" It's a semantic tag for footer content"," It's usually at the bottom of the page"," It improves document structure"],nav:[" It's for navigation links"," It's semantic and improves accessibility"," Use it only for major navigation"],article:[" It's for self-contained content"," It's semantic and improves SEO"," Use it for blog posts, news articles, etc."],section:[" It groups related content together"," It's semantic and improves structure"," Each section typically has a heading"]})[t.toLowerCase()]||[" Think about the purpose of this tag"," Consider where it's typically used"," Check the HTML reference for more info"],iv=({questionId:t,onBack:e})=>{const{user:n,logout:r}=$i(),[s,i]=I.useState({}),[o,a]=I.useState(1800),[l,u]=I.useState(!1),[d,m]=I.useState(!1),[f,y]=I.useState(0),[v,w]=I.useState(null),[k,p]=I.useState(!0),[h,g]=I.useState(!1),[_,T]=I.useState(null),[b]=I.useState(()=>sessionStorage.getItem("studyAreaFromTaskPreview")==="true"),[E,j]=I.useState(new Set),[D,O]=I.useState({}),F=S=>{const R=Math.floor(S/60),z=S%60;return`${R}:${z.toString().padStart(2,"0")}`},je=S=>{j(R=>{const z=new Set(R);return z.has(S)?z.delete(S):z.add(S),z})},Ae=S=>{O(R=>({...R,[S]:(R[S]||0)+1}))},Yt=(S,R)=>{i(z=>({...z,[S]:R})),d&&m(!1)},at=()=>{m(!0)},lt=async()=>{if(!v)return;let S=0;v.blanks.forEach(Z=>{var M;const Y=(M=s[Z.id])==null?void 0:M.toLowerCase().trim(),Q=Z.correctAnswer.toLowerCase().trim();Y===Q&&S++});const R=Math.round(S/v.blanks.length*100),z=S===v.blanks.length;y(R),u(!0),n!=null&&n.id&&(n!=null&&n.email)&&(await wt.quiz.saveProgress(n.id,n.email,v.id,z?"correct":"wrong"),console.log(" Progress saved to user_progress table")),R>=80&&(n!=null&&n.id)&&wt.storage.markSolved(n.id,v.id)},ut=async()=>{if(!(!v||!(n!=null&&n.id))){i({}),u(!1),m(!1),y(0),g(!1),a(1800);try{const{error:S}=await wt.supabase.from("user_progress").update({[`question_${v.id}_status`]:null}).eq("user_id",n.id);S?console.error("Error resetting progress:",S.message):console.log(` Question ${v.id} reset to fresh state`)}catch(S){console.error("Error resetting progress:",S==null?void 0:S.message)}}},C=(S,R={})=>{let z=S;return v==null||v.blanks.forEach(Z=>{const Y=new RegExp(`__${Z.id}__`,"g"),Q=R[Z.id]!==void 0?R[Z.id]:Z.correctAnswer;z=z.replace(Y,Q)}),z};if(I.useEffect(()=>{(async()=>{p(!0);const R=await wt.questions.getById(t);if(w(R),n!=null&&n.id&&R){const{data:z,error:Z}=await wt.supabase.from("user_progress").select().eq("user_id",n.id).single();if(!Z&&z){const Y=`question_${t}_status`;if(z[Y]==="correct"){const M={};R.blanks.forEach(we=>{M[we.id]=we.correctAnswer}),i(M),g(!0),u(!0),y(100),console.log(" Question already completed correctly")}}}p(!1),console.log(" Question loaded:",R==null?void 0:R.title)})()},[t,n==null?void 0:n.id]),I.useEffect(()=>{if(k||!v||l)return;const S=setInterval(()=>{a(R=>R<=1?(clearInterval(S),lt(),0):R-1)},1e3);return()=>clearInterval(S)},[k,v,l]),k)return c.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:c.jsxs("div",{style:{textAlign:"center"},children:[c.jsx("div",{style:{fontSize:"18px",color:"#667eea",marginBottom:"20px"},children:"Loading question..."}),c.jsx("div",{style:{width:"40px",height:"40px",border:"4px solid #f0f0f0",borderTop:"4px solid #667eea",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto"}})]})});if(!v)return c.jsx("div",{style:{padding:"20px",textAlign:"center",color:"#d32f2f"},children:"Question not found"});const $=v.htmlContent.replace(/__BLANK_\d+__/g,'<span class="blank-placeholder">_____</span>');return c.jsxs("div",{className:"quiz-container",children:[c.jsxs("header",{className:"quiz-header",children:[c.jsx("div",{className:"header-left",children:c.jsxs("h1",{children:["Quiz Practice - Q",v.id]})}),c.jsx("div",{className:"header-center",children:c.jsxs("div",{className:"timer",children:[c.jsx("span",{className:"timer-label",children:"Time Remaining:"}),c.jsx("span",{className:"timer-value",children:F(o)})]})}),c.jsxs("div",{className:"header-right",children:[c.jsxs("span",{className:"user-info",children:["Welcome, ",n==null?void 0:n.name,"!"]}),c.jsx("button",{className:"logout-btn",onClick:r,children:"Logout"})]})]}),c.jsx("div",{className:"quiz-content",children:c.jsxs("div",{className:"quiz-center",children:[c.jsxs("div",{className:"html-preview",children:[c.jsx("h2",{children:"HTML Preview"}),c.jsx("div",{className:"code-display",children:c.jsx("pre",{children:$})}),c.jsxs("button",{className:"back-button",onClick:()=>{sessionStorage.removeItem("studyAreaFromTaskPreview"),e()},children:[" Back to ",b?"Task Preview":"Questions"]})]}),c.jsxs("div",{className:"blanks-section",children:[c.jsx("h2",{children:"Fill in the Blanks"}),c.jsx("div",{className:"blanks-container",children:v.blanks.map((S,R)=>{var M;const z=(M=s[S.id])==null?void 0:M.toLowerCase().trim(),Z=S.correctAnswer.toLowerCase().trim(),Y=z===Z,Q=d||l;return c.jsxs("div",{className:"blank-input-group",children:[c.jsxs("div",{className:"blank-label-row",children:[c.jsxs("label",{htmlFor:S.id,children:[S.id," (",R+1," pts)"]}),!l&&!h&&c.jsx("button",{className:"hint-btn",onClick:()=>Ae(S.id),title:"Get a hint",children:" Hint"})]}),D[S.id]?D[S.id]>0&&c.jsxs("div",{className:"hints-container",children:[oc(S.correctAnswer).slice(0,D[S.id]).map((we,cs)=>c.jsx("div",{className:"hint-item",children:we},cs)),D[S.id]<oc(S.correctAnswer).length&&c.jsx("button",{className:"hint-btn-small",onClick:()=>Ae(S.id),children:"Show More Hints"})]}):null,c.jsx("input",{type:"text",id:S.id,value:s[S.id]||"",onChange:we=>Yt(S.id,we.target.value),placeholder:"Enter your answer",disabled:l,className:Q&&z?Y?"correct":"incorrect":""}),h&&c.jsx("p",{className:"success-answer",children:" Correct!"}),Q&&!h&&Y&&c.jsx("p",{className:"success-answer",children:" Correct!"}),Q&&!h&&!z&&c.jsx("p",{className:"empty-answer",children:"Required"})]},S.id)})}),d&&!l&&c.jsxs(c.Fragment,{children:[_==="your"&&c.jsx("div",{className:"fullscreen-overlay",children:c.jsxs("div",{className:"fullscreen-card",children:[c.jsx("button",{className:"fullscreen-close",onClick:()=>T(null),children:" Close"}),c.jsx("div",{className:"fullscreen-content",children:c.jsx("iframe",{srcDoc:C(v.htmlContent,s),title:"Your Output",style:{width:"100%",height:"100%",border:"none",borderRadius:"4px"},sandbox:"allow-same-origin"})})]})}),_==="expected"&&c.jsx("div",{className:"fullscreen-overlay",children:c.jsxs("div",{className:"fullscreen-card",children:[c.jsx("button",{className:"fullscreen-close",onClick:()=>T(null),children:" Close"}),c.jsx("div",{className:"fullscreen-content",children:c.jsx("iframe",{srcDoc:C(v.htmlContent,{}),title:"Expected Output",style:{width:"100%",height:"100%",border:"none",borderRadius:"4px"},sandbox:"allow-same-origin"})})]})}),!_&&c.jsxs("div",{className:"output-comparison",children:[c.jsxs("div",{className:"output-box",children:[c.jsxs("div",{className:"output-header",children:[c.jsx("h3",{children:"Your Output"}),c.jsx("button",{className:"fullscreen-btn",onClick:()=>T("your"),title:"Fullscreen",children:""})]}),c.jsx("div",{className:"output-content",children:c.jsx("iframe",{srcDoc:C(v.htmlContent,s),title:"Your Output",style:{width:"100%",height:"200px",border:"none",borderRadius:"4px"},sandbox:"allow-same-origin"})})]}),c.jsxs("div",{className:"output-box",children:[c.jsxs("div",{className:"output-header",children:[c.jsx("h3",{children:"Expected Output"}),c.jsx("button",{className:"fullscreen-btn",onClick:()=>T("expected"),title:"Fullscreen",children:""})]}),c.jsx("div",{className:"output-content",children:c.jsx("iframe",{srcDoc:C(v.htmlContent,{}),title:"Expected Output",style:{width:"100%",height:"200px",border:"none",borderRadius:"4px"},sandbox:"allow-same-origin"})})]})]})]}),l&&c.jsxs("div",{className:"result-box",children:[f===100?c.jsxs("div",{className:"completion-banner success",children:[c.jsx("div",{className:"banner-icon",children:""}),c.jsxs("div",{className:"banner-content",children:[c.jsx("h2",{children:"Perfect Score! Task Completed!"}),c.jsx("p",{children:"Congratulations! You got all answers correct. Excellent work!"})]})]}):f>=80?c.jsxs("div",{className:"completion-banner passed",children:[c.jsx("div",{className:"banner-icon",children:""}),c.jsxs("div",{className:"banner-content",children:[c.jsx("h2",{children:"Task Completed Successfully!"}),c.jsx("p",{children:"Great job! You passed with a good score. Review the explanations below to learn more."})]})]}):c.jsxs("div",{className:"completion-banner failed",children:[c.jsx("div",{className:"banner-icon",children:""}),c.jsxs("div",{className:"banner-content",children:[c.jsx("h2",{children:"Task Incomplete - Try Again"}),c.jsx("p",{children:"You need at least 80% to complete this task. Review the explanations and try again!"})]})]}),c.jsxs("div",{className:"result-header",children:[c.jsx("h3",{children:" Quiz Results"}),c.jsxs("div",{className:"score-display",children:[c.jsxs("p",{children:["Correct Answers: ",c.jsxs("strong",{children:[Math.round(f/100*v.blanks.length)," / ",v.blanks.length]})]}),c.jsxs("p",{children:["Score: ",c.jsxs("strong",{className:f===100?"perfect-score":f>=80?"good-score":"needs-improvement",children:[Math.round(f),"%"]})]})]})]}),c.jsxs("div",{className:"explanation-panels",children:[c.jsx("h4",{children:" Detailed Explanations"}),v.blanks.map((S,R)=>{var M;const z=(M=s[S.id])==null?void 0:M.toLowerCase().trim(),Z=S.correctAnswer.toLowerCase().trim(),Y=z===Z,Q=E.has(S.id);return c.jsxs("div",{className:"explanation-panel",children:[c.jsxs("button",{className:`explanation-header ${Y?"correct":"incorrect"}`,onClick:()=>je(S.id),children:[c.jsx("span",{className:"explanation-toggle",children:Q?"":""}),c.jsxs("span",{className:"explanation-title",children:[Y?"":""," ",S.id," (Question ",R+1,")"]}),c.jsx("span",{className:"explanation-answer",children:Y?"Correct!":"Incorrect"})]}),Q&&c.jsxs("div",{className:"explanation-content",children:[c.jsxs("div",{className:"answer-comparison",children:[c.jsxs("div",{className:"your-answer",children:[c.jsx("strong",{children:"Your Answer:"}),c.jsxs("p",{className:Y?"correct-text":"incorrect-text",children:['"',z||"(blank)",'"']})]}),c.jsxs("div",{className:"correct-answer",children:[c.jsx("strong",{children:"Correct Answer:"}),c.jsxs("p",{className:"correct-text",children:['"',Z,'"']})]})]}),c.jsxs("div",{className:"explanation-text",children:[c.jsx("strong",{children:"Why:"}),c.jsx("p",{children:S.explanation||rv(S.id,Z)})]}),c.jsxs("div",{className:"learning-tip",children:[c.jsx("strong",{children:" Learning Tip:"}),c.jsx("p",{children:sv(S.id,Z)})]})]})]},S.id)})]}),c.jsx("div",{className:"result-actions",children:f>=80?c.jsxs(c.Fragment,{children:[c.jsx("button",{className:"next-question-btn",onClick:e,children:" Task Finished - View All Questions"}),c.jsx("button",{className:"try-again-btn secondary",onClick:ut,children:"Practice Again"})]}):c.jsxs(c.Fragment,{children:[c.jsx("button",{className:"try-again-btn primary",onClick:ut,children:" Try Again to Complete Task"}),c.jsx("button",{className:"back-to-questions-btn",onClick:e,children:"Back to Questions"})]})})]}),!l&&c.jsxs("div",{className:"button-group",children:[c.jsx("button",{className:"check-btn",onClick:at,disabled:d,children:d?" Checked":"Check"}),c.jsx("button",{className:"submit-btn",onClick:lt,children:"Submit"})]})]})]})})]})},ac=[{name:"html",category:"Structure",description:"Root element that wraps all HTML content",syntax:"<html>...</html>",commonAttributes:["lang"],example:'<html lang="en">...</html>',notes:"Required tag. Use lang attribute for language specification."},{name:"head",category:"Structure",description:"Contains metadata about the document",syntax:"<head>...</head>",example:"<head><title>Page Title</title></head>",notes:"Contains meta tags, title, links to stylesheets, and scripts"},{name:"body",category:"Structure",description:"Contains the visible page content",syntax:"<body>...</body>",example:"<body><h1>Welcome</h1></body>",notes:"Only one body tag per document. All visible content goes here."},{name:"title",category:"Metadata",description:"Sets the title shown in browser tab",syntax:"<title>Page Title</title>",example:"<title>My Website</title>",notes:"Required tag. Appears in browser tab and search results."},{name:"meta",category:"Metadata",description:"Provides metadata about the HTML document",syntax:'<meta name="..." content="...">',commonAttributes:["charset","name","content","viewport"],example:`<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">`,notes:"Self-closing tag. Important for charset and viewport."},{name:"h1 to h6",category:"Text",description:"Heading tags (h1 largest, h6 smallest)",syntax:"<h1>...</h1> to <h6>...</h6>",example:`<h1>Main Heading</h1>
<h2>Sub Heading</h2>`,notes:"Use one h1 per page. Improves SEO and accessibility."},{name:"p",category:"Text",description:"Defines a paragraph",syntax:"<p>...</p>",example:"<p>This is a paragraph of text.</p>",notes:"Block-level element. Creates space above and below."},{name:"a",category:"Links",description:"Creates a hyperlink",syntax:'<a href="url">...</a>',commonAttributes:["href","target","rel","title"],example:'<a href="https://example.com" target="_blank">Click Here</a>',notes:'Use target="_blank" to open in new tab. Add rel="noopener" for security.'},{name:"img",category:"Media",description:"Embeds an image",syntax:'<img src="..." alt="...">',commonAttributes:["src","alt","width","height"],example:'<img src="photo.jpg" alt="A beautiful photo">',notes:"Self-closing tag. Always include alt text for accessibility."},{name:"div",category:"Structure",description:"Generic container for grouping content",syntax:"<div>...</div>",commonAttributes:["class","id"],example:'<div class="container">...</div>',notes:"Block-level element. Most commonly used container."},{name:"span",category:"Text",description:"Inline container for text",syntax:"<span>...</span>",commonAttributes:["class","id"],example:'<p>This is <span class="highlight">important</span> text.</p>',notes:"Inline element. Does not create new lines."},{name:"strong",category:"Text Formatting",description:"Marks text with strong importance",syntax:"<strong>...</strong>",example:"<p>This is <strong>very important</strong>.</p>",notes:"Semantic tag. Indicates importance. Bold by default."},{name:"em",category:"Text Formatting",description:"Marks text with emphasis",syntax:"<em>...</em>",example:"<p>This is <em>emphasized</em> text.</p>",notes:"Semantic tag. Indicates emphasis. Italic by default."},{name:"br",category:"Text",description:"Inserts a line break",syntax:"<br>",example:"Line 1<br>Line 2",notes:"Self-closing tag. Use for line breaks, not for spacing."},{name:"hr",category:"Structure",description:"Creates a horizontal rule (line)",syntax:"<hr>",example:"<hr>",notes:"Self-closing tag. Semantic break between content."},{name:"ul",category:"Lists",description:"Unordered list (bulleted)",syntax:"<ul><li>...</li></ul>",example:`<ul>
  <li>Item 1</li>
  <li>Item 2</li>
</ul>`,notes:"Parent element for list items. Use with <li> tags."},{name:"ol",category:"Lists",description:"Ordered list (numbered)",syntax:"<ol><li>...</li></ol>",example:`<ol>
  <li>First</li>
  <li>Second</li>
</ol>`,notes:"Parent element for numbered lists. Use with <li> tags."},{name:"li",category:"Lists",description:"List item",syntax:"<li>...</li>",example:"<ul><li>Apple</li><li>Banana</li></ul>",notes:"Used within <ul> or <ol>. Must be inside a list."},{name:"button",category:"Forms",description:"Creates a clickable button",syntax:"<button>...</button>",commonAttributes:["type","class","onclick"],example:'<button type="submit">Click Me</button>',notes:"Types: submit, reset, button. Use forms or JavaScript."},{name:"form",category:"Forms",description:"Container for form elements",syntax:"<form>...</form>",commonAttributes:["action","method","id"],example:'<form action="/submit" method="POST">...</form>',notes:"Groups form inputs. Method is POST or GET."},{name:"input",category:"Forms",description:"Accepts user input",syntax:'<input type="..." name="...">',commonAttributes:["type","name","placeholder","required"],example:'<input type="text" placeholder="Enter name">',notes:"Self-closing tag. Types: text, email, password, checkbox, radio, etc."},{name:"textarea",category:"Forms",description:"Multi-line text input",syntax:"<textarea>...</textarea>",commonAttributes:["rows","cols","name","placeholder"],example:'<textarea rows="4" cols="50" placeholder="Enter message"></textarea>',notes:"For longer text input. Can be resized by user."},{name:"label",category:"Forms",description:"Label for form input",syntax:'<label for="id">...</label>',example:`<label for="email">Email:</label>
<input id="email" type="email">`,notes:"Improves accessibility. Use for attribute to link to input."},{name:"table",category:"Tables",description:"Creates a data table",syntax:"<table><tr><td>...</td></tr></table>",example:`<table>
  <tr><td>Cell 1</td><td>Cell 2</td></tr>
</table>`,notes:"Use with <tr>, <td>, <th>, <thead>, <tbody> tags."},{name:"header",category:"Semantic",description:"Semantic header section",syntax:"<header>...</header>",example:"<header><h1>Site Title</h1></header>",notes:"Semantic tag. Improves accessibility and SEO."},{name:"footer",category:"Semantic",description:"Semantic footer section",syntax:"<footer>...</footer>",example:"<footer><p>&copy; 2024 My Site</p></footer>",notes:"Semantic tag. Usually contains copyright, links, contact info."},{name:"nav",category:"Semantic",description:"Navigation section",syntax:"<nav>...</nav>",example:'<nav><ul><li><a href="/">Home</a></li></ul></nav>',notes:"Semantic tag. For main navigation links."},{name:"section",category:"Semantic",description:"Semantic section of content",syntax:"<section>...</section>",example:"<section><h2>About Us</h2><p>...</p></section>",notes:"Semantic tag. Groups related content together."},{name:"article",category:"Semantic",description:"Semantic independent content",syntax:"<article>...</article>",example:"<article><h2>Blog Post Title</h2><p>...</p></article>",notes:"Semantic tag. For blog posts, news articles, etc."},{name:"aside",category:"Semantic",description:"Sidebar or related content",syntax:"<aside>...</aside>",example:"<aside><h3>Related Links</h3></aside>",notes:"Semantic tag. For sidebars or tangential content."}],ov=t=>({h1:"<h1>This is a Heading 1</h1><p>Main title of the page</p>",h2:"<h2>This is a Heading 2</h2><p>Subheading - smaller than H1</p>",h3:"<h3>This is a Heading 3</h3><p>Sub-subheading</p>",p:"<p>This is a paragraph. Paragraphs have space above and below them.</p><p>This is another paragraph.</p>",strong:"<p>This is <strong>very important text</strong> in a sentence.</p>",em:"<p>This is <em>emphasized text</em> in a sentence.</p>",a:'<a href="https://example.com" style="color: blue; text-decoration: underline;">Click here to visit Example.com</a>',img:'<img src="data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%27100%27 height=%27100%27%3E%3Crect fill=%27%23ddd%27 width=%27100%27 height=%27100%27/%3E%3Ctext x=%2750%25%27 y=%2750%25%27 text-anchor=%27middle%27 dy=%27.3em%27 fill=%27%23999%27 font-size=%2714%27%3EImage%3C/text%3E%3C/svg%3E" alt="Sample Image" style="width: 100px; border: 1px solid #ccc;">',br:"<p>Line 1<br>Line 2<br>Line 3</p>",hr:'<p>Content before the line</p><hr style="border: none; border-top: 2px solid #999;"><p>Content after the line</p>',ul:'<ul style="margin-left: 20px;"><li>First item</li><li>Second item</li><li>Third item</li></ul>',ol:'<ol style="margin-left: 20px;"><li>First step</li><li>Second step</li><li>Third step</li></ol>',li:'<ul><li style="margin: 5px 0;">List item 1</li><li style="margin: 5px 0;">List item 2</li></ul>',div:'<div style="background: #f0f0f0; padding: 20px; border: 1px solid #ccc; margin: 10px 0;">This is a div container</div>',span:'<p>This is a <span style="background: #ffff00; padding: 2px 4px;">highlighted span</span> in text.</p>',button:'<button style="padding: 10px 20px; background: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer;">Click Me</button>',input:'<input type="text" placeholder="Enter your name" style="padding: 8px; border: 1px solid #ccc; border-radius: 4px; font-size: 14px; width: 200px;">',textarea:'<textarea placeholder="Enter your message" style="padding: 8px; border: 1px solid #ccc; border-radius: 4px; font-size: 14px; width: 100%; height: 80px;"></textarea>',form:'<form style="background: #f9f9f9; padding: 15px; border: 1px solid #ccc; border-radius: 4px;"><div style="margin-bottom: 10px;"><label>Name:</label><br><input type="text" style="padding: 5px; width: 100%; max-width: 300px;"></div><button type="submit" style="padding: 8px 16px; background: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer;">Submit</button></form>',table:'<table style="border-collapse: collapse; width: 100%;"><tr><th style="border: 1px solid #ddd; padding: 8px; background: #f0f0f0;">Name</th><th style="border: 1px solid #ddd; padding: 8px; background: #f0f0f0;">Age</th></tr><tr><td style="border: 1px solid #ddd; padding: 8px;">John</td><td style="border: 1px solid #ddd; padding: 8px;">25</td></tr><tr><td style="border: 1px solid #ddd; padding: 8px;">Jane</td><td style="border: 1px solid #ddd; padding: 8px;">28</td></tr></table>',header:'<header style="background: #333; color: white; padding: 20px; text-align: center;"><h1>Website Header</h1></header>',footer:'<footer style="background: #333; color: white; padding: 20px; text-align: center; margin-top: 20px;"><p>&copy; 2024 My Website. All rights reserved.</p></footer>',nav:'<nav style="background: #f0f0f0; padding: 10px; margin-bottom: 20px;"><a href="#" style="margin-right: 15px; text-decoration: none; color: blue;">Home</a><a href="#" style="margin-right: 15px; text-decoration: none; color: blue;">About</a><a href="#" style="margin-right: 15px; text-decoration: none; color: blue;">Contact</a></nav>',article:'<article style="background: white; padding: 15px; border: 1px solid #ddd; margin: 10px 0;"><h2>Article Title</h2><p>This is the content of the article...</p></article>',section:'<section style="background: #f9f9f9; padding: 20px; margin: 10px 0; border-left: 4px solid #007bff;"><h2>Section Title</h2><p>Section content goes here...</p></section>'})[t.toLowerCase()]||`<${t}>Content</${t}>`,av=({onClose:t})=>{const[e,n]=I.useState(""),[r,s]=I.useState(null),[i,o]=I.useState(null),a=I.useMemo(()=>[...new Set(ac.map(d=>d.category))],[]),l=I.useMemo(()=>ac.filter(d=>{const m=d.name.toLowerCase().includes(e.toLowerCase())||d.description.toLowerCase().includes(e.toLowerCase()),f=!r||d.category===r;return m&&f}),[e,r]),u=d=>{o(i===d?null:d)};return c.jsx("div",{className:"tags-reference-overlay",onClick:t,children:c.jsxs("div",{className:"tags-reference-modal",onClick:d=>d.stopPropagation(),children:[c.jsxs("div",{className:"reference-header",children:[c.jsx("h2",{children:" HTML Tags Reference"}),c.jsx("button",{className:"close-btn",onClick:t,children:""})]}),c.jsxs("div",{className:"reference-controls",children:[c.jsx("input",{type:"text",className:"search-input",placeholder:"Search tags (e.g., div, button, form)...",value:e,onChange:d=>n(d.target.value)}),c.jsxs("div",{className:"category-filters",children:[c.jsx("button",{className:`category-btn ${r?"":"active"}`,onClick:()=>s(null),children:"All Tags"}),a.map(d=>c.jsx("button",{className:`category-btn ${r===d?"active":""}`,onClick:()=>s(d),children:d},d))]})]}),c.jsx("div",{className:"reference-content",children:l.length===0?c.jsx("div",{className:"no-results",children:c.jsxs("p",{children:['No tags found matching "',e,'"']})}):c.jsx("div",{className:"tags-list",children:l.map(d=>c.jsxs("div",{className:"tag-card",children:[c.jsxs("div",{className:"tag-header-clickable",onClick:()=>u(d.name),children:[c.jsx("span",{className:"tag-expand-icon",children:i===d.name?"":""}),c.jsxs("div",{className:"tag-header",children:[c.jsxs("h3",{className:"tag-name",children:["<",d.name,">"]}),c.jsx("span",{className:"tag-category",children:d.category})]})]}),c.jsx("p",{className:"tag-description",children:d.description}),c.jsxs("div",{className:"tag-syntax",children:[c.jsx("strong",{children:"Syntax:"}),c.jsx("code",{children:d.syntax})]}),d.commonAttributes&&c.jsxs("div",{className:"tag-attributes",children:[c.jsx("strong",{children:"Common Attributes:"}),c.jsx("div",{className:"attribute-list",children:d.commonAttributes.map(m=>c.jsx("span",{className:"attribute-badge",children:m},m))})]}),c.jsxs("div",{className:"tag-example",children:[c.jsx("strong",{children:"Code Example:"}),c.jsx("pre",{children:c.jsx("code",{children:d.example})})]}),i===d.name&&c.jsxs("div",{className:"tag-rendering",children:[c.jsx("strong",{children:" Visual Rendering:"}),c.jsx("div",{className:"rendering-container",children:c.jsx("iframe",{srcDoc:ov(d.name),title:`${d.name} rendering`,style:{width:"100%",height:"150px",border:"1px solid #ddd",borderRadius:"4px",background:"white"},sandbox:"allow-same-origin"})})]}),d.notes&&c.jsxs("div",{className:"tag-notes",children:[c.jsx("strong",{children:" Note:"})," ",d.notes]})]},d.name))})})]})})},lc=({onBack:t,onSelectQuestion:e})=>{var Tl,El;const{user:n,logout:r}=$i(),[s,i]=I.useState([]),[o,a]=I.useState(!1),[l,u]=I.useState(null),[d,m]=I.useState(!1),[f,y]=I.useState(()=>{const P=sessionStorage.getItem("studyAreaSelectedTaskId");return P?parseInt(P):null}),[v,w]=I.useState(!1),k=Sr.useRef(null);I.useEffect(()=>{(async()=>{const q=await wt.questions.getAll();i(q)})()},[]),I.useEffect(()=>{f!==null?sessionStorage.setItem("studyAreaSelectedTaskId",f.toString()):sessionStorage.removeItem("studyAreaSelectedTaskId")},[f]);const p=I.useMemo(()=>[{id:"intro",title:"HTML Introduction",heading:"What is HTML?",difficulty:"easy",bullets:["HTML stands for Hyper Text Markup Language","HTML is the standard markup language for creating Web pages","HTML describes the structure of a Web page","HTML consists of a series of elements","HTML elements tell the browser how to display the content",'HTML elements label pieces of content such as "this is a heading", "this is a paragraph", "this is a link", etc.'],exampleTitle:"A Simple HTML Document",code:`<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Page Title</title>
  </head>
  <body>
    <h1>My First Heading</h1>
    <p>My first paragraph.</p>
  </body>
</html>`,tips:[" HTML is not a programming language - it's a markup language that tells browsers how to display content"," All modern websites use HTML5, the current standard of HTML"," HTML works best when combined with CSS for styling and JavaScript for interactivity"],bestPractices:[" Always use proper indentation to make your code readable"," Use semantic HTML tags that describe the content's meaning"," Keep your HTML structure clean and organized"," Use lowercase for all HTML tags and attributes"],commonMistakes:[{mistake:" Forgetting the <!DOCTYPE html> declaration",why:"The DOCTYPE tells the browser this is an HTML5 document. Without it, the browser may render incorrectly.",correct:" Always start with <!DOCTYPE html>"},{mistake:" Not closing tags properly (e.g., <p>Text instead of <p>Text</p>)",why:"Open tags must be closed. Unclosed tags can cause layout issues and invalid HTML.",correct:" Always close your tags: <p>Text</p>"},{mistake:" Missing <html>, <head>, or <body> tags",why:"These are essential container tags that structure your document.",correct:" Use proper document structure with all main tags"}]},{id:"editors",title:"HTML Editors",heading:"HTML Editors",bullets:["HTML files can be created using a simple text editor.","Popular editors: VS Code, Notepad++, Sublime Text","You can also use Windows Notepad or TextEdit (Mac)","Step 1: Open a text editor","Step 2: Write HTML code","Step 3: Save the file with .html extension (e.g., index.html)","Step 4: Open the file in your web browser to view the result"],exampleTitle:"Steps to Create HTML File",code:`Step 1: Open your text editor
Step 2: Type your HTML code
Step 3: Save as "index.html"
Step 4: Open index.html in your browser`},{id:"basic",title:"HTML Basic",heading:"HTML Basic Elements",difficulty:"easy",bullets:["HTML headings are defined with <h1> to <h6> tags","HTML paragraphs are defined with the <p> tag","HTML links are defined with the <a> tag","HTML images are defined with the <img> tag","The <br> tag inserts a single line break","The <hr> tag defines a thematic break in an HTML page (horizontal line)"],exampleTitle:"Basic tags example",code:`<h1>Main Title</h1>
<h2>Subtitle</h2>
<p>This is a paragraph with some text.</p>
<p>Another paragraph here.</p>
<a href="https://example.com" target="_blank" rel="noopener">Visit Website</a>
<br />
<img src="image.jpg" alt="Description of image" />
<hr />`,tips:[" Use <h1> for the main page title - each page should have only ONE <h1>"," Use <h2>-<h6> for sub-headings to create a proper document structure"," Always provide meaningful alt text for images for accessibility",' Use rel="noopener" when opening links in new tabs for security'],bestPractices:[" Use proper heading hierarchy: h1  h2  h3 (don't skip levels)"," Always add alt text to images (it helps screen readers and SEO)",' Use meaningful link text - avoid "click here" and use descriptive text'," Use semantic HTML elements to give meaning to your content"],commonMistakes:[{mistake:" Using multiple <h1> tags on one page",why:"A page should have one main <h1> for SEO and accessibility. Use <h2>, <h3> for sub-headings.",correct:" Use only one <h1> per page, use <h2>-<h6> for sections"},{mistake:' Forgetting alt text on images (<img src="photo.jpg">)',why:"Alt text helps screen readers and shows if image fails to load. Essential for accessibility.",correct:' Always add alt text: <img src="photo.jpg" alt="Description">'},{mistake:" Not specifying href in links (<a>Link</a>)",why:"Links need an href attribute to know where to navigate.",correct:' Always include href: <a href="url">Link</a>'}]},{id:"elements",title:"HTML Elements",heading:"HTML Elements",bullets:["An HTML element is defined by a start tag, some content, and an end tag","The HTML element syntax: <tagname>Content goes here...</tagname>","The start tag is <tagname>","The end tag is </tagname> (note the forward slash)","Some HTML elements have no content (like <br>). These are called empty elements.","Empty elements do not have an end tag","HTML elements can be nested (elements can contain other elements)"],exampleTitle:"Element structure examples",code:`<!-- Normal element with content -->
<p>This is a paragraph.</p>

<!-- Self-closing element -->
<img src="photo.jpg" alt="A photo" />
<br />

<!-- Nested elements -->
<div>
  <h2>Heading inside div</h2>
  <p>Paragraph inside div.</p>
</div>`},{id:"attributes",title:"HTML Attributes",heading:"HTML Attributes",bullets:["All HTML elements can have attributes","Attributes provide additional information about elements","Attributes are always specified in the start tag",'Attributes usually come in name/value pairs like: name="value"',"The href attribute specifies the URL for a link","The src attribute specifies the path to an image","The alt attribute provides alternate text for an image","The class attribute specifies one or more class names for an element","The id attribute specifies a unique id for an element","The style attribute specifies an inline CSS style for an element"],exampleTitle:"Attributes in action",code:`<a href="https://example.com" title="Go to Example" class="external-link" target="_blank">Visit</a>

<img src="photo.jpg" alt="Beach sunset" width="300" height="200" />

<p id="intro" class="text-large" style="color: blue;">Welcome!</p>

<input type="text" placeholder="Enter name" required />`},{id:"headings",title:"HTML Headings",heading:"HTML Headings",bullets:["HTML headings are defined with the <h1> to <h6> tags","<h1> defines the most important heading","<h6> defines the least important heading","<h1> headings should be used for main headings","<h2> to <h6> should be used for subheadings","Search engines use headings to index the structure and content of your web pages","Users often skim a page by its headings"],exampleTitle:"Headings hierarchy",code:`<h1>Main Page Title</h1>
<h2>Section 1</h2>
<h3>Subsection 1.1</h3>
<h3>Subsection 1.2</h3>
<h2>Section 2</h2>
<h3>Subsection 2.1</h3>
<h4>Detail 2.1.1</h4>
<h4>Detail 2.1.2</h4>`},{id:"paragraphs",title:"HTML Paragraphs",heading:"HTML Paragraphs",bullets:["The HTML <p> element defines a paragraph","A paragraph always starts on a new line","Browsers automatically add some white space before and after a paragraph","The <br> tag defines a line break","Use <br> if you want a line break without starting a new paragraph","HTML will remove extra spaces - multiple spaces count as one space"],exampleTitle:"Paragraph examples",code:`<p>This is a paragraph.</p>
<p>This is another paragraph.</p>

<p>
  This paragraph has<br />
  a line break in the middle.
</p>

<p style="color: blue; font-size: 18px;">
  This paragraph has custom styling.
</p>`},{id:"links",title:"HTML Links",heading:"HTML Links",bullets:["HTML links are defined with the <a> tag","The href attribute specifies the destination address",'Syntax: <a href="url">link text</a>',"The target attribute specifies where to open the linked document",'target="_blank" opens the link in a new browser window or tab','Use href="#id" to link to an element with a specific id within the same page','Use href="mailto:email@example.com" to create an email link',"Links can be styled with CSS to change colors and appearance"],exampleTitle:"Link examples",code:`<!-- External link -->
<a href="https://example.com" target="_blank" rel="noopener">Visit Example</a>

<!-- Link to another page -->
<a href="about.html">About Us</a>

<!-- Link to section on same page -->
<a href="#contact">Jump to Contact</a>

<!-- Email link -->
<a href="mailto:info@example.com">Send Email</a>

<!-- Phone link -->
<a href="tel:+1234567890">Call Us</a>`},{id:"images",title:"HTML Images",heading:"HTML Images",bullets:["HTML images are defined with the <img> tag","The <img> tag is empty, it contains attributes only","The src attribute specifies the path (URL) to the image","The alt attribute provides alternate text for an image","Alt text is displayed if the image cannot be displayed","Always specify the width and height of an image",'Syntax: <img src="url" alt="description" width="" height="">'],exampleTitle:"Image examples",code:`<!-- Basic image -->
<img src="photo.jpg" alt="Beach sunset" />

<!-- Image with dimensions -->
<img src="logo.png" alt="Company logo" width="200" height="100" />

<!-- Image from URL -->
<img src="https://example.com/image.jpg" alt="Remote image" />

<!-- Clickable image -->
<a href="page.html">
  <img src="button.png" alt="Click here" />
</a>`},{id:"lists",title:"HTML Lists",heading:"HTML Lists",bullets:["HTML lists allow you to group related items together","An unordered list starts with the <ul> tag. Each list item starts with <li>","The list items are marked with bullets (small black circles) by default","An ordered list starts with the <ol> tag. Each list item starts with <li>","The list items in ordered lists are marked with numbers by default","HTML also supports description lists using <dl>, <dt>, and <dd> tags"],exampleTitle:"List examples",code:`<!-- Unordered list (bullets) -->
<ul>
  <li>Apple</li>
  <li>Banana</li>
  <li>Orange</li>
</ul>

<!-- Ordered list (numbers) -->
<ol>
  <li>First step</li>
  <li>Second step</li>
  <li>Third step</li>
</ol>

<!-- Nested list -->
<ul>
  <li>Fruits
    <ul>
      <li>Apple</li>
      <li>Banana</li>
    </ul>
  </li>
  <li>Vegetables</li>
</ul>`},{id:"tables",title:"HTML Tables",heading:"HTML Tables",bullets:["HTML tables allow you to arrange data into rows and columns","A table in HTML consists of table cells inside rows and columns","The <table> tag defines an HTML table","Each table row is defined with a <tr> tag","Each table header is defined with a <th> tag","Each table data/cell is defined with a <td> tag","Table headers are bold and centered by default"],exampleTitle:"Table example",code:`<table border="1">
  <thead>
    <tr>
      <th>Name</th>
      <th>Age</th>
      <th>City</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Ana</td>
      <td>20</td>
      <td>NYC</td>
    </tr>
    <tr>
      <td>Bob</td>
      <td>25</td>
      <td>LA</td>
    </tr>
  </tbody>
</table>`},{id:"block-inline",title:"HTML Block & Inline",heading:"Block and Inline Elements",bullets:["Every HTML element has a default display value","The two most common display values are block and inline","A block-level element always starts on a new line","A block-level element always takes up the full width available","Examples of block elements: <div>, <p>, <h1>-<h6>, <form>, <header>, <footer>","An inline element does not start on a new line","An inline element only takes up as much width as necessary","Examples of inline elements: <span>, <a>, <img>, <strong>, <em>"],exampleTitle:"Block and inline examples",code:`<!-- Block elements -->
<div>This div takes full width</div>
<p>This paragraph starts on new line</p>

<!-- Inline elements -->
<p>This is <span style="color: red;">inline text</span> inside.</p>
<p>Visit <a href="#">this link</a> in the paragraph.</p>

<!-- Mixed -->
<div>
  <p>Block paragraph with <strong>inline bold</strong> text.</p>
  <span>Inline span here</span>
</div>`},{id:"div",title:"HTML Div",heading:"The Div Element",bullets:["The <div> element is used as a container for other HTML elements","The <div> element is a block-level element","The <div> element has no required attributes","The <div> element is often used with class or id attributes","The <div> element can be used to group elements for styling purposes (using CSS)","The <div> element is commonly used for layout purposes"],exampleTitle:"Div examples",code:`<!-- Basic div -->
<div>
  <h2>Title</h2>
  <p>Content here</p>
</div>

<!-- Div with class for styling -->
<div class="card">
  <img src="photo.jpg" alt="Photo" />
  <h3>Card Title</h3>
  <p>Card description</p>
</div>

<!-- Nested divs for layout -->
<div class="container">
  <div class="header">Header</div>
  <div class="content">Main content</div>
  <div class="footer">Footer</div>
</div>`},{id:"classes-id",title:"HTML Classes & Id",heading:"Classes and Id Attributes",bullets:["The class attribute specifies one or more class names for an element","The class attribute is mostly used to point to a class in a style sheet","Multiple HTML elements can share the same class","To define multiple classes for an element, separate the class names with a space","The id attribute specifies a unique id for an HTML element","The value of the id attribute must be unique within the HTML document","The id attribute is used to point to a specific style declaration in CSS"],exampleTitle:"Class and ID examples",code:`<!-- Elements with classes -->
<p class="intro">Introduction paragraph</p>
<p class="intro highlight">Highlighted intro</p>
<p class="highlight">Another highlight</p>

<!-- Element with id -->
<div id="main-content">
  <h1 id="page-title">Title</h1>
  <p class="text">Content</p>
</div>

<!-- Link to id (anchor) -->
<a href="#main-content">Jump to main content</a>`},{id:"forms",title:"HTML Forms",heading:"HTML Forms",bullets:["An HTML form is used to collect user input","The <form> element defines an HTML form","The <input> element is the most common form element","The type attribute defines the type of input (text, password, email, number, etc.)","The <label> element defines a label for form elements","The <textarea> element defines a multi-line input field","The <select> element defines a drop-down list","The <button> element defines a clickable button"],exampleTitle:"Form example",code:`<form action="/submit" method="POST">
  <label for="name">Name:</label>
  <input type="text" id="name" name="name" required />
  
  <label for="email">Email:</label>
  <input type="email" id="email" name="email" required />
  
  <label for="age">Age:</label>
  <input type="number" id="age" name="age" min="1" max="120" />
  
  <label for="message">Message:</label>
  <textarea id="message" name="message" rows="4"></textarea>
  
  <button type="submit">Send</button>
</form>`},{id:"styles",title:"HTML Styles",heading:"HTML Styles",bullets:["The HTML style attribute is used to add styles to an element",'Syntax: <tagname style="property:value;">',"The property is a CSS property. The value is a CSS value","Common style properties: color, background-color, font-size, font-family, text-align","Use semicolon (;) to separate multiple style properties"],exampleTitle:"Style examples",code:`<p style="color: red;">Red text</p>

<p style="color: blue; font-size: 20px;">Blue text, 20px size</p>

<div style="background-color: yellow; padding: 10px; border: 2px solid black;">
  Styled box
</div>

<h2 style="text-align: center; color: green; font-family: Arial;">
  Centered green heading
</h2>`},{id:"layout",title:"HTML Layout",heading:"HTML Layout Elements",bullets:["HTML has several semantic elements that define different parts of a web page","<header> - Defines a header for a document or section","<nav> - Defines a set of navigation links","<section> - Defines a section in a document","<article> - Defines independent, self-contained content","<aside> - Defines content aside from the content (like a sidebar)","<footer> - Defines a footer for a document or section","<main> - Specifies the main content of a document"],exampleTitle:"Layout example",code:`<header>Site Header</header>
<nav>Menu</nav>
<main>
  <section>Content</section>
</main>
<footer>Footer</footer>`},{id:"semantics",title:"HTML Semantics",heading:"HTML Semantic Elements",bullets:["A semantic element clearly describes its meaning to both the browser and the developer","Examples of semantic elements: <form>, <table>, <article>, <header>, <footer>","<article> - Defines independent, self-contained content","<aside> - Defines content aside from the page content","<figure> - Specifies self-contained content, like illustrations or diagrams","<figcaption> - Defines a caption for a <figure> element","Semantic HTML makes web pages more informative and easier to read for developers and search engines"],exampleTitle:"Semantic example",code:`<article>
  <h2>News</h2>
  <p>Story text...</p>
</article>`},{id:"head",title:"HTML Head",heading:"The HTML Head Element",bullets:["The <head> element is a container for metadata (data about data)","The <head> element is placed between the <html> tag and the <body> tag","The <title> element defines the title of the document","The <meta> element is used to specify character set, page description, keywords, author, and viewport","The <link> element defines the relationship between the current document and an external resource","The <style> element contains style information for a document","The <script> element is used to define client-side JavaScript"],exampleTitle:"Complete head example",code:`<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Learn HTML basics" />
  <meta name="keywords" content="HTML, tutorial, beginner" />
  <meta name="author" content="Your Name" />
  <title>My Page - Learn HTML</title>
  <link rel="stylesheet" href="styles.css" />
  <link rel="icon" href="favicon.ico" />
  <script src="script.js"><\/script>
</head>`},{id:"computer-code",title:"HTML Computercode",heading:"HTML Computer Code Elements",bullets:["HTML contains several elements for defining computer code and keyboard input","The <code> element defines a piece of computer code","The <pre> element defines preformatted text (preserves spaces and line breaks)","The <kbd> element defines keyboard input","The <samp> element defines sample output from a computer program","The <var> element defines a variable in programming or math"],exampleTitle:"Code example",code:`<p>Press <kbd>Ctrl</kbd> + <kbd>S</kbd></p>
<pre><code>const x = 10;</code></pre>`},{id:"entities",title:"HTML Entities",heading:"HTML Entities",bullets:["Some characters are reserved in HTML","If you use the less than (<) or greater than (>) signs in your text, the browser might mix them with tags","Character entities are used to display reserved characters in HTML","An entity looks like this: &entity_name; OR &#entity_number;","Common entities: &lt; (less than), &gt; (greater than), &amp; (ampersand), &quot; (quotation mark)","Non-breaking space: &nbsp; prevents line breaks at that position"],exampleTitle:"Entity example",code:"&lt;p&gt;5 &gt; 3 &amp; 2 &lt; 4&lt;/p&gt;"},{id:"symbols",title:"HTML Symbols",heading:"HTML Symbols",bullets:["Symbols that are not present on your keyboard can be added using entities","Many mathematical, technical, and currency symbols are not available on a normal keyboard","To add such symbols, use an HTML entity name or number","Common symbols: &copy; (), &reg; (), &trade; (), &euro; (), &cent; ()","If no entity name exists, you can use an entity number (decimal or hexadecimal reference)"],exampleTitle:"Symbols example",code:"&copy; 2026 My Site &nbsp; &reg; &nbsp; &trade;"},{id:"emojis",title:"HTML Emojis",heading:"HTML Emojis",bullets:["Emojis are characters from the UTF-8 character set","To display an emoji, you can use an emoji HTML entity","Since emojis are characters, they can be copied, displayed, and sized just like any other characters","The charset must be UTF-8 to display emojis correctly","Example: &#128512; displays "],exampleTitle:"Emoji example",code:`<meta charset="UTF-8" />
<p>Learning HTML is fun </p>`},{id:"charsets",title:"HTML Charsets",heading:"HTML Character Sets",bullets:["To display an HTML page correctly, a web browser must know which character set to use","The charset is specified in the <meta> tag","UTF-8 covers almost all of the characters and symbols in the world","Always declare the character encoding in your HTML documents",'Syntax: <meta charset="UTF-8">'],exampleTitle:"Charset example",code:'<meta charset="UTF-8" />'},{id:"responsive",title:"HTML Responsive",heading:"Responsive Web Design",bullets:["Responsive web design makes your web page look good on all devices","Responsive web design uses only HTML and CSS","The viewport is the user visible area of a web page",'Set the viewport: <meta name="viewport" content="width=device-width, initial-scale=1.0">',"This gives the browser instructions on how to control the page dimensions and scaling"],exampleTitle:"Responsive basics",code:'<meta name="viewport" content="width=device-width, initial-scale=1.0" />'},{id:"style-guide",title:"HTML Style Guide",heading:"HTML Coding Conventions",bullets:["Always declare the document type: <!DOCTYPE html>","Use lowercase element names (recommended by W3C)","Close all HTML elements","Use lowercase attribute names","Always quote attribute values","Always specify alt, width, and height for images","Avoid long code lines (easier to read)"],exampleTitle:"Clean formatting",code:`<div class="card">
  <img src="photo.jpg" alt="Profile photo" />
  <p>Short description.</p>
</div>`},{id:"url-encode",title:"HTML URL Encode",heading:"HTML URL Encoding",bullets:["URLs can only be sent over the Internet using the ASCII character set","URL encoding converts characters into a format that can be transmitted over the Internet",'URL encoding replaces unsafe ASCII characters with a "%" followed by two hexadecimal digits',"URLs cannot contain spaces. URL encoding normally replaces a space with a plus (+) sign or %20",'Common encodings: space (%20), ! (%21), " (%22), # (%23), $ (%24)'],exampleTitle:"URL encode example",code:"https://example.com/search?q=hello%20world&lang=en"},{id:"xhtml",title:"HTML vs. XHTML",heading:"HTML vs. XHTML",bullets:["XHTML stands for EXtensible HyperText Markup Language","XHTML is a stricter, more XML-based version of HTML","XHTML is HTML defined as an XML application","In XHTML, all elements must be properly closed","In XHTML, all elements must be in lowercase","XHTML documents must have one root element","Most pages today are written in HTML5"],exampleTitle:"XHTML style",code:`<br />
<img src="image.jpg" alt="Desc" />`},{id:"semantic",title:"HTML Semantic Elements",heading:"Semantic HTML Elements",bullets:["Semantic HTML elements clearly describe their meaning to both the browser and developer","<article> - Defines independent, self-contained content","<section> - Defines a section in a document","<nav> - Defines navigation links","<header> - Defines a header for a document or section","<footer> - Defines a footer for a document or section","<aside> - Defines content aside from the page content","<main> - Specifies the main content of a document"],exampleTitle:"Semantic HTML structure",code:`<header>
  <nav><a href="#">Home</a></nav>
</header>
<main>
  <article>
    <h1>Article Title</h1>
    <p>Article content...</p>
  </article>
  <aside>Related info</aside>
</main>
<footer>Copyright 2024</footer>`},{id:"meta",title:"HTML Meta Tags",heading:"Meta Tags for SEO and Display",bullets:["Meta tags provide metadata about the HTML document","Metadata is not displayed on the page, but used by browsers and search engines","charset - Specifies the character encoding","viewport - Controls layout on mobile browsers","description - Provides a short description of the page","keywords - Lists keywords for search engines","author - Specifies the author of the document"],exampleTitle:"Common meta tags",code:`<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Page description">
  <meta name="keywords" content="html, css, javascript">
  <meta name="author" content="John Doe">
</head>`},{id:"canvas",title:"HTML Canvas",heading:"Drawing Graphics with Canvas",bullets:["The canvas element is used to draw graphics on a web page","Canvas is a container for graphics and must be drawn with JavaScript","Canvas provides methods for drawing paths, boxes, circles, text, and images","The canvas element has only two attributes: width and height","Canvas coordinates start at (0,0) in the top-left corner",'Use getContext("2d") to access the drawing context'],exampleTitle:"Simple canvas drawing",code:`<canvas id="myCanvas" width="200" height="200"></canvas>
<script>
  const canvas = document.getElementById("myCanvas");
  const ctx = canvas.getContext("2d");
  ctx.fillStyle = "#667eea";
  ctx.fillRect(20, 20, 150, 100);
<\/script>`},{id:"video",title:"HTML Video & Audio",heading:"Embedding Video and Audio",bullets:["The <video> tag is used to embed video files in a web page","The <audio> tag is used to embed audio files","Both support multiple file formats for better browser compatibility","Common video formats: MP4, WebM, Ogg","Common audio formats: MP3, WAV, OGG","Video and audio elements provide built-in player controls","Use the controls attribute to display playback controls"],exampleTitle:"Video and Audio tags",code:`<video width="400" controls>
  <source src="movie.mp4" type="video/mp4">
  Your browser does not support the video tag.
</video>

<audio controls>
  <source src="song.mp3" type="audio/mpeg">
  Your browser does not support the audio element.
</audio>`},{id:"geo",title:"HTML Geolocation",heading:"Get User Location with Geolocation API",bullets:["Geolocation API is used to get the geographical position of a user","The position is only available if the user approves it","Uses getCurrentPosition() to get the current position","Returns latitude and longitude coordinates","Can track user movement with watchPosition()","Requires HTTPS in production (for security)","Accuracy varies depending on the device and network"],exampleTitle:"Get user coordinates",code:`<script>
if (navigator.geolocation) {
  navigator.geolocation.getCurrentPosition(function(position) {
    const lat = position.coords.latitude;
    const lon = position.coords.longitude;
    console.log("Latitude: " + lat);
    console.log("Longitude: " + lon);
  });
} else {
  console.log("Geolocation is not supported");
}
<\/script>`},{id:"drag",title:"HTML Drag and Drop",heading:"Implementing Drag and Drop",bullets:["Drag and Drop is a common feature in modern web applications",'Make any HTML element draggable with draggable="true"',"ondragstart - Happens when user starts dragging","ondrop - Happens when dragged element is dropped","ondragover - Specifies where elements can be dropped","Use dataTransfer to pass data between dragged and drop zones","preventDefault() must be called in ondragover to allow dropping"],exampleTitle:"Drag and Drop example",code:`<div id="source" draggable="true">Drag me</div>
<div id="target"></div>

<script>
  const source = document.getElementById("source");
  const target = document.getElementById("target");
  
  source.ondragstart = (e) => {
    e.dataTransfer.setData("text", e.target.id);
  };
  
  target.ondragover = (e) => e.preventDefault();
  target.ondrop = (e) => {
    const id = e.dataTransfer.getData("text");
    target.appendChild(document.getElementById(id));
  };
<\/script>`},{id:"storage",title:"HTML Web Storage",heading:"Storing Data in the Browser",bullets:["Web Storage allows you to store data on the client side","localStorage - Data persists even after closing the browser","sessionStorage - Data is deleted when the browser tab is closed","Much larger storage capacity than cookies","Data is stored as key-value pairs","Access data with getItem(), setItem(), removeItem()","Useful for saving user preferences and application state"],exampleTitle:"Using localStorage",code:`<script>
// Save data
localStorage.setItem("username", "John");
localStorage.setItem("theme", "dark");

// Get data
const user = localStorage.getItem("username");

// Remove specific data
localStorage.removeItem("theme");

// Clear all data
localStorage.clear();
<\/script>`},{id:"web-worker",title:"HTML Web Workers",heading:"Running Scripts in Background",bullets:["Web Workers run JavaScript in the background","Prevents long scripts from blocking user interaction","Workers run in separate threads","Main thread and worker communicate via messages","Use postMessage() to send data to worker","Use onmessage to receive data from worker","Workers cannot access DOM or window object"],exampleTitle:"Simple Web Worker",code:`// Create worker
const worker = new Worker("worker.js");

// Send data to worker
worker.postMessage({x: 10, y: 20});

// Receive data from worker
worker.onmessage = function(event) {
  console.log("Result: " + event.data);
};`}],[]),h=I.useMemo(()=>[{id:1,type:"multiple",question:"What does HTML stand for?",options:["Hyper Text Markup Language","High Tech Modern Language","Home Tool Markup Language","Hyperlinks and Text Markup Language"],correct:0},{id:2,type:"multiple",question:"Which tag is used for the largest heading?",options:["<h1>","<h6>","<heading>","<head>"],correct:0},{id:3,type:"multiple",question:"Which tag is used to define a paragraph?",options:["<p>","<para>","<paragraph>","<pg>"],correct:0},{id:4,type:"blanks",question:"The <_____ > tag is used to create a hyperlink.",answer:"a"},{id:5,type:"multiple",question:"What is the correct way to create an image?",options:['<img src="image.jpg">','<image src="image.jpg">','<img href="image.jpg">','<picture src="image.jpg">'],correct:0},{id:6,type:"blanks",question:"The <_____ > tag is used to create a line break.",answer:"br"},{id:7,type:"multiple",question:"Which attribute specifies alternate text for an image?",options:["alt","title","description","text"],correct:0},{id:8,type:"blanks",question:"Use the <_____ > tag to define a list item.",answer:"li"},{id:9,type:"multiple",question:"Which tag defines an unordered list?",options:["<ul>","<ol>","<list>","<li>"],correct:0},{id:10,type:"multiple",question:"What does the <head> tag contain?",options:["Metadata and title information","Main content of the page","Navigation links","Footer information"],correct:0},{id:11,type:"blanks",question:"The <!_____ html> declaration tells the browser the document is HTML5.",answer:"DOCTYPE"},{id:12,type:"multiple",question:"Which tag is used to define a table?",options:["<table>","<tab>","<tbl>","<tr>"],correct:0},{id:13,type:"blanks",question:"Use <_____ > tag to define a table row.",answer:"tr"},{id:14,type:"multiple",question:"Which tag is used to define a form?",options:["<form>","<input>","<field>","<data>"],correct:0},{id:15,type:"blanks",question:"Use <_____ > tag to define a submit button.",answer:"button"},{id:16,type:"multiple",question:"What is the purpose of the alt attribute?",options:["Provide alternate text for images","Align the image","Make the image alternate colors","Define image size"],correct:0},{id:17,type:"blanks",question:"The <_____ > tag is used to define the document title.",answer:"title"},{id:18,type:"multiple",question:"Which tag is used for the smallest heading?",options:["<h6>","<h1>","<h3>","<h4>"],correct:0},{id:19,type:"blanks",question:"Use the <_____ > tag to define a division or section of HTML.",answer:"div"},{id:20,type:"multiple",question:"What is the correct way to add a comment in HTML?",options:["<!-- comment -->","<! comment !>","// comment","/* comment */"],correct:0},{id:21,type:"blanks",question:"The <_____ > tag defines metadata about an HTML document.",answer:"meta"},{id:22,type:"multiple",question:"Which tag is used to define a strong emphasis?",options:["<strong>","<bold>","<b>","<emphasis>"],correct:0},{id:23,type:"blanks",question:"Use <_____ > tag to define an unordered list.",answer:"ul"},{id:24,type:"multiple",question:"What does CSS stand for?",options:["Cascading Style Sheets","Creative Style Sheets","Computer Style Sheets","Colorful Style Sheets"],correct:0},{id:25,type:"blanks",question:"The <_____ > tag defines an ordered list.",answer:"ol"},{id:26,type:"multiple",question:"Which attribute specifies the URL of the link?",options:["href","url","link","src"],correct:0},{id:27,type:"blanks",question:"Use <_____ > tag to define an emphasized text.",answer:"em"},{id:28,type:"multiple",question:"What is the purpose of the charset meta tag?",options:["Specify character encoding","Define colors","Set page width","Enable JavaScript"],correct:0},{id:29,type:"blanks",question:"The <_____ > tag defines a hyperlink reference.",answer:"a"},{id:30,type:"multiple",question:"Which tag is used to define the body of a document?",options:["<body>","<content>","<main>","<page>"],correct:0}],[]),[g,_]=I.useState(p[0].id),[T,b]=I.useState(""),[E,j]=I.useState(!1),[D,O]=I.useState({}),[F,je]=I.useState(!1),[Ae,Yt]=I.useState(0),[at,lt]=I.useState(0),ut=2,C=Math.ceil(h.length/ut),$=at*ut,S=$+ut,R=h.slice($,S),z=()=>{let P=0;return h.forEach(q=>{var or,ar;const wn=D[q.id];q.type==="multiple"?wn===((or=q.correct)==null?void 0:or.toString())&&P++:(wn==null?void 0:wn.toLowerCase().trim())===((ar=q.answer)==null?void 0:ar.toLowerCase())&&P++}),P},Z=()=>{Yt(z()),je(!0)},Y=f!==null,Q=s.find(P=>P.id===f),M=p.find(P=>P.id===g)||p[0],we=p.findIndex(P=>P.id===g),cs=we===0,xl=we===p.length-1,Hh=()=>{cs||_(p[we-1].id)},Bh=()=>{xl||_(p[we+1].id)};return Sr.useEffect(()=>{b(M.code),j(!1)},[g,M.code]),Sr.useEffect(()=>{sessionStorage.getItem("studyAreaScrollToTasks")==="true"&&k.current&&setTimeout(()=>{var q;(q=k.current)==null||q.scrollIntoView({behavior:"smooth",block:"start"}),sessionStorage.removeItem("studyAreaScrollToTasks")},100)},[]),c.jsxs("div",{className:"study-container",children:[c.jsxs("header",{className:"study-header",children:[c.jsxs("div",{className:"header-left",children:[c.jsxs("div",{className:"header-title-row",children:[c.jsx("span",{className:"header-icon",children:""}),c.jsx("h1",{children:"HTML"})]}),c.jsx("p",{className:"subtitle",children:"Step-by-step lessons for complete beginners"})]}),c.jsxs("div",{className:"header-right",children:[c.jsx("button",{className:"header-btn",onClick:()=>m(!0),title:"HTML Tags Reference",children:" Tags"}),c.jsx("button",{className:"dark-mode-btn",onClick:()=>a(!o),title:o?"Light Mode":"Dark Mode",children:o?"":""}),c.jsxs("span",{className:"user-info",children:["Welcome, ",n==null?void 0:n.name,"!"]}),c.jsx("button",{className:"logout-btn",onClick:r,children:"Logout"})]})]}),c.jsx("div",{className:`study-content ${o?"dark-mode":""}`,children:c.jsxs("div",{className:"study-layout",children:[c.jsxs("aside",{className:"study-sidebar","aria-label":"HTML topics",children:[c.jsx("div",{className:"sidebar-title",children:"HTML Topics"}),c.jsx("ul",{className:"topic-list",children:p.map(P=>c.jsx("li",{children:c.jsx("button",{className:`topic-item ${P.id===g&&!Y&&!v?"active":""}`,onClick:()=>{_(P.id),y(null),w(!1)},children:P.title})},P.id))}),s.length>0&&c.jsxs(c.Fragment,{children:[c.jsx("div",{ref:k,className:"sidebar-title",style:{marginTop:"24px"},children:"HTML Tasks"}),c.jsx("ul",{className:"topic-list",children:s.map(P=>c.jsx("li",{children:c.jsx("button",{className:`topic-item ${f===P.id&&!v?"active":""}`,onClick:()=>{y(P.id),w(!1)},children:P.title})},`task-${P.id}`))})]}),c.jsx("div",{className:"sidebar-title",style:{marginTop:"24px"},children:"Quiz"}),c.jsx("ul",{className:"topic-list",children:c.jsx("li",{children:c.jsx("button",{className:`topic-item ${v?"active":""}`,onClick:()=>{w(!0),y(null),_("")},children:"HTML Quiz (30 Questions)"})})})]}),c.jsx("main",{className:"study-main",children:v?c.jsxs(c.Fragment,{children:[c.jsxs("section",{className:"study-section",children:[c.jsx("h2",{children:"HTML Quiz"}),c.jsx("p",{style:{color:"#666",marginBottom:"20px"},children:"30 questions covering HTML concepts. Select the correct answer or fill in the blank."}),c.jsxs("p",{style:{color:"#999",marginBottom:"20px"},children:["Question ",$+1," - ",Math.min(S,h.length)," of ",h.length]}),F&&c.jsxs("div",{style:{background:"#e8f5e9",padding:"16px",borderRadius:"8px",marginBottom:"20px",border:"2px solid #4caf50"},children:[c.jsx("h3",{style:{margin:"0 0 8px 0",color:"#2e7d32"},children:"Quiz Completed!"}),c.jsxs("p",{style:{margin:0,fontSize:"18px",color:"#333"},children:["Score: ",c.jsxs("strong",{children:[Ae,"/",h.length]})," (",Math.round(Ae/h.length*100),"%)"]})]})]}),c.jsx("div",{style:{background:"#f9f9f9",padding:"20px",borderRadius:"8px"},children:R.map((P,q)=>{var or,ar,Cl;const wn=$+q;return c.jsxs("div",{style:{marginBottom:q!==R.length-1?"24px":"0",paddingBottom:q!==R.length-1?"24px":"0",borderBottom:q!==R.length-1?"1px solid #e0e0e0":"none"},children:[c.jsxs("h4",{style:{margin:"0 0 12px 0",color:"#333"},children:["Q",wn+1,". ",P.question]}),P.type==="multiple"?c.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:(or=P.options)==null?void 0:or.map((Di,mt)=>c.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",padding:"8px",borderRadius:"6px",background:D[P.id]===mt.toString()?"#e3f2fd":"transparent"},children:[c.jsx("input",{type:"radio",name:`q${P.id}`,value:mt.toString(),checked:D[P.id]===mt.toString(),onChange:Fh=>{O(Wh=>({...Wh,[P.id]:Fh.target.value})),F&&je(!1)},disabled:F}),c.jsx("span",{children:Di}),F&&mt===P.correct&&c.jsx("span",{style:{color:"#4caf50",fontWeight:"bold"},children:""}),F&&D[P.id]===mt.toString()&&mt!==P.correct&&c.jsx("span",{style:{color:"#f44336",fontWeight:"bold"},children:""})]},mt))}):c.jsxs(c.Fragment,{children:[c.jsx("input",{type:"text",value:D[P.id]||"",onChange:Di=>{O(mt=>({...mt,[P.id]:Di.target.value})),F&&je(!1)},disabled:F,placeholder:"Type your answer...",style:{width:"100%",padding:"8px 12px",border:"2px solid #ddd",borderRadius:"6px",fontSize:"14px",fontFamily:"Courier New, monospace"}}),F&&c.jsx("div",{style:{marginTop:"8px",fontSize:"14px"},children:((ar=D[P.id])==null?void 0:ar.toLowerCase().trim())===((Cl=P.answer)==null?void 0:Cl.toLowerCase())?c.jsx("span",{style:{color:"#4caf50"},children:" Correct"}):c.jsx("div",{style:{color:"#f44336"},children:c.jsxs("span",{children:[" Incorrect. Answer: ",c.jsx("strong",{children:P.answer})]})})})]})]},P.id)})}),c.jsxs("div",{className:"lesson-navigation",children:[c.jsx("button",{className:"nav-btn prev-btn",onClick:()=>lt(Math.max(0,at-1)),disabled:at===0||F,children:" Previous"}),at===C-1?F?c.jsx("button",{className:"solve-task-btn",onClick:()=>{O({}),je(!1),Yt(0),lt(0)},children:"Retake Quiz"}):c.jsx("button",{className:"solve-task-btn",onClick:Z,children:"Submit Quiz"}):null,c.jsx("button",{className:"nav-btn next-btn",onClick:()=>lt(Math.min(C-1,at+1)),disabled:at===C-1||F,children:"Next "})]})]}):Y&&Q?c.jsxs(c.Fragment,{children:[c.jsxs("section",{className:"study-section",children:[c.jsx("h2",{children:Q.title}),c.jsxs("p",{style:{color:"#666",marginBottom:"16px"},children:[c.jsx("strong",{children:"Difficulty:"})," ",c.jsx("span",{style:{display:"inline-block",padding:"4px 12px",borderRadius:"4px",backgroundColor:Q.difficulty==="easy"?"#4caf50":Q.difficulty==="medium"?"#ff9800":"#f44336",color:"white"},children:Q.difficulty.charAt(0).toUpperCase()+Q.difficulty.slice(1)})]}),c.jsxs("p",{style:{color:"#333",marginBottom:"20px"},children:[c.jsx("strong",{children:"Description:"})," ",Q.description]}),c.jsxs("p",{style:{color:"#666"},children:[c.jsx("strong",{children:"Blanks to fill:"})," ",Q.blanksCount]})]}),c.jsxs("section",{className:"study-section",children:[c.jsx("h3",{children:"HTML Code to Complete"}),c.jsx("pre",{className:"study-code",children:c.jsx("code",{children:Q.htmlContent})})]}),c.jsxs("div",{className:"lesson-navigation",children:[c.jsx("button",{className:"nav-btn prev-btn",onClick:()=>{const P=s.findIndex(q=>q.id===f);P>0&&y(s[P-1].id)},disabled:f===((Tl=s[0])==null?void 0:Tl.id),children:" Previous Task"}),c.jsx("button",{className:"nav-btn solve-task-btn",onClick:()=>{sessionStorage.setItem("studyAreaFromTaskPreview","true"),e(f)},children:"Solve This Task "}),c.jsx("button",{className:"nav-btn next-btn",onClick:()=>{const P=s.findIndex(q=>q.id===f);P<s.length-1&&y(s[P+1].id)},disabled:f===((El=s[s.length-1])==null?void 0:El.id),children:"Next Task "})]})]}):c.jsxs(c.Fragment,{children:[c.jsxs("nav",{className:"breadcrumb",children:[c.jsx("span",{className:"breadcrumb-item",children:"HTML Learning"}),c.jsx("span",{className:"breadcrumb-separator",children:""}),c.jsx("span",{className:"breadcrumb-item active",children:M.title}),c.jsx("span",{className:"breadcrumb-separator",style:{marginLeft:"auto"}}),c.jsxs("span",{className:"breadcrumb-item",style:{marginLeft:"auto"},children:["Lesson ",p.findIndex(P=>P.id===g)+1," of ",p.length]})]}),c.jsxs("section",{className:"study-section",children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[c.jsx("h2",{children:M.heading}),M.difficulty&&c.jsx("span",{className:`difficulty-badge difficulty-${M.difficulty}`,children:M.difficulty.charAt(0).toUpperCase()+M.difficulty.slice(1)})]}),c.jsx("ul",{className:"study-bullets",children:M.bullets.map((P,q)=>c.jsx("li",{children:P},q))})]}),M.code&&c.jsxs("section",{className:"study-section",children:[c.jsxs("div",{className:"code-header",children:[c.jsx("h3",{children:M.exampleTitle}),c.jsx("button",{className:"copy-btn",onClick:()=>{navigator.clipboard.writeText(M.code),u(M.code),setTimeout(()=>u(null),2e3)},title:"Copy code to clipboard",children:l===M.code?" Copied!":" Copy Code"})]}),c.jsx("pre",{className:"study-code",children:c.jsx("code",{children:M.code})})]}),M.commonMistakes&&c.jsxs("section",{className:"study-section",children:[c.jsx("h3",{children:" Common Mistakes"}),c.jsx("div",{className:"mistakes-container",children:M.commonMistakes.map((P,q)=>c.jsxs("div",{className:"mistake-card",children:[c.jsx("p",{className:"mistake-text",children:P.mistake}),c.jsxs("p",{className:"mistake-why",children:[c.jsx("strong",{children:"Why:"})," ",P.why]}),c.jsx("p",{className:"mistake-correct",children:P.correct})]},q))})]}),M.tips&&c.jsxs("section",{className:"study-section",children:[c.jsx("h3",{children:" Tips & Notes"}),c.jsx("div",{className:"tips-container",children:M.tips.map((P,q)=>c.jsx("div",{className:"tip-box",children:P},q))})]}),M.bestPractices&&c.jsxs("section",{className:"study-section",children:[c.jsx("h3",{children:" Best Practices"}),c.jsx("div",{className:"best-practices-container",children:M.bestPractices.map((P,q)=>c.jsx("div",{className:"practice-box",children:P},q))})]}),M.code&&M.id!=="intro"&&M.id!=="editors"&&c.jsxs("section",{className:"study-section",children:[c.jsx("h3",{children:" Try It Yourself!"}),c.jsx("p",{className:"try-instructions",children:'Edit the code below and click "Preview" to see the result. Experiment and learn!'}),c.jsx("textarea",{className:"try-editor",value:T,onChange:P=>b(P.target.value),rows:10,placeholder:"Type your HTML code here...",spellCheck:!1}),c.jsxs("div",{className:"try-actions",children:[c.jsx("button",{className:"preview-btn",onClick:()=>j(!E),children:E?" Hide Preview":" Show Preview"}),c.jsx("button",{className:"reset-btn",onClick:()=>b(M.code),children:" Reset Code"})]}),E&&c.jsxs("div",{className:"try-preview",children:[c.jsx("h4",{children:"Preview:"}),c.jsx("div",{className:"preview-output",dangerouslySetInnerHTML:{__html:T}})]})]}),c.jsxs("section",{className:"study-section key-takeaways",children:[c.jsx("h3",{children:" Key Takeaways"}),c.jsx("ul",{className:"takeaways-list",children:M.bullets.slice(0,3).map((P,q)=>c.jsx("li",{children:P},q))})]}),c.jsxs("div",{className:"lesson-navigation",children:[c.jsx("button",{className:"nav-btn prev-btn",onClick:Hh,disabled:cs,children:" Previous"}),c.jsx("button",{className:"nav-btn next-btn",onClick:Bh,disabled:xl,children:"Next "})]})]})})]})}),d&&c.jsx(av,{onClose:()=>m(!1)})]})};const lv=()=>{const{user:t,loading:e}=$i(),[n,r]=I.useState(null),[s,i]=I.useState("study");return e?c.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:c.jsxs("div",{style:{textAlign:"center"},children:[c.jsx("div",{style:{fontSize:"18px",color:"#667eea",marginBottom:"20px"},children:"Loading..."}),c.jsx("div",{style:{width:"40px",height:"40px",border:"4px solid #f0f0f0",borderTop:"4px solid #667eea",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto"}})]})}):c.jsx("div",{className:"app",children:t?s==="quiz"&&n!==null?c.jsx(iv,{questionId:n,onBack:()=>{r(null),i("study")}}):s==="study"?c.jsx(lc,{onBack:()=>i("study"),onSelectQuestion:o=>{r(o),i("quiz")}}):c.jsx(lc,{onBack:()=>i("study"),onSelectQuestion:o=>{r(o),i("quiz")}}):c.jsx(nv,{onAuthSuccess:()=>{}})})},uv=()=>c.jsx(Xy,{children:c.jsx(lv,{})});ko.createRoot(document.getElementById("root")).render(c.jsx(Sr.StrictMode,{children:c.jsx(uv,{})}));
